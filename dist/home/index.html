<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>å‘½å®šä¹‹è¯—ä¸é»„æ˜ä¹‹æ­Œ</title><script type="module">import{default as e}from'https://testingcf.jsdelivr.net/npm/json5/+esm';var t={128(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},a={};const n=Vue;function l(){const e=window.top?.TavernHelper.getCharWorldbookNames('current');return e?e.primary:null}async function o(e,t){const a=await async function(e){if(!e)return;const t=await(window.top?.TavernHelper.getWorldbook(e));return t?t.map(e=>({name:e.name,enabled:e.enabled})):void 0}(t);return a&&0!==a.length?a.filter(t=>e.test(t.name)).map(e=>({name:e.name,enabled:e.enabled})):[]}async function s(e,t){if(!t)return;if(!t)throw new Error('No worldbook bound to current character');const a=new Map(e.map(e=>[e.name,e.enabled]));await(window.top?.TavernHelper.updateWorldbookWith(t,e=>e.map(e=>{const t=a.get(e.name);return void 0!==t?{...e,enabled:t}:e})))}const c='è¿™æ˜¯ä»€ä¹ˆæ¯',r='ç‰¹åˆ«æ¨è',i=/^å‘½å®šç³»ç»Ÿ-/,u=/\(([^)]*)\)$/,d={coreOptions:[],localCoreSelections:new Map,tabs:[],activeTab:''};let v=null,m=null;const p='https://testingcf.jsdelivr.net/gh/The-poem-of-destiny/FrontEnd-for-destined-journey@1.5.13/public/assets/data';async function f(){const t=await async function(){if(null!==v)return v;try{const t=await fetch(`${p}/coreClassification.json`);if(!t.ok)return console.log('æœªæ‰¾åˆ°æ ¸å¿ƒåˆ†ç±»æ•°æ®æ–‡ä»¶ (coreClassification.json)'),{};const a=await t.text(),n=e.parse(a);return console.log('æˆåŠŸåŠ è½½æ ¸å¿ƒåˆ†ç±»æ•°æ®'),v=n,n}catch(e){return console.log('æœªæ‰¾åˆ°æ ¸å¿ƒåˆ†ç±»æ•°æ®æˆ–æ ¼å¼é”™è¯¯:',e),{}}}();if(!t||'object'!=typeof t)return[r,c];const a=Object.keys(t).filter(e=>t[e]&&'object'==typeof t[e]);return 0===a.length?[r,c]:[r,...a,c]}function b(e,t){const a=v??void 0,n=[];let l='';if(a&&'object'==typeof a)for(const o of t){if(o===c||o===r)continue;const t=a[o];t&&'object'==typeof t&&e in t&&(n.push(o),!l&&t[e]?.note&&(l=t[e].note))}return 0===n.length?{tabs:[c],note:''}:{tabs:n,note:l}}function g(e){for(const[t,a]of e)if(a)return t;return null}async function k(e={}){const t=await f(),a=l(),n=await o(i,a),s=function(e,t){const a=[];let n=0;for(const[l,o]of Object.entries(e)){if(n>=3)break;const e=l.replace(/^å‘½å®šç³»ç»Ÿ-/,''),s=e.match(/\(([^)]*)\)$/),c=s?s[1]:'',r=e.replace(/\(([^)]*)\)$/,'');a.push({value:l,label:r,author:c,specialNote:o.note,available:t.has(l)}),n++}return a}(e,new Set(n.map(e=>e.name))),c=new Set(s.filter(e=>e.available).map(e=>e.value)),d=n.map(e=>{const a=e.name.replace(i,''),n=a.match(u),l=n?n[1]:'',o=a.replace(u,''),d=b(o,t),v=[...d.tabs];let m='';if(c.has(e.name)){v.unshift(r);const t=s.find(t=>t.value===e.name);m=t?.specialNote||''}return{value:e.name,label:o,author:l,enabled:e.enabled,tabs:v,note:d.note,specialNote:m}}),v=new Map(d.map(e=>[e.value,e.enabled])),m=t[0]||r;return{coreOptions:d,localCoreSelections:v,tabs:t,activeTab:m,bookName:a,specialRecommendCoreList:s}}const E={class:'core-page'},h={class:'control-panel-container'},y={class:'tab-navigation'},N=['disabled'],V={class:'tab-buttons-container'},w=['onClick'],C={class:'tab-label'},x={key:0,class:'tab-count'},B=['disabled'],S=['disabled'],T={class:'tab-content'},D={class:'control-group'},M={key:0,class:'loading-text'},K={key:1,class:'empty-text'},q={class:'special-recommend-container'},O={class:'special-recommend-cards'},L=['onClick'],j={key:0,class:'card-overlay'},A={class:'card-content'},P={class:'card-label'},I={key:0,class:'card-author'},F={class:'card-note'},R={class:'control-buttons'},H=['onClick'],W={key:0,class:'core-author'},U={key:1,class:'core-note'},J={class:'step-footer'},G=['disabled'],Y=['disabled'],Q=(0,n.defineComponent)({__name:'CorePage',emits:['prev','next'],setup(t,{emit:a}){const l=a,o=(0,n.ref)(!1),c=(0,n.ref)(!1),i=(0,n.ref)([...d.tabs]),u=(0,n.ref)(d.activeTab),v=(0,n.ref)([...d.coreOptions]),f=(0,n.ref)(new Map(d.localCoreSelections)),b=(0,n.ref)(null),Q=(0,n.ref)([]),X=(0,n.ref)(0),Z=(0,n.computed)(()=>g(f.value)),ee=(0,n.computed)(()=>u.value===r),te=(0,n.computed)(()=>i.value.length>4),ae=(0,n.computed)(()=>te.value?i.value.slice(X.value,X.value+4):i.value);function ne(){X.value>0&&(X.value=Math.max(0,X.value-4))}function le(){X.value+4<i.value.length&&(X.value=Math.min(i.value.length-4,X.value+4))}function oe(e){return function(e,t){return e.filter(e=>e.tabs.includes(t))}(v.value,e)}async function se(){o.value=!0;try{const t=await async function(){if(null!==m)return m;try{const t=await fetch(`${p}/SPECIAL_RECOMMEND_CORES.json`);if(!t.ok)return console.log('æœªæ‰¾åˆ°ç‰¹åˆ«æ¨èæ ¸å¿ƒæ•°æ®æ–‡ä»¶ (SPECIAL_RECOMMEND_CORES.json)'),{};const a=await t.text(),n=e.parse(a);return console.log('æˆåŠŸåŠ è½½ç‰¹åˆ«æ¨èæ ¸å¿ƒæ•°æ®'),m=n,n}catch(e){return console.log('æœªæ‰¾åˆ°ç‰¹åˆ«æ¨èæ ¸å¿ƒæ•°æ®æˆ–æ ¼å¼é”™è¯¯:',e),{}}}(),a=await k(t);i.value=a.tabs,v.value=a.coreOptions,f.value=a.localCoreSelections,u.value=a.activeTab,b.value=a.bookName,Q.value=a.specialRecommendCoreList}catch(e){console.error('åŠ è½½æ ¸å¿ƒåˆ—è¡¨å¤±è´¥:',e),i.value=[],v.value=[],f.value=new Map,b.value=null,Q.value=[]}finally{o.value=!1}}async function ce(){await se()}function re(e){f.value=function(e,t){if(g(e)===t)return e;const a=new Map;for(const[n]of e)a.set(n,n===t);return a}(f.value,e)}async function ie(){c.value=!0;try{b.value&&(v.value=await async function(e,t,a){if(!function(e,t){for(const a of e)if((t.get(a.value)??!1)!==a.enabled)return!0;return!1}(e,t))return e;const n=Array.from(t).map(([e,t])=>({name:e,enabled:t}));return await s(n,a),e.map(e=>({...e,enabled:t.get(e.value)??!1}))}(v.value,f.value,b.value))}catch(e){console.error('ä¿å­˜æ ¸å¿ƒé€‰æ‹©å¤±è´¥:',e)}finally{c.value=!1}l('next')}return(0,n.watch)(u,e=>{const t=i.value.indexOf(e);-1!==t&&te.value&&(t<X.value?X.value=t:t>=X.value+4&&(X.value=t-4+1))}),(0,n.onMounted)(()=>{se()}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',E,[t[5]||(t[5]=(0,n.createElementVNode)('h2',{class:'main-title'},'æ ¸å¿ƒé€‰æ‹©',-1)),(0,n.createElementVNode)('div',h,[(0,n.createCommentVNode)(' Tab å¯¼èˆª '),(0,n.createElementVNode)('div',y,[te.value?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:0,class:'arrow-button',disabled:0===X.value,title:'ä¸Šä¸€é¡µ',onClick:ne},[...t[1]||(t[1]=[(0,n.createElementVNode)('span',null,'â€¹',-1)])],8,N)):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',V,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(ae.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e,class:(0,n.normalizeClass)(['tab-button',{active:u.value===e,'special-recommend-tab':e===(0,n.unref)(r)}]),onClick:t=>u.value=e},[(0,n.createElementVNode)('span',C,(0,n.toDisplayString)(e),1),e!==(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('span',x,'('+(0,n.toDisplayString)(oe(e).length)+')',1)):(0,n.createCommentVNode)('v-if',!0)],10,w))),128))]),te.value?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:1,class:'arrow-button',disabled:X.value+4>=i.value.length,title:'ä¸‹ä¸€é¡µ',onClick:le},[...t[2]||(t[2]=[(0,n.createElementVNode)('span',null,'â€º',-1)])],8,B)):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('button',{class:'refresh-button',disabled:o.value,title:'åˆ·æ–°æ ¸å¿ƒåˆ—è¡¨',onClick:ce},[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)({'is-spinning':o.value})},'âŸ³',2)],8,S)]),(0,n.createElementVNode)('div',T,[(0,n.createElementVNode)('div',D,[o.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',M,'æ­£åœ¨åŠ è½½æ ¸å¿ƒåˆ—è¡¨...')):0===v.value.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',K,'æœªæ‰¾åˆ°å¯ç”¨çš„æ ¸å¿ƒ')):ee.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[(0,n.createCommentVNode)(' ç‰¹åˆ«æ¨èæ˜¾ç¤º - ç‰¹æ®Šå¡ç‰‡å¸ƒå±€ '),(0,n.createElementVNode)('div',q,[t[3]||(t[3]=(0,n.createStaticVNode)('<div class="recommend-hero-section" data-v-955173c2><div class="hero-icon" data-v-955173c2>âœ¦</div><div class="hero-content" data-v-955173c2><h3 class="hero-title" data-v-955173c2>æœ¬å‘¨ç²¾é€‰</h3><p class="hero-subtitle" data-v-955173c2>ç”±<s data-v-955173c2>ç¤¾åŒº</s>ä¸ç¼–è¾‘å…±åŒç”„é€‰çš„ä¼˜è´¨(?)æ ¸å¿ƒ</p></div><div class="hero-divider" data-v-955173c2></div></div>',1)),(0,n.createElementVNode)('div',O,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(Q.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.value,class:(0,n.normalizeClass)(['special-recommend-card',{unavailable:!e.available,selected:Z.value===e.value}]),onClick:t=>e.available&&re(e.value)},[e.available?(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)('div',j)),(0,n.createElementVNode)('div',A,[(0,n.createElementVNode)('div',P,(0,n.toDisplayString)(e.label),1),e.author?((0,n.openBlock)(),(0,n.createElementBlock)('div',I,(0,n.toDisplayString)(e.author),1)):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',F,[e.available?e.specialNote?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(e.specialNote),1)],64)):(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('ä¸å¯ç”¨')],64))])])],10,L))),128))])])],2112)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:3},[(0,n.createCommentVNode)(' æ™®é€šæ ¸å¿ƒæ˜¾ç¤º '),(0,n.createElementVNode)('div',R,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(oe(u.value),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.value,class:'control-item-wrapper'},[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['control-button',{selected:Z.value===e.value}]),onClick:t=>re(e.value)},(0,n.toDisplayString)(e.label),11,H),e.author?((0,n.openBlock)(),(0,n.createElementBlock)('div',W,(0,n.toDisplayString)(e.author),1)):(0,n.createCommentVNode)('v-if',!0),e.note?((0,n.openBlock)(),(0,n.createElementBlock)('div',U,(0,n.toDisplayString)(e.note),1)):(0,n.createCommentVNode)('v-if',!0)]))),128))])],2112))])])]),(0,n.createElementVNode)('div',J,[(0,n.createElementVNode)('button',{class:'nav-button',disabled:c.value,onClick:t[0]||(t[0]=t=>e.$emit('prev'))},[...t[4]||(t[4]=[(0,n.createElementVNode)('span',null,'ä¸Šä¸€æ­¥',-1)])],8,G),(0,n.createElementVNode)('button',{class:'nav-button',disabled:!Z.value||o.value||c.value,onClick:ie},[(0,n.createElementVNode)('span',null,(0,n.toDisplayString)(c.value?'ä¿å­˜ä¸­...':'ä¸‹ä¸€æ­¥'),1)],8,Y)])]))}});var X=function e(n){var l=a[n];if(void 0!==l)return l.exports;var o=a[n]={exports:{}};return t[n](o,o.exports,e),o.exports}(128);const Z=(0,X.A)(Q,[['__scopeId','data-v-955173c2']]);function ee(e,t){return e.localeCompare(t,'zh-CN',{sensitivity:'base'})}const te=/^\[è§’è‰²\]/,ae=/^(.+?)(?:\(([^)]+)\))?$/,ne={characterOptions:[],localCharacterSelections:new Map},le=/^\[äº‹ä»¶\]/,oe=/^(\[äº‹ä»¶\]\[[^\]]+\])/,se=/^\[äº‹ä»¶\]\[([^\]]+)\]/,ce=/\(([^)]+)\)(?=[^()]*$)/,re={eventOptions:[],localEventSelections:new Map},ie=/^\[æ‰©å±•\]/,ue=/^(\[æ‰©å±•\]\[[^\]]+\])/,de=/^\[æ‰©å±•\]\[([^\]]+)\]/,ve=/\[!([^\]]+)\]/g,me=/\[>([^\]]+)\]/g,pe=/\[<([^\]]+)\]/g,fe={extensionOptions:[],localExtensionSelections:new Map};async function be(){const e=l(),t=(await o(te,e)).map(e=>{const{label:t,author:a,info:n}=function(e){const t=e.replace(te,''),a=t.match(ae);if(a){const e=a[2]?.trim()||'',t=e.indexOf('-');return t>0?{label:a[1].trim(),author:e.substring(0,t).trim(),info:e.substring(t+1).trim()}:{label:a[1].trim(),author:e,info:''}}return{label:t,author:'',info:''}}(e.name);return{value:e.name,label:t,author:a,info:n,enabled:e.enabled}}),a=(n=t,[...n].sort((e,t)=>ee(e.label,t.label)));var n;const s=new Map(a.map(e=>[e.value,e.enabled]));return{characterOptions:a,localCharacterSelections:s,bookName:e}}function ge(e){const t=e.match(oe);return t?t[1]:null}function ke(e){const t=e.match(se);return t?t[1]:e}function Ee(e){for(const t of e){const e=t.name.match(ce);if(e){const t=e[1].trim(),a=t.indexOf('-');return a>0?{author:t.substring(0,a).trim(),info:t.substring(a+1).trim()}:{author:t,info:''}}}return{author:'',info:''}}async function he(){const e=l(),t=await o(le,e),a=new Map;for(const e of t){const t=ge(e.name);t&&(a.has(t)||a.set(t,[]),a.get(t).push({name:e.name,enabled:e.enabled}))}const n=[];for(const[e,t]of a){const a=t.every(e=>e.enabled),{author:l,info:o}=Ee(t);n.push({eventKey:e,label:ke(e),author:l,info:o,entries:t,enabled:a})}const s=(c=n,[...c].sort((e,t)=>ee(e.label,t.label)));var c;const r=new Map(s.map(e=>[e.eventKey,e.enabled]));return{eventOptions:s,localEventSelections:r,bookName:e}}function ye(e){const t=e.match(ue);return t?t[1]:null}function Ne(e){const t=e.match(de);return t?t[1]:e}function Ve(e){const t=[],a=new RegExp(ve.source,'g');let n;for(;null!==(n=a.exec(e));)t.push(n[1]);return t}function we(e){const t=[],a=new RegExp(me.source,'g');let n;for(;null!==(n=a.exec(e));)t.push(n[1]);return t}function Ce(e){const t=[],a=new RegExp(pe.source,'g');let n;for(;null!==(n=a.exec(e));)t.push(n[1]);return t}function xe(e){const t=new Set;for(const a of e){Ve(a.name).forEach(e=>t.add(e))}return Array.from(t)}function Be(e){const t=new Set;for(const a of e){we(a.name).forEach(e=>t.add(e))}return Array.from(t)}function Se(e){const t=new Set;for(const a of e){Ce(a.name).forEach(e=>t.add(e))}return Array.from(t)}function Te(e){for(const t of e){const e=t.name.match(ce);if(e){const t=e[1].trim(),a=t.indexOf('-');return a>0?{author:t.substring(0,a).trim(),info:t.substring(a+1).trim()}:{author:t,info:''}}}return{author:'',info:''}}async function De(){const e=l(),t=await o(ie,e),a=new Map;for(const e of t){const t=ye(e.name);t&&(a.has(t)||a.set(t,[]),a.get(t).push({name:e.name,enabled:e.enabled}))}const n=[];for(const[e,t]of a){const a=t.every(e=>e.enabled),{author:l,info:o}=Te(t);n.push({extensionKey:e,label:Ne(e),author:l,info:o,exclusionTargets:xe(t),replacementTargets:Be(t),prerequisiteTargets:Se(t),entries:t,enabled:a})}const s=(c=n,[...c].sort((e,t)=>ee(e.label,t.label)));var c;const r=new Map(s.map(e=>[e.extensionKey,e.enabled]));return{extensionOptions:s,localExtensionSelections:r,bookName:e}}async function _e(e,t,a){if(!function(e,t){for(const a of e)if((t.get(a.extensionKey)??!1)!==a.enabled)return!0;return!1}(e,t))return e;const n=new Map(e.map(e=>[e.extensionKey,e.enabled])),l=[];for(const a of e){const e=t.get(a.extensionKey)??!1;for(const t of a.entries)l.push({name:t.name,enabled:e})}const c=function(e,t){const a=[];for(const n of e)t.get(n.extensionKey)&&n.exclusionTargets.length>0&&a.push(...n.exclusionTargets);return[...new Set(a)]}(e,t),r=function(e,t){const a=[];for(const n of e)t.get(n.extensionKey)&&n.replacementTargets.length>0&&a.push(...n.replacementTargets);return[...new Set(a)]}(e,t),i=function(e,t,a){const n=[];for(const l of e){const e=t.get(l.extensionKey)??!1,o=a.get(l.extensionKey)??!1;!e&&o&&l.replacementTargets.length>0&&n.push(...l.replacementTargets)}return[...new Set(n)]}(e,t,n),u=i.filter(e=>!r.includes(e)&&!c.includes(e));if(c.length>0)for(const e of c){const t=new RegExp(`\\[${Me(e)}\\]`),n=await o(t,a);for(const e of n){const t=l.findIndex(t=>t.name===e.name);-1===t?l.push({name:e.name,enabled:!1}):l[t].enabled=!1}}if(r.length>0)for(const e of r){const t=new RegExp(`\\[${Me(e)}\\]`),n=await o(t,a);for(const e of n){const t=l.findIndex(t=>t.name===e.name);-1===t?l.push({name:e.name,enabled:!1}):l[t].enabled=!1}}if(u.length>0)for(const e of u){const t=new RegExp(`\\[${Me(e)}\\]`),n=await o(t,a);for(const e of n){const t=l.findIndex(t=>t.name===e.name);-1===t?l.push({name:e.name,enabled:!0}):!1!==l[t].enabled&&(l[t].enabled=!0)}}return await s(l,a),e.map(e=>{const a=t.get(e.extensionKey)??!1;return{...e,enabled:a,entries:e.entries.map(e=>({...e,enabled:a}))}})}function Me(e){return e.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')}const Ke={class:'settings-page'},qe={class:'control-panel-container'},Oe={class:'tab-navigation'},$e=['disabled'],Le={class:'search-container'},je={class:'tab-content'},Ae={class:'control-group'},ze={key:0,class:'loading-text'},Pe={key:1,class:'empty-text'},Ie={key:2,class:'list-detail-layout'},Fe={class:'item-list'},Re=['onClick'],He={class:'item-detail'},We={class:'detail-name'},Ue={class:'detail-row'},Je={class:'detail-value'},Ge={class:'detail-row'},Ye={class:'detail-value'},Qe={class:'detail-actions'},Xe={key:1,class:'detail-placeholder'},Ze={class:'control-group'},et={key:0,class:'loading-text'},tt={key:1,class:'empty-text'},at={key:2,class:'list-detail-layout'},nt={class:'item-list'},lt=['onClick'],ot={class:'item-detail'},st={class:'detail-name'},ct={class:'detail-row'},rt={class:'detail-value'},it={class:'detail-row'},ut={class:'detail-value'},dt={class:'detail-row'},vt={class:'detail-value'},mt={class:'detail-actions'},pt={key:1,class:'detail-placeholder'},ft={class:'control-group'},bt={key:0,class:'loading-text'},gt={key:1,class:'empty-text'},kt={key:2,class:'list-detail-layout'},Et={class:'item-list'},ht=['onClick'],yt={class:'item-detail'},Nt={class:'detail-name'},Vt={class:'detail-row'},wt={class:'detail-value'},Ct={class:'detail-row'},xt={class:'detail-value'},Bt={key:0,class:'detail-row'},St={class:'detail-value exclusion-hint'},Tt={key:1,class:'detail-row'},Dt={class:'detail-value replacement-hint'},_t={key:2,class:'detail-row'},Mt={class:'detail-value prerequisite-hint'},Kt={class:'detail-row'},qt={class:'detail-value'},Ot={class:'detail-actions'},$t={key:1,class:'detail-placeholder'},Lt={class:'step-footer'},jt=['disabled'],At=(0,n.defineComponent)({__name:'DLCManagementPage',emits:['next'],setup(e,{emit:t}){const a=t,l=(0,n.ref)(!1),o=(0,n.ref)(!1),c=(0,n.ref)('characters'),r=(0,n.ref)(''),i=(0,n.ref)(null),u=(0,n.ref)(null),d=(0,n.ref)(null),v=(0,n.ref)([...ne.characterOptions]),m=(0,n.ref)(new Map(ne.localCharacterSelections)),p=(0,n.ref)([...re.eventOptions]),f=(0,n.ref)(new Map(re.localEventSelections)),b=(0,n.ref)([...fe.extensionOptions]),g=(0,n.ref)(new Map(fe.localExtensionSelections)),k=(0,n.ref)(null),E=(0,n.computed)(()=>{const e=r.value.toLowerCase();return e?v.value.filter(t=>`${t.label} ${t.author||''} ${t.info||''}`.toLowerCase().includes(e)):v.value}),h=(0,n.computed)(()=>{const e=r.value.toLowerCase();return e?p.value.filter(t=>`${t.label} ${t.author||''} ${t.info||''}`.toLowerCase().includes(e)):p.value}),y=(0,n.computed)(()=>{const e=r.value.toLowerCase();return e?b.value.filter(t=>`${t.label} ${t.author||''} ${t.info||''}`.toLowerCase().includes(e)):b.value}),N=(0,n.computed)(()=>i.value&&v.value.find(e=>e.value===i.value)||null),V=(0,n.computed)(()=>u.value&&p.value.find(e=>e.eventKey===u.value)||null),w=(0,n.computed)(()=>d.value&&b.value.find(e=>e.extensionKey===d.value)||null);async function C(){l.value=!0;try{const[e,t,a]=await Promise.all([be(),he(),De()]);v.value=e.characterOptions,m.value=e.localCharacterSelections,k.value=e.bookName,p.value=t.eventOptions,f.value=t.localEventSelections,b.value=a.extensionOptions,g.value=a.localExtensionSelections}catch(e){console.error('åŠ è½½DLCæ•°æ®å¤±è´¥:',e),v.value=[],m.value=new Map,p.value=[],f.value=new Map,b.value=[],g.value=new Map,k.value=null}finally{l.value=!1}}async function x(){await C()}function B(e){m.value=function(e,t){const a=new Map(e),n=a.get(t)??!1;return a.set(t,!n),a}(m.value,e)}function S(e){f.value=function(e,t){const a=new Map(e),n=a.get(t)??!1;return a.set(t,!n),a}(f.value,e)}function T(e){const t=function(e,t,a){const n=new Map(e),l=!n.get(a),o=t.find(e=>e.extensionKey===a);if(l&&o&&o.prerequisiteTargets.length>0){const{satisfied:a,missingPrerequisites:l}=function(e,t,a){const n=[];for(const l of a){const a=e.find(e=>e.extensionKey.includes(`[${l}]`));a&&t.get(a.extensionKey)||n.push(l)}return{satisfied:0===n.length,missingPrerequisites:n}}(t,n,o.prerequisiteTargets);if(!a)return{selections:e,success:!1,error:`ç¼ºå°‘å‰ç½®éœ€æ±‚: ${l.join(', ')}`,missingPrerequisites:l}}if(n.set(a,l),l&&o)for(const e of o.exclusionTargets)for(const l of t)l.extensionKey===a||l.label!==e&&!l.extensionKey.includes(`[${e}]`)||n.set(l.extensionKey,!1);if(!l&&o)for(const e of t)e.extensionKey!==a&&n.get(e.extensionKey)&&e.prerequisiteTargets.includes(o.label)&&n.set(e.extensionKey,!1);return{selections:n,success:!0}}(g.value,b.value,e);t.success?g.value=t.selections:alert(t.error||'æ“ä½œå¤±è´¥')}async function D(){o.value=!0;try{if(k.value){const e=await async function(e,t,a){if(!function(e,t){for(const a of e)if((t.get(a.value)??!1)!==a.enabled)return!0;return!1}(e,t))return e;const n=Array.from(t).map(([e,t])=>({name:e,enabled:t}));return await s(n,a),e.map(e=>({...e,enabled:t.get(e.value)??!1}))}(v.value,m.value,k.value);v.value=e;const t=await async function(e,t,a){if(!function(e,t){for(const a of e)if((t.get(a.eventKey)??!1)!==a.enabled)return!0;return!1}(e,t))return e;const n=[];for(const a of e){const e=t.get(a.eventKey)??!1;for(const t of a.entries)n.push({name:t.name,enabled:e})}return await s(n,a),e.map(e=>{const a=t.get(e.eventKey)??!1;return{...e,enabled:a,entries:e.entries.map(e=>({...e,enabled:a}))}})}(p.value,f.value,k.value);p.value=t;const a=await _e(b.value,g.value,k.value);b.value=a}}catch(e){console.error('ä¿å­˜DLCé€‰æ‹©å¤±è´¥:',e)}finally{o.value=!1}a('next')}return(0,n.watch)(c,()=>{r.value='',i.value=null,u.value=null,d.value=null}),(0,n.onMounted)(()=>{C()}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Ke,[t[22]||(t[22]=(0,n.createElementVNode)('h2',{class:'main-title'},'DLC ç®¡ç†',-1)),(0,n.createElementVNode)('div',qe,[(0,n.createCommentVNode)(' Tab å¯¼èˆª '),(0,n.createElementVNode)('div',Oe,[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['tab-button',{active:'characters'===c.value}]),onClick:t[0]||(t[0]=e=>{c.value='characters',i.value=null})},[...t[7]||(t[7]=[(0,n.createElementVNode)('span',{class:'tab-label'},'è§’è‰²',-1)])],2),(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['tab-button',{active:'events'===c.value}]),onClick:t[1]||(t[1]=e=>{c.value='events',u.value=null})},[...t[8]||(t[8]=[(0,n.createElementVNode)('span',{class:'tab-label'},'äº‹ä»¶',-1)])],2),(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['tab-button',{active:'extensions'===c.value}]),onClick:t[2]||(t[2]=e=>{c.value='extensions',d.value=null})},[...t[9]||(t[9]=[(0,n.createElementVNode)('span',{class:'tab-label'},'æ‰©å±•',-1)])],2),(0,n.createElementVNode)('button',{class:'refresh-button',disabled:l.value,title:'åˆ·æ–°åˆ—è¡¨',onClick:x},[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)({'is-spinning':l.value})},'âŸ³',2)],8,$e)]),(0,n.createCommentVNode)(' æœç´¢æ¡† '),(0,n.createElementVNode)('div',Le,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':t[3]||(t[3]=e=>r.value=e),type:'text',class:'dlc-search',placeholder:'ğŸ” æœç´¢...'},null,512),[[n.vModelText,r.value]])]),(0,n.createCommentVNode)(' Tab å†…å®¹åŒºåŸŸ '),(0,n.createElementVNode)('div',je,[(0,n.createCommentVNode)(' è§’è‰²åˆ—è¡¨ (DLC - Characters) '),(0,n.withDirectives)((0,n.createElementVNode)('div',Ae,[l.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',ze,'æ­£åœ¨åŠ è½½è§’è‰²åˆ—è¡¨...')):0===v.value.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',Pe,'æœªæ‰¾åˆ°å¯ç”¨çš„è§’è‰²')):((0,n.openBlock)(),(0,n.createElementBlock)('div',Ie,[(0,n.createElementVNode)('div',Fe,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(E.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.value,class:(0,n.normalizeClass)(['list-item',{'toggled-on':m.value.get(e.value),selected:i.value===e.value}]),onClick:t=>i.value=e.value},(0,n.toDisplayString)(e.label),11,Re))),128))]),(0,n.createElementVNode)('div',He,[i.value&&N.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('h3',We,(0,n.toDisplayString)(N.value.label),1),(0,n.createElementVNode)('div',Ue,[t[10]||(t[10]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä½œè€…:',-1)),(0,n.createElementVNode)('span',Je,(0,n.toDisplayString)(N.value.author||'æœªçŸ¥'),1)]),(0,n.createElementVNode)('div',Ge,[t[11]||(t[11]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä¿¡æ¯:',-1)),(0,n.createElementVNode)('span',Ye,(0,n.toDisplayString)(N.value.info||'æ— '),1)]),(0,n.createElementVNode)('div',Qe,[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['toggle-btn',{'toggled-on':m.value.get(i.value)}]),onClick:t[4]||(t[4]=e=>B(i.value))},(0,n.toDisplayString)(m.value.get(i.value)?'å·²å¯ç”¨':'å·²ç¦ç”¨'),3)])],64)):((0,n.openBlock)(),(0,n.createElementBlock)('div',Xe,'è¯·é€‰æ‹©ä¸€ä¸ªè§’è‰²æŸ¥çœ‹è¯¦æƒ…'))])]))],512),[[n.vShow,'characters'===c.value]]),(0,n.createCommentVNode)(' äº‹ä»¶å¼€å…³ (DLC - Events) '),(0,n.withDirectives)((0,n.createElementVNode)('div',Ze,[l.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',et,'æ­£åœ¨åŠ è½½äº‹ä»¶åˆ—è¡¨...')):0===p.value.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',tt,'æœªæ‰¾åˆ°å¯ç”¨çš„äº‹ä»¶')):((0,n.openBlock)(),(0,n.createElementBlock)('div',at,[(0,n.createElementVNode)('div',nt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(h.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.eventKey,class:(0,n.normalizeClass)(['list-item',{'toggled-on':f.value.get(e.eventKey),selected:u.value===e.eventKey}]),onClick:t=>u.value=e.eventKey},(0,n.toDisplayString)(e.label),11,lt))),128))]),(0,n.createElementVNode)('div',ot,[u.value&&V.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('h3',st,(0,n.toDisplayString)(V.value.label),1),(0,n.createElementVNode)('div',ct,[t[12]||(t[12]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä½œè€…:',-1)),(0,n.createElementVNode)('span',rt,(0,n.toDisplayString)(V.value.author||'æœªçŸ¥'),1)]),(0,n.createElementVNode)('div',it,[t[13]||(t[13]=(0,n.createElementVNode)('span',{class:'detail-label'},'å¤§å°:',-1)),(0,n.createElementVNode)('span',ut,(0,n.toDisplayString)(V.value.entries.length)+' ä¸ªæ¡ç›®',1)]),(0,n.createElementVNode)('div',dt,[t[14]||(t[14]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä¿¡æ¯:',-1)),(0,n.createElementVNode)('span',vt,(0,n.toDisplayString)(V.value.info||'æ— '),1)]),(0,n.createElementVNode)('div',mt,[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['toggle-btn',{'toggled-on':f.value.get(u.value)}]),onClick:t[5]||(t[5]=e=>S(u.value))},(0,n.toDisplayString)(f.value.get(u.value)?'å·²å¯ç”¨':'å·²ç¦ç”¨'),3)])],64)):((0,n.openBlock)(),(0,n.createElementBlock)('div',pt,'è¯·é€‰æ‹©ä¸€ä¸ªäº‹ä»¶æŸ¥çœ‹è¯¦æƒ…'))])]))],512),[[n.vShow,'events'===c.value]]),(0,n.createCommentVNode)(' æ‰©å±•å¼€å…³ (DLC - Extension) '),(0,n.withDirectives)((0,n.createElementVNode)('div',ft,[l.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',bt,'æ­£åœ¨åŠ è½½æ‰©å±•åˆ—è¡¨...')):0===b.value.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',gt,'æœªæ‰¾åˆ°å¯ç”¨çš„æ‰©å±•')):((0,n.openBlock)(),(0,n.createElementBlock)('div',kt,[(0,n.createElementVNode)('div',Et,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(y.value,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.extensionKey,class:(0,n.normalizeClass)(['list-item',{'toggled-on':g.value.get(e.extensionKey),selected:d.value===e.extensionKey}]),onClick:t=>d.value=e.extensionKey},(0,n.toDisplayString)(e.label),11,ht))),128))]),(0,n.createElementVNode)('div',yt,[d.value&&w.value?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('h3',Nt,(0,n.toDisplayString)(w.value.label),1),(0,n.createElementVNode)('div',Vt,[t[15]||(t[15]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä½œè€…:',-1)),(0,n.createElementVNode)('span',wt,(0,n.toDisplayString)(w.value.author||'æœªçŸ¥'),1)]),(0,n.createElementVNode)('div',Ct,[t[16]||(t[16]=(0,n.createElementVNode)('span',{class:'detail-label'},'å¤§å°:',-1)),(0,n.createElementVNode)('span',xt,(0,n.toDisplayString)(w.value.entries.length)+' ä¸ªæ¡ç›®',1)]),w.value.exclusionTargets.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Bt,[t[17]||(t[17]=(0,n.createElementVNode)('span',{class:'detail-label'},'äº’æ–¥:',-1)),(0,n.createElementVNode)('span',St,(0,n.toDisplayString)(w.value.exclusionTargets.join(', ')),1)])):(0,n.createCommentVNode)('v-if',!0),w.value.replacementTargets.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Tt,[t[18]||(t[18]=(0,n.createElementVNode)('span',{class:'detail-label'},'æ›¿æ¢:',-1)),(0,n.createElementVNode)('span',Dt,(0,n.toDisplayString)(w.value.replacementTargets.join(', ')),1)])):(0,n.createCommentVNode)('v-if',!0),w.value.prerequisiteTargets.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',_t,[t[19]||(t[19]=(0,n.createElementVNode)('span',{class:'detail-label'},'å‰ç½®:',-1)),(0,n.createElementVNode)('span',Mt,(0,n.toDisplayString)(w.value.prerequisiteTargets.join(', ')),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',Kt,[t[20]||(t[20]=(0,n.createElementVNode)('span',{class:'detail-label'},'ä¿¡æ¯:',-1)),(0,n.createElementVNode)('span',qt,(0,n.toDisplayString)(w.value.info||'æ— '),1)]),(0,n.createElementVNode)('div',Ot,[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['toggle-btn',{'toggled-on':g.value.get(d.value)}]),onClick:t[6]||(t[6]=e=>T(d.value))},(0,n.toDisplayString)(g.value.get(d.value)?'å·²å¯ç”¨':'å·²ç¦ç”¨'),3)])],64)):((0,n.openBlock)(),(0,n.createElementBlock)('div',$t,'è¯·é€‰æ‹©ä¸€ä¸ªæ‰©å±•æŸ¥çœ‹è¯¦æƒ…'))])]))],512),[[n.vShow,'extensions'===c.value]])])]),(0,n.createElementVNode)('div',Lt,[t[21]||(t[21]=(0,n.createElementVNode)('div',null,null,-1)),(0,n.createElementVNode)('button',{class:'nav-button',disabled:l.value||o.value,onClick:D},[(0,n.createElementVNode)('span',null,(0,n.toDisplayString)(o.value?'ä¿å­˜ä¸­...':'ä¸‹ä¸€æ­¥'),1)],8,jt)])]))}}),zt=(0,X.A)(At,[['__scopeId','data-v-3fc414fa']]),Pt={tavernHelper:{version:null,status:'unknown',statusText:'åŠ è½½ä¸­...'},ejsTemplate:{status:'unknown',statusText:'åŠ è½½ä¸­...',enabledStatus:'unknown',enabledText:'åŠ è½½ä¸­...'},mvu:{status:'unknown',statusText:'åŠ è½½ä¸­...'},allOk:!1};function It(){const e=getTavernHelperVersion();if(!e)return{version:null,status:'error',statusText:'æœªæ‰¾åˆ°'};const t=function(e,t){if(!e||!t)return-1;const a=String(e),n=String(t),l=a.split('.').map(Number),o=n.split('.').map(Number),s=Math.max(l.length,o.length);for(let e=0;e<s;e++){const t=l[e]||0,a=o[e]||0;if(t>a)return 1;if(t<a)return-1}return 0}(e,'4.3.17')>=0;return{version:e,status:t?'ok':'warn',statusText:t?'æ­£å¸¸':'ç‰ˆæœ¬è¿‡ä½'}}async function Ft(){const e=It(),t=function(){try{const e=window.top?.SillyTavern.getContext(),t=e.extensionSettings.EjsTemplate;return t?{status:'ok',statusText:'å­˜åœ¨',enabled:t.enabled,enabledStatus:t.enabled?'ok':'warn',enabledText:t.enabled?'å·²å¯ç”¨':'æœªå¯ç”¨'}:{status:'error',statusText:'æœªæ£€æµ‹åˆ°',enabled:!1,enabledStatus:'unknown',enabledText:'---'}}catch(e){return{status:'error',statusText:'æ— æ³•è®¿é—®',enabled:!1,enabledStatus:'unknown',enabledText:'---'}}}(),a=await async function(){let e;try{const t=new Promise((_,t)=>{e=setTimeout(()=>{t(new Error('timed out'))},3e3)});return await Promise.race([waitGlobalInitialized('Mvu'),t]),clearTimeout(e),{status:'ok',statusText:'æ­£å¸¸'}}catch(t){return e&&clearTimeout(e),{status:'error',statusText:'å¼‚å¸¸/è¶…æ—¶'}}}();return{tavernHelper:e,ejsTemplate:t,mvu:a,allOk:'ok'===e.status&&'ok'===t.status&&'ok'===t.enabledStatus&&'ok'===a.status}}const Rt={class:'env-check-page'},Ht={class:'env-check-container'},Wt={class:'env-check-item'},Ut={class:'env-check-details'},Jt={class:'env-check-item'},Gt={class:'env-check-details'},Yt={class:'env-check-item'},Qt={class:'env-check-details'},Xt={class:'recheck-container'},Zt=['disabled'],ea={key:0,class:'success-message'},ta=(0,n.defineComponent)({__name:'EnvCheckPage',emits:['next','envCheckComplete'],setup(e,{emit:t}){const a=t,l=(0,n.ref)(!1),o=(0,n.ref)({...Pt});async function s(){l.value=!0;try{const e=await Ft();o.value=e,a('envCheckComplete',e)}catch(e){console.error('ç¯å¢ƒæ£€æŸ¥å¤±è´¥:',e)}finally{l.value=!1}}return(0,n.watch)(()=>o.value.allOk,e=>{e&&!l.value&&a('next')}),(0,n.onMounted)(()=>{s()}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Rt,[t[9]||(t[9]=(0,n.createElementVNode)('h2',{class:'main-title'},'ç¯å¢ƒæ£€æŸ¥',-1)),(0,n.createCommentVNode)(' ç¯å¢ƒæ£€æŸ¥éƒ¨åˆ† '),(0,n.createElementVNode)('div',Ht,[(0,n.createCommentVNode)(' é…’é¦†åŠ©æ‰‹ '),(0,n.createElementVNode)('div',Wt,[t[2]||(t[2]=(0,n.createElementVNode)('div',{class:'env-check-label'},[(0,n.createElementVNode)('span',{class:'icon'},'âš™ï¸'),(0,n.createElementVNode)('span',null,'é…’é¦†åŠ©æ‰‹')],-1)),(0,n.createElementVNode)('div',Ut,[(0,n.createElementVNode)('span',null,[t[0]||(t[0]=(0,n.createTextVNode)('ç‰ˆæœ¬: ',-1)),(0,n.createElementVNode)('strong',{class:(0,n.normalizeClass)('status-'+(o.value.tavernHelper.version?'ok':'unknown'))},(0,n.toDisplayString)(o.value.tavernHelper.version||'æœªçŸ¥'),3)]),(0,n.createElementVNode)('span',null,[t[1]||(t[1]=(0,n.createTextVNode)('çŠ¶æ€: ',-1)),(0,n.createElementVNode)('strong',{class:(0,n.normalizeClass)('status-'+o.value.tavernHelper.status)},(0,n.toDisplayString)(o.value.tavernHelper.statusText),3)])])]),(0,n.createCommentVNode)(' æç¤ºè¯æ¨¡æ¿ (EJS) '),(0,n.createElementVNode)('div',Jt,[t[5]||(t[5]=(0,n.createElementVNode)('div',{class:'env-check-label'},[(0,n.createElementVNode)('span',{class:'icon'},'ğŸ“„'),(0,n.createElementVNode)('span',null,'æç¤ºè¯æ¨¡æ¿ (EJS)')],-1)),(0,n.createElementVNode)('div',Gt,[(0,n.createElementVNode)('span',null,[t[3]||(t[3]=(0,n.createTextVNode)('çŠ¶æ€: ',-1)),(0,n.createElementVNode)('strong',{class:(0,n.normalizeClass)('status-'+o.value.ejsTemplate.status)},(0,n.toDisplayString)(o.value.ejsTemplate.statusText),3)]),(0,n.createElementVNode)('span',null,[t[4]||(t[4]=(0,n.createTextVNode)('å¯ç”¨?: ',-1)),(0,n.createElementVNode)('strong',{class:(0,n.normalizeClass)('status-'+o.value.ejsTemplate.enabledStatus)},(0,n.toDisplayString)(o.value.ejsTemplate.enabledText),3)])])]),(0,n.createCommentVNode)(' MVU æ¡†æ¶ '),(0,n.createElementVNode)('div',Yt,[t[7]||(t[7]=(0,n.createElementVNode)('div',{class:'env-check-label'},[(0,n.createElementVNode)('span',{class:'icon'},'ğŸ§©'),(0,n.createElementVNode)('span',null,'MVU æ¡†æ¶')],-1)),(0,n.createElementVNode)('div',Qt,[(0,n.createElementVNode)('span',null,[t[6]||(t[6]=(0,n.createTextVNode)('çŠ¶æ€: ',-1)),(0,n.createElementVNode)('strong',{class:(0,n.normalizeClass)('status-'+o.value.mvu.status)},(0,n.toDisplayString)(o.value.mvu.statusText),3)])])]),(0,n.createElementVNode)('div',Xt,[(0,n.createElementVNode)('button',{class:'recheck-button',disabled:l.value,onClick:s},(0,n.toDisplayString)(l.value?'æ£€æŸ¥ä¸­...':'é‡æ–°æ£€æŸ¥'),9,Zt)])]),(0,n.createCommentVNode)(' æ£€æŸ¥é€šè¿‡æç¤º '),(0,n.createVNode)(n.Transition,{name:'fade'},{default:(0,n.withCtx)(()=>[o.value.allOk&&!l.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',ea,[...t[8]||(t[8]=[(0,n.createElementVNode)('span',{class:'success-icon'},'âœ…',-1),(0,n.createElementVNode)('span',null,'ç¯å¢ƒæ£€æŸ¥é€šè¿‡ï¼Œæ­£åœ¨è·³è½¬...',-1)])])):(0,n.createCommentVNode)('v-if',!0)]),_:1})]))}}),aa=(0,X.A)(ta,[['__scopeId','data-v-1dbb7d39']]),na={class:'showcase-section'},la={class:'credits-container'},oa={class:'author-badges'},sa={class:'author-badges'},ca={class:'credits-special'},ra={__name:'ShowcaseSection',setup(e){const t=['@ğ•½ğ–ğ–ğ–˜_ğ–Ÿ_ç‘','@Yoyo514','@åä¸ƒ','@Hilo','@å¿«ä¹æŸ èŒèŒ¶','@ä¸‰é¥ºåˆå','@é“¶æ—¶è','@é•œæ¢¦å¹»','@é£è§å¹½æ³ ','@lili','@åŒ—æ¸¸','@ä»°æœ›æ˜Ÿç©º','@K1nn','@éšé£æ¸å˜','@Aoo','@é’ç š'],a=['@Kitaikuyo','@ç§‹å¤©çš„å’¸é±¼'],l=['@FLå·²æ”¾å¼ƒæ²»ç–—','@tongtny123','@willing','@è‚†ç¥€ä¸€ä¸€','@å¤§ä¹'];return(e,o)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',na,[(0,n.createCommentVNode)(' ä¸»æ ‡é¢˜ '),o[3]||(o[3]=(0,n.createElementVNode)('h1',{class:'page-super-title'},'å‘½å®šä¹‹è¯—ä¸é»„æ˜ä¹‹æ­Œ',-1)),o[4]||(o[4]=(0,n.createElementVNode)('p',{class:'page-subtitle-english'},'Destined Poetry & Twilight Song',-1)),o[5]||(o[5]=(0,n.createElementVNode)('hr',{class:'ornamental-divider'},null,-1)),(0,n.createCommentVNode)(' åˆ¶ä½œäººå‘˜å±•ç¤ºåŒº '),(0,n.createElementVNode)('div',la,[o[1]||(o[1]=(0,n.createElementVNode)('div',{class:'credits-title'},'â– åˆ¶ä½œå›¢é˜Ÿ â–',-1)),(0,n.createElementVNode)('div',oa,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,e=>(0,n.createElementVNode)('span',{key:e,class:'author-badge'},(0,n.toDisplayString)(e),1)),64))]),o[2]||(o[2]=(0,n.createElementVNode)('div',{class:'credits-title'},'â– è‹±çµæ®¿ â–',-1)),(0,n.createElementVNode)('div',sa,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a,e=>(0,n.createElementVNode)('span',{key:e,class:'author-badge'},(0,n.toDisplayString)(e),1)),64))]),(0,n.createElementVNode)('div',ca,[o[0]||(o[0]=(0,n.createElementVNode)('strong',null,'ç‰¹åˆ«é¸£è°¢ï¼š',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(l.join(' ')),1)])]),(0,n.createCommentVNode)(' åˆå¹¶åçš„ä¿¡æ¯é¢æ¿ '),o[6]||(o[6]=(0,n.createStaticVNode)('<details class="info-panel" data-v-41312ea8><summary data-v-41312ea8><span data-v-41312ea8>ä¸–ç•ŒèƒŒæ™¯ä¸ç›¸å…³ä¿¡æ¯</span><span class="arrow-toggle" data-v-41312ea8>â–</span></summary><div class="info-content" data-v-41312ea8><h3 data-v-41312ea8>é˜¿æ–¯å¡”åˆ©äºšä¸–ç•Œ</h3><p data-v-41312ea8> å°æ—¶å€™çš„ä½ è¯»è¿‡é‚£æ ·çš„æ•…äº‹å—ï¼Ÿåœ¨å‰‘ä¸é­”æ³•çš„å¼‚ä¸–ç•Œä¸­ï¼Œå¹»æƒ³ä¸­çš„æ•…äº‹ã€‚ä¸€å¥æ¾„æ¾ˆè€Œåšå®šçš„èª“è¨€ï¼Œä¸€æ®µè‹±é›„çš„éª‘è¡Œï¼Œä¸€é¡µç”±å‡¡äººä¹¦å†™çš„å²è¯—ã€‚ </p><div class="world-quote" data-v-41312ea8>&quot;å®¶å›­å·²åœ¨èº«åï¼Œä¸–ç•Œå°½åœ¨çœ¼å‰ã€‚&quot;</div><div class="world-quote" data-v-41312ea8> &quot;é•¿å¤œå°†è‡³ï¼Œæˆ‘ä»ä»Šå¼€å§‹å®ˆæœ›ï¼Œè‡³æ­»æ–¹ä¼‘ã€‚æˆ‘å°†ä¸å¨¶å¦»ã€ä¸å°åœ°ã€ä¸ç”Ÿå­ã€‚æˆ‘å°†ä¸æˆ´å®å† ï¼Œä¸äº‰è£å® ã€‚æˆ‘å°†å°½å¿ èŒå®ˆï¼Œç”Ÿæ­»äºæ–¯ã€‚æˆ‘æ˜¯é»‘æš—ä¸­çš„åˆ©å‰‘ï¼Œé•¿åŸä¸Šçš„å®ˆå«ï¼ŒæŠµå¾¡å¯’å†·çš„çƒˆç„°ï¼Œç ´æ™“æ—¶åˆ†çš„å…‰çº¿ï¼Œå”¤é†’çœ è€…çš„å·è§’ï¼Œå®ˆæŠ¤ç‹å›½çš„åšç›¾ã€‚æˆ‘å°†ç”Ÿå‘½ä¸è£è€€çŒ®ç»™å®ˆå¤œäººï¼Œä»Šå¤œå¦‚æ­¤ï¼Œå¤œå¤œçš†ç„¶ã€‚&quot; </div><div class="world-quote" data-v-41312ea8> &quot;è£è€€å³å¾å‘½ï¼&quot;<br data-v-41312ea8> &quot;æ„¿é»‘æ¾é•¿é’ï¼Œæ„¿å·è§’é•¿é¸£ï¼Œæ„¿ç†æƒ³é—ªè€€å¦‚åˆï¼Œæ„¿é•¿å‰‘é”‹åˆ©å¦‚æ•…ã€‚&quot; </div><p data-v-41312ea8> è¿™é‡Œæ˜¯é˜¿æ–¯å¡”åˆ©äºšã€‚&quot;å‰‘ä¸é­”æ³•&quot;ã€&quot;è¯—ä¸è¿œæ–¹&quot;ã€&quot;å†å²ä¸ä¼ è¯´&quot;ã€&quot;ç”Ÿè€…ä¸æ­»è€…&quot;ã€&quot;è‹±é›„ä¸å²è¯—&quot;ã€&quot;ç¥çµä¸å‘½è¿&quot;çš„ä¸–ç•Œã€‚ </p><p data-v-41312ea8>è¯·æ‹¿èµ·ä½ æ¢¦ä¸­ä¸å„¿æ—¶æœ€æµªæ¼«çš„ç¬”ï¼Œäº²è‡ªä¹¦å†™å±äºä½ è‡ªå·±çš„å†’é™©æ•…äº‹å§ã€‚</p><div class="update-section" data-v-41312ea8><h3 data-v-41312ea8>è·å–æœ€æ–°æ›´æ–°</h3><ul data-v-41312ea8><li data-v-41312ea8><a href="https://discord.com/channels/1134557553011998840/1422790367631380490" target="_blank" rel="noopener noreferrer" data-v-41312ea8>æ›´æ–°é¢‘é“ *è„‘</a></li><li data-v-41312ea8><a href="https://discord.com/channels/1291925535324110879/1422794259056033832" target="_blank" rel="noopener noreferrer" data-v-41312ea8>æ›´æ–°é¢‘é“ *ç¨‹</a></li></ul></div></div></details>',1))]))}},ia=(0,X.A)(ra,[['__scopeId','data-v-41312ea8']]),ua=[{value:'ä¸»API',label:'ä¸»API',desc:'ä½¿ç”¨ä¸»APIè§£æå˜é‡æ›´æ–°',entryName:'output_format (éšAIè¾“å‡ºå¼€ï¼Œä¸»API)'},{value:'é¢å¤–API',label:'é¢å¤–API',desc:'ä½¿ç”¨é¢å¤–APIè§£æå˜é‡æ›´æ–°',entryName:'[mvu_update]output_format (ä½¿ç”¨é¢å¤–æ¨¡å‹æ›´æ–°å˜é‡å¼€)'}];const da=[{index:1,label:'æˆ‘çš„æ•…äº‹å°†ç”±æˆ‘äº²æ‰‹ä¹¦å†™(è‡ªå®šä¹‰)'},{index:2,label:'ã€Šæ¥è‡ªå¼‚ä¸–ç•Œçš„"å‹‡è€…"ã€‹'},{index:3,label:'ã€Šçº¢æœˆä¹‹èª“ï¼ˆç”»é¥¼å å‘ï¼‰ã€‹'},{index:4,label:'ã€Šçº¿ä¸å¤©å ‚ä¸å½¼å²¸èŠ±ã€‹'},{index:5,label:'ã€Šæ…ˆæ‚²çš„"é­”ç‹"ï¼ˆç”»é¥¼å å‘ï¼‰ã€‹'}];const va={class:'start-page'},ma={class:'control-panel-container'},pa={class:'scenario-list'},fa=['onClick'],ba={class:'output-settings-container'},ga={class:'control-group'},ka={class:'control-buttons'},Ea=['onClick'],ha={class:'button-desc'},ya={class:'step-footer'},Na=['disabled'],Va=(0,n.defineComponent)({__name:'StartPage',emits:['prev'],setup(e,{emit:t}){const a=(0,n.ref)(null),o=(0,n.ref)(''),c=(0,n.ref)(!1),r=ua,i=(0,n.computed)(()=>null!==a.value&&''!==o.value);async function u(){if(i.value){c.value=!0;try{await async function(e){const t=l();if(!t)return void console.error('æœªæ‰¾åˆ°ä¸–ç•Œä¹¦');const a=ua.map(t=>({name:t.entryName,enabled:t.value===e}));await s(a,t)}(o.value),await async function(e){if('undefined'==typeof SillyTavern||!SillyTavern.chat||0===SillyTavern.chat.length)return console.warn('SillyTavern environment not detected. Action will not be executed.'),!1;const t=e;return void 0!==SillyTavern.chat[0].swipe_id&&SillyTavern.chat[0].swipe_id!==t?SillyTavern.chat[0].swipes&&SillyTavern.chat[0].swipes.length>t?(SillyTavern.chat[0].swipe_id=t,SillyTavern.chat[0].mes=SillyTavern.chat[0].swipes[t],await SillyTavern.saveChat(),await SillyTavern.reloadCurrentChat(),console.log(`Successfully switched to scenario (swipe_id: ${t}).`),!0):(console.error(`Swipe index ${t} is out of bounds or swipes array is missing.`),!1):(console.log(`Scenario ${t} is already selected or swipe data is unavailable.`),!0)}(a.value)}catch(e){console.error('ä¿å­˜è®¾ç½®å¤±è´¥:',e)}finally{c.value=!1}}}return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',va,[t[2]||(t[2]=(0,n.createElementVNode)('h2',{class:'main-title'},'ä½ çš„æ•…äº‹å°†ä»ä½•å¼€å§‹',-1)),(0,n.createElementVNode)('div',ma,[(0,n.createElementVNode)('ul',pa,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(da),e=>((0,n.openBlock)(),(0,n.createElementBlock)('li',{key:e.index},[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['scenario-option',{selected:a.value===e.index}]),onClick:t=>{return n=e.index,void(a.value=n);var n}},(0,n.toDisplayString)(e.label),11,fa)]))),128))])]),(0,n.createElementVNode)('div',ba,[(0,n.createElementVNode)('div',ga,[(0,n.createElementVNode)('div',ka,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(r),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.value,class:'control-item-wrapper'},[(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['control-button',{selected:o.value===e.value}]),onClick:t=>{return a=e.value,void(o.value=a);var a}},(0,n.toDisplayString)(e.label),11,Ea),(0,n.createElementVNode)('span',ha,(0,n.toDisplayString)(e.desc),1)]))),128))])])]),(0,n.createElementVNode)('div',ya,[(0,n.createElementVNode)('button',{class:'nav-button',onClick:t[0]||(t[0]=t=>e.$emit('prev'))},[...t[1]||(t[1]=[(0,n.createElementVNode)('span',null,'ä¸Šä¸€æ­¥',-1)])]),(0,n.createElementVNode)('button',{class:'nav-button',disabled:!i.value||c.value,onClick:u},[(0,n.createElementVNode)('span',null,(0,n.toDisplayString)(c.value?'ä¿å­˜ä¸­...':'å¼€å§‹æ—…ç¨‹'),1)],8,Na)])]))}}),wa=(0,X.A)(Va,[['__scopeId','data-v-72407620']]),Ca={class:'selector-scroll'},xa={class:'step-content'},Ba={__name:'App',setup(e){const t=(0,n.ref)(0),a=[aa,zt,Z,wa],l=(0,n.ref)(null);function o(){t.value<a.length-1&&t.value++}function s(){t.value>0&&t.value--}function c(e){l.value=e}return(0,n.provide)('envCheckResult',(0,n.readonly)(l)),(e,l)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Ca,[(0,n.createVNode)(ia),(0,n.createElementVNode)('div',xa,[(0,n.createVNode)(n.Transition,{name:'fade',mode:'out-in'},{default:(0,n.withCtx)(()=>[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(a[t.value]),{onNext:o,onPrev:s,onEnvCheckComplete:c},null,32))]),_:1})])]))}},Sa=(0,X.A)(Ba,[['__scopeId','data-v-0af98a94']]);(0,n.createApp)(Sa).mount('#app');</script><style>@import url(https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+SC:wght@400;500;700&display=swap);
.main-title[data-v-955173c2]{font-family:var(--title-font);font-weight:700;color:var(--title-color);text-align:center;margin:0 0 10px 0;font-size:2.2em}.control-panel-container[data-v-955173c2]{border:1px solid var(--border-color);border-radius:6px;background-color:rgba(253,250,245,0.9);padding:0;margin:25px 0;box-shadow:0 1px 4px rgba(0,0,0,0.05);overflow:hidden}.tab-navigation[data-v-955173c2]{display:flex;align-items:stretch;background-color:var(--item-bg-color);border-bottom:1px solid var(--border-color)}.arrow-button[data-v-955173c2]{flex:0 0 auto;display:flex;align-items:center;justify-content:center;padding:12px 16px;background:transparent;border:none;border-right:1px solid var(--border-color);cursor:pointer;font-size:1.5em;color:var(--text-color);opacity:0.7;transition:all 0.2s ease-in-out}.arrow-button[data-v-955173c2]:last-of-type{border-right:none;border-left:1px solid var(--border-color)}.arrow-button[data-v-955173c2]:hover:not(:disabled){opacity:1;background-color:var(--item-bg-hover-color)}.arrow-button[data-v-955173c2]:disabled{cursor:not-allowed;opacity:0.3}.tab-buttons-container[data-v-955173c2]{flex:1;display:flex;align-items:stretch}.tab-button[data-v-955173c2]{flex:1;display:flex;align-items:center;justify-content:center;gap:4px;padding:12px 16px;background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;font-family:var(--body-font);font-size:1em;color:var(--text-color);opacity:0.7;transition:all 0.2s ease-in-out}.tab-button[data-v-955173c2]:hover{opacity:1;background-color:var(--item-bg-hover-color)}.tab-button.active[data-v-955173c2]{color:var(--title-color);opacity:1;border-bottom-color:var(--title-color)}.tab-label[data-v-955173c2]{font-weight:500}.tab-count[data-v-955173c2]{font-size:0.85em;opacity:0.8}.refresh-button[data-v-955173c2]{flex:0 0 auto;background:transparent;border:none;border-left:1px solid var(--border-color);padding:12px 16px;cursor:pointer;font-size:1.2em;color:var(--text-color);opacity:0.7;transition:all 0.2s ease-in-out;display:flex;align-items:center;justify-content:center}.refresh-button[data-v-955173c2]:hover:not(:disabled){opacity:1;background-color:var(--item-bg-hover-color)}.refresh-button[data-v-955173c2]:disabled{cursor:not-allowed;opacity:0.4}.refresh-button .is-spinning[data-v-955173c2]{display:inline-block;animation:spin-955173c2 1s linear infinite}@keyframes spin-955173c2{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.tab-content[data-v-955173c2]{padding:15px 20px;height:450px;overflow-y:auto}.control-group[data-v-955173c2]{min-height:100%}.control-group-header[data-v-955173c2]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;padding-bottom:8px;border-bottom:1px dashed var(--border-color)}.control-group-title[data-v-955173c2]{font-weight:500;color:var(--title-color);margin:0;font-size:1.1em}.control-buttons[data-v-955173c2]{display:flex;flex-wrap:wrap;gap:15px}.control-item-wrapper[data-v-955173c2]{display:flex;flex-direction:column;align-items:center;flex:1 0 140px;max-width:280px}.control-button[data-v-955173c2]{font-family:var(--body-font);font-size:0.95em;padding:8px 10px;border:1px solid var(--border-color);border-radius:5px;cursor:pointer;transition:all 0.2s ease-in-out;background-color:var(--item-bg-color);color:var(--text-color);opacity:0.8;width:100%}.control-button[data-v-955173c2]:hover{background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);opacity:1}.control-button.selected[data-v-955173c2]{background-color:var(--item-bg-selected-color);border-color:var(--title-color);color:var(--title-color);font-weight:500;opacity:1}.core-author[data-v-955173c2]{font-size:0.85em;color:#8b7355;text-align:center;margin-top:4px;font-style:italic}.core-note[data-v-955173c2]{font-size:0.8em;color:#6a514d;text-align:center;margin-top:4px;padding:4px 8px;background-color:rgba(0,0,0,0.03);border-radius:4px;width:100%;box-sizing:border-box;word-break:break-word}.special-recommend-container[data-v-955173c2]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5px 0 20px 0;height:100%;min-height:400px}.recommend-hero-section[data-v-955173c2]{text-align:center;margin-bottom:5px;animation:fadeIn-955173c2 0.6s ease-out}.hero-icon[data-v-955173c2]{font-size:24px;color:#d4a574;margin-bottom:8px;opacity:0.8}.hero-title[data-v-955173c2]{font-family:var(--title-font);font-size:1.4em;color:var(--title-color);margin:0 0 6px 0;font-weight:600;letter-spacing:1px}.hero-subtitle[data-v-955173c2]{font-family:var(--body-font);font-size:0.9em;color:#8b7355;margin:0;opacity:0.8}.hero-divider[data-v-955173c2]{width:40px;height:2px;background-color:#d4a574;margin:15px auto 0;opacity:0.4}.special-recommend-header[data-v-955173c2]{display:flex;align-items:center;gap:12px;margin-bottom:24px}.special-recommend-icon[data-v-955173c2]{font-size:1.2em;color:#d4a574}.special-recommend-title[data-v-955173c2]{font-size:1.3em;font-weight:600;color:var(--title-color);letter-spacing:2px}.special-recommend-cards[data-v-955173c2]{display:flex;justify-content:center;gap:20px;flex-wrap:nowrap;width:100%}.special-recommend-card[data-v-955173c2]{position:relative;display:flex;flex-direction:column;align-items:center;flex:1 1 0;max-width:200px;min-width:150px;aspect-ratio:3/4;padding:20px 16px;background:linear-gradient(135deg,#fdf8f3 0%,#f5ebe0 100%);border:2px solid #d4a574;border-radius:12px;box-shadow:0 6px 16px rgba(139,115,85,0.12);cursor:pointer;transition:all 0.3s ease}.special-recommend-card[data-v-955173c2]:hover:not(.unavailable){transform:translateY(-4px);box-shadow:0 8px 20px rgba(139,115,85,0.25);border-color:#c69c6d}.special-recommend-card.selected[data-v-955173c2]{border-color:var(--title-color);background:linear-gradient(135deg,#f5ebe0 0%,#ede0d4 100%);box-shadow:0 4px 16px rgba(139,115,85,0.3)}.special-recommend-card.unavailable[data-v-955173c2]{cursor:not-allowed;opacity:0.7;filter:grayscale(40%)}.special-recommend-card.unavailable[data-v-955173c2]:hover{transform:none;box-shadow:0 4px 12px rgba(139,115,85,0.15)}.card-overlay[data-v-955173c2]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(128,128,128,0.15);border-radius:12px;pointer-events:none;z-index:1}.card-content[data-v-955173c2]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:8px;margin-top:8px;z-index:2;position:relative}.card-label[data-v-955173c2]{font-size:1.35em;font-weight:700;color:var(--title-color);line-height:1.3;margin-bottom:6px}.card-author[data-v-955173c2]{font-size:0.95em;color:#8b7355;font-style:italic;margin-bottom:8px}.card-note[data-v-955173c2]{font-size:0.9em;color:#6a514d;padding:8px 12px;background-color:rgba(0,0,0,0.04);border-radius:6px;margin-top:8px;line-height:1.5;width:100%;box-sizing:border-box}@keyframes fadeIn-955173c2{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.special-recommend-card.unavailable .card-note[data-v-955173c2]{color:#999;font-style:italic}.loading-text[data-v-955173c2],.empty-text[data-v-955173c2]{font-size:0.95em;color:#6a514d;text-align:center;padding:20px;opacity:0.8}.step-footer[data-v-955173c2]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:20px}.nav-button[data-v-955173c2]{display:flex;align-items:center;gap:8px;font-family:var(--body-font);font-weight:500;font-size:1em;color:var(--title-color);background-color:var(--item-bg-color);border:1px solid var(--border-color);padding:10px 20px;border-radius:6px;cursor:pointer;transition:all 0.2s ease-in-out}.nav-button[data-v-955173c2]:hover:not(:disabled){background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);transform:translateY(-2px)}.nav-button[data-v-955173c2]:disabled{opacity:0.5;cursor:not-allowed}.nav-icon[data-v-955173c2]{font-size:1.1em}@media screen and (max-width:600px){.main-title[data-v-955173c2]{font-size:1.8em}.control-item-wrapper[data-v-955173c2]{flex-basis:100%;max-width:100%}.tab-button[data-v-955173c2]{padding:10px 8px;font-size:0.85em}.arrow-button[data-v-955173c2]{padding:10px 12px;font-size:1.2em}.refresh-button[data-v-955173c2]{padding:10px 12px}.special-recommend-container[data-v-955173c2]{min-height:auto;padding:10px 0}.special-recommend-cards[data-v-955173c2]{flex-wrap:wrap;gap:16px}.special-recommend-card[data-v-955173c2]{flex:1 1 100%;max-width:100%;min-width:auto;aspect-ratio:4/3;padding:16px 12px}.hero-title[data-v-955173c2]{font-size:1.2em}.card-label[data-v-955173c2]{font-size:1.2em}}

.main-title[data-v-3fc414fa]{font-family:var(--title-font);font-weight:700;color:var(--title-color);text-align:center;margin:0 0 10px 0;font-size:2.2em}.control-panel-container[data-v-3fc414fa]{border:1px solid var(--border-color);border-radius:6px;background-color:rgba(253,250,245,0.9);padding:0;margin:25px 0;box-shadow:0 1px 4px rgba(0,0,0,0.05);overflow:hidden}.search-container[data-v-3fc414fa]{padding:10px 20px 0 20px}.dlc-search[data-v-3fc414fa]{width:100%;padding:8px 12px;border:1px solid var(--border-color);border-radius:4px;font-family:var(--body-font);font-size:0.95em;background-color:var(--item-bg-color);color:var(--text-color);outline:none;transition:border-color 0.2s ease-in-out}.dlc-search[data-v-3fc414fa]:focus{border-color:var(--title-color)}.dlc-search[data-v-3fc414fa]::placeholder{color:#999}.tab-navigation[data-v-3fc414fa]{display:flex;align-items:stretch;background-color:var(--item-bg-color);border-bottom:1px solid var(--border-color)}.tab-button[data-v-3fc414fa]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;font-family:var(--body-font);font-size:1em;color:var(--text-color);opacity:0.7;transition:all 0.2s ease-in-out}.tab-button[data-v-3fc414fa]:hover{opacity:1;background-color:var(--item-bg-hover-color)}.tab-button.active[data-v-3fc414fa]{color:var(--title-color);opacity:1;border-bottom-color:var(--title-color)}.tab-label[data-v-3fc414fa]{font-weight:500}.tab-content[data-v-3fc414fa]{padding:15px 20px}.control-group[data-v-3fc414fa]{min-height:200px}.refresh-button[data-v-3fc414fa]{background:transparent;border:none;border-left:1px solid var(--border-color);padding:12px 16px;cursor:pointer;font-size:1.2em;color:var(--text-color);opacity:0.7;transition:all 0.2s ease-in-out;display:flex;align-items:center;justify-content:center}.refresh-button[data-v-3fc414fa]:hover:not(:disabled){opacity:1;background-color:var(--item-bg-hover-color)}.refresh-button[data-v-3fc414fa]:disabled{cursor:not-allowed;opacity:0.4}.refresh-button .is-spinning[data-v-3fc414fa]{display:inline-block;animation:spin-3fc414fa 1s linear infinite}@keyframes spin-3fc414fa{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.list-detail-layout[data-v-3fc414fa]{display:flex;gap:20px;height:450px}.item-list[data-v-3fc414fa]{flex:0 0 200px;display:flex;flex-direction:column;gap:8px;height:100%;max-height:450px;overflow-y:auto;padding-right:10px;border-right:1px solid var(--border-color);scrollbar-width:none}.item-list[data-v-3fc414fa]::-webkit-scrollbar{width:6px}.item-list[data-v-3fc414fa]::-webkit-scrollbar-track{background:transparent}.item-list[data-v-3fc414fa]::-webkit-scrollbar-thumb{background-color:transparent;border-radius:3px;-webkit-transition:background-color 0.2s ease;transition:background-color 0.2s ease}.item-list[data-v-3fc414fa]:hover{scrollbar-width:thin;scrollbar-color:rgba(0,0,0,0.3) transparent}.item-list[data-v-3fc414fa]:hover::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.3)}.item-list[data-v-3fc414fa]:hover::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,0.5)}.list-item[data-v-3fc414fa]{font-family:var(--body-font);font-size:0.95em;padding:10px 12px;border:1px solid var(--border-color);border-radius:5px;cursor:pointer;transition:all 0.2s ease-in-out;background-color:var(--item-bg-color);color:var(--text-color);text-align:left;width:100%}.list-item[data-v-3fc414fa]:hover{background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color)}.list-item.selected[data-v-3fc414fa]{background-color:var(--item-bg-selected-color);border-color:var(--title-color);color:var(--title-color);font-weight:500}.list-item.toggled-on[data-v-3fc414fa]{border-left:3px solid #28a745}.list-item.toggled-on.selected[data-v-3fc414fa]{border-left:3px solid #28a745}.item-detail[data-v-3fc414fa]{flex:1;padding:10px 20px;height:100%;max-height:450px;overflow-y:auto}.detail-name[data-v-3fc414fa]{font-family:var(--title-font);font-size:1.4em;font-weight:600;color:var(--title-color);margin:0 0 15px 0;padding-bottom:10px;border-bottom:1px dashed var(--border-color)}.detail-row[data-v-3fc414fa]{display:flex;margin-bottom:10px;font-size:0.95em}.detail-label[data-v-3fc414fa]{flex:0 0 60px;color:var(--text-color);opacity:0.8}.detail-value[data-v-3fc414fa]{flex:1;color:var(--text-color)}.detail-actions[data-v-3fc414fa]{margin-top:20px;padding-top:15px;border-top:1px dashed var(--border-color)}.toggle-btn[data-v-3fc414fa]{font-family:var(--body-font);font-size:0.95em;padding:8px 20px;border:1px solid var(--border-color);border-radius:5px;cursor:pointer;transition:all 0.2s ease-in-out;background-color:#f8d7da;color:#721c24}.toggle-btn[data-v-3fc414fa]:hover{opacity:0.9}.toggle-btn.toggled-on[data-v-3fc414fa]{background-color:#d4edda;color:#155724;border-color:#c3e6cb}.detail-placeholder[data-v-3fc414fa]{display:flex;align-items:center;justify-content:center;height:100%;min-height:150px;color:var(--text-color);opacity:0.6;font-size:0.95em}.exclusion-hint[data-v-3fc414fa]{color:#856404;font-style:italic}.replacement-hint[data-v-3fc414fa]{color:#0c5460;font-style:italic}.prerequisite-hint[data-v-3fc414fa]{color:#155724;font-style:italic}.loading-text[data-v-3fc414fa],.empty-text[data-v-3fc414fa]{font-size:0.95em;color:#6a514d;text-align:center;padding:20px;opacity:0.8}.step-footer[data-v-3fc414fa]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:20px}.nav-button[data-v-3fc414fa]{display:flex;align-items:center;gap:8px;font-family:var(--body-font);font-weight:500;font-size:1em;color:var(--title-color);background-color:var(--item-bg-color);border:1px solid var(--border-color);padding:10px 20px;border-radius:6px;cursor:pointer;transition:all 0.2s ease-in-out}.nav-button[data-v-3fc414fa]:hover:not(:disabled){background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);transform:translateY(-2px)}.nav-button[data-v-3fc414fa]:disabled{opacity:0.5;cursor:not-allowed}.nav-icon[data-v-3fc414fa]{font-size:1.1em}@media screen and (max-width:600px){.main-title[data-v-3fc414fa]{font-size:1.8em}.tab-button[data-v-3fc414fa]{padding:10px 8px;font-size:0.85em}.list-detail-layout[data-v-3fc414fa]{flex-direction:column}.list-detail-layout[data-v-3fc414fa]{height:auto}.item-list[data-v-3fc414fa]{flex:none;height:auto;max-height:150px;border-right:none;border-bottom:1px solid var(--border-color);padding-right:0;padding-bottom:10px}.item-detail[data-v-3fc414fa]{height:auto;max-height:none}.item-detail[data-v-3fc414fa]{padding:10px 0}}

.main-title[data-v-1dbb7d39]{font-family:var(--title-font);font-weight:700;color:var(--title-color);text-align:center;margin:0 0 10px 0;font-size:2.2em}.env-check-container[data-v-1dbb7d39]{border:1px solid var(--border-color);border-radius:6px;background-color:rgba(253,250,245,0.9);padding:10px 20px;margin:25px 0;box-shadow:0 1px 4px rgba(0,0,0,0.05)}.env-check-item[data-v-1dbb7d39]{display:flex;justify-content:space-between;align-items:center;padding:12px 5px;flex-wrap:wrap;gap:10px}.env-check-item[data-v-1dbb7d39]:not(:last-child){border-bottom:1px dashed var(--border-color)}.env-check-label[data-v-1dbb7d39]{display:flex;align-items:center;font-weight:500;color:var(--title-color)}.env-check-label .icon[data-v-1dbb7d39]{font-size:1.4em;margin-right:12px;opacity:0.8;line-height:1}.env-check-details[data-v-1dbb7d39]{display:flex;align-items:center;font-size:0.9em;gap:15px;text-align:right}.env-check-details strong[data-v-1dbb7d39]{font-weight:700;display:inline-block;padding:3px 8px;border-radius:4px;min-width:55px;text-align:center;border:1px solid transparent}.fade-enter-active[data-v-1dbb7d39],.fade-leave-active[data-v-1dbb7d39]{transition:opacity 0.5s ease}.fade-enter-from[data-v-1dbb7d39],.fade-leave-to[data-v-1dbb7d39]{opacity:0}.recheck-container[data-v-1dbb7d39]{text-align:center;margin:15px 0 0 0}.recheck-button[data-v-1dbb7d39]{font-family:var(--body-font);font-weight:500;font-size:1em;color:var(--title-color);background-color:var(--item-bg-color);border:1px solid var(--border-color);padding:8px 25px;border-radius:6px;cursor:pointer;transition:all 0.2s ease-in-out}.recheck-button[data-v-1dbb7d39]:hover:not(:disabled){background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color)}.recheck-button[data-v-1dbb7d39]:disabled{opacity:0.6;cursor:not-allowed}.success-message[data-v-1dbb7d39]{display:flex;align-items:center;justify-content:center;gap:10px;padding:12px;margin-top:15px;background-color:#d4edda;border:1px solid #c3e6cb;border-radius:6px;color:#155724;font-weight:500}.success-icon[data-v-1dbb7d39]{font-size:1.2em}@media screen and (max-width:600px){.main-title[data-v-1dbb7d39]{font-size:1.8em}}

.page-super-title[data-v-41312ea8]{font-family:var(--title-font);font-weight:700;text-align:center;font-size:2.8em;color:var(--title-color);margin:10px 0 0 0;letter-spacing:2px}.page-subtitle-english[data-v-41312ea8]{font-family:'Palatino Linotype','Book Antiqua',Palatino,'Times New Roman',serif;font-style:italic;text-align:center;font-size:1.3em;color:#8b7355;margin:8px 0 0 0;letter-spacing:3px;font-weight:400}.ornamental-divider[data-v-41312ea8]{border:0;height:1px;background-color:var(--border-color);position:relative;margin:25px auto 30px auto;width:85%}.ornamental-divider[data-v-41312ea8]::after{content:'â–';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--container-bg-color);padding:0 15px;color:var(--title-color);font-size:1.6em;line-height:1}.credits-container[data-v-41312ea8]{text-align:center;margin-bottom:25px;padding:20px;background-color:rgba(253,250,245,0.6);border-radius:8px;border:1px dashed var(--border-color)}.credits-title[data-v-41312ea8]{font-family:var(--title-font);font-weight:700;color:var(--title-color);margin-bottom:15px;font-size:1.2em;letter-spacing:1px}.author-badges[data-v-41312ea8]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-bottom:15px}.author-badge[data-v-41312ea8]{background-color:var(--item-bg-color);border:1px solid var(--border-color);padding:5px 12px;border-radius:20px;font-size:0.9em;color:var(--text-color);box-shadow:0 1px 2px rgba(0,0,0,0.05);transition:all 0.2s ease;cursor:default}.author-badge[data-v-41312ea8]:hover{transform:translateY(-2px);border-color:var(--border-strong-color);background-color:var(--item-bg-hover-color)}.credits-special[data-v-41312ea8]{font-size:0.95em;color:#6a514d;margin-top:10px;padding-top:10px;border-top:1px dotted var(--border-color);display:inline-block;padding-left:20px;padding-right:20px}.info-panel[data-v-41312ea8]{margin-bottom:25px;border:1px solid var(--border-color);border-radius:6px;overflow:hidden;background-color:var(--item-bg-color)}.info-panel>summary[data-v-41312ea8]{font-family:var(--title-font);font-weight:700;font-size:1.1em;color:var(--title-color);background-color:rgba(253,250,245,0.6);padding:12px 20px;cursor:pointer;list-style:none;display:flex;justify-content:space-between;align-items:center;transition:background-color 0.2s}.info-panel>summary[data-v-41312ea8]::-webkit-details-marker{display:none}.info-panel>summary[data-v-41312ea8]:hover{background-color:rgba(253,250,245,0.8)}.arrow-toggle[data-v-41312ea8]{font-size:0.8em;transition:transform 0.3s ease-out;display:inline-block}.info-panel[open]>summary .arrow-toggle[data-v-41312ea8]{transform:rotate(-90deg)}.info-content[data-v-41312ea8]{padding:15px 25px 25px 25px;line-height:1.7}.info-content h3[data-v-41312ea8]{font-family:var(--title-font);color:var(--title-color);border-bottom:2px solid var(--border-color);padding-bottom:8px;margin:25px 0 15px 0;font-size:1.4em}.info-content h3[data-v-41312ea8]:first-child{margin-top:5px}.info-content p[data-v-41312ea8],.info-content ul[data-v-41312ea8]{margin:0 0 1em 0}.info-content ul[data-v-41312ea8]{list-style:none;padding-left:5px}.info-content li[data-v-41312ea8]{padding-left:20px;position:relative}.info-content li[data-v-41312ea8]::before{content:'Â»';position:absolute;left:0;top:0;color:var(--border-strong-color);font-weight:bold}.info-content a[data-v-41312ea8]{color:var(--link-color);text-decoration:none;font-weight:500;word-break:break-all}.info-content a[data-v-41312ea8]:hover{text-decoration:underline;color:var(--title-color)}.world-quote[data-v-41312ea8]{background-color:rgba(245,239,230,0.5);border-left:3px solid var(--border-strong-color);padding:12px 18px;margin:15px 0;font-style:italic;color:#5d4037;font-family:'KaiTi','STKaiti','æ¥·ä½“',var(--body-font);line-height:1.6}.update-section[data-v-41312ea8]{margin-top:30px;padding-top:20px;border-top:1px dashed var(--border-color)}@media screen and (max-width:600px){.page-super-title[data-v-41312ea8]{font-size:2em}.info-panel>summary[data-v-41312ea8]{padding:10px 15px}.info-content[data-v-41312ea8]{padding:15px}}

.main-title[data-v-72407620]{font-family:var(--title-font);font-weight:700;color:var(--title-color);text-align:center;margin:0 0 10px 0;font-size:2.2em}.control-panel-container[data-v-72407620]{border:1px solid var(--border-color);border-radius:6px;background-color:rgba(253,250,245,0.9);padding:15px 20px;margin:25px 0 15px 0;box-shadow:0 1px 4px rgba(0,0,0,0.05)}.output-settings-container[data-v-72407620]{border:1px solid var(--border-color);border-radius:6px;background-color:rgba(253,250,245,0.9);padding:15px 20px;margin:0 0 25px 0;box-shadow:0 1px 4px rgba(0,0,0,0.05)}.control-group[data-v-72407620]{margin-bottom:0}.control-group-title[data-v-72407620]{font-weight:500;color:var(--title-color);margin:0 0 12px 0;padding-bottom:8px;border-bottom:1px dashed var(--border-color);font-size:1.1em}.control-buttons[data-v-72407620]{display:flex;flex-wrap:wrap;gap:15px}.control-item-wrapper[data-v-72407620]{display:flex;flex-direction:column;align-items:center;flex:1 0 140px;max-width:280px}.control-button[data-v-72407620]{font-family:var(--body-font);font-size:0.95em;padding:8px 10px;border:1px solid var(--border-color);border-radius:5px;cursor:pointer;transition:all 0.2s ease-in-out;background-color:var(--item-bg-color);color:var(--text-color);opacity:0.8;width:100%}.control-button[data-v-72407620]:hover{background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);opacity:1}.control-button.selected[data-v-72407620]{background-color:var(--item-bg-selected-color);border-color:var(--title-color);color:var(--title-color);font-weight:500;opacity:1}.button-desc[data-v-72407620]{font-size:0.8em;color:#6a514d;margin-top:6px;text-align:center;opacity:0.8;line-height:1.3;min-height:1em}.scenario-list[data-v-72407620]{display:grid;grid-template-columns:1fr;gap:12px;padding:0;margin:0;list-style:none}.scenario-option[data-v-72407620]{font:inherit;color:inherit;background:var(--item-bg-color);border:1px solid var(--border-color);text-align:left;width:100%;padding:12px 15px 12px 40px;border-radius:6px;cursor:pointer;transition:all 0.2s ease-in-out;position:relative;font-size:1.05em}.scenario-option[data-v-72407620]::before{content:'ğŸ“œ';position:absolute;left:15px;top:50%;transform:translateY(-50%);font-size:1.1em;opacity:0.7;transition:all 0.2s ease-in-out}.scenario-option[data-v-72407620]:hover{background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);transform:translateX(5px)}.scenario-option[data-v-72407620]:hover::before{opacity:1;transform:translateY(-50%) rotate(-5deg)}.scenario-option.selected[data-v-72407620]{background-color:var(--item-bg-selected-color);border-color:var(--title-color);color:var(--title-color);font-weight:500;box-shadow:0 2px 5px rgba(0,0,0,0.1)}.scenario-option.selected[data-v-72407620]::after{content:'âœ“';position:absolute;right:15px;top:50%;transform:translateY(-50%);font-weight:bold;color:var(--title-color)}.step-footer[data-v-72407620]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:20px}.nav-button[data-v-72407620]{display:flex;align-items:center;gap:8px;font-family:var(--body-font);font-weight:500;font-size:1em;color:var(--title-color);background-color:var(--item-bg-color);border:1px solid var(--border-color);padding:10px 20px;border-radius:6px;cursor:pointer;transition:all 0.2s ease-in-out}.nav-button[data-v-72407620]:hover:not(:disabled){background-color:var(--item-bg-hover-color);border-color:var(--border-strong-color);transform:translateY(-2px)}.nav-button[data-v-72407620]:disabled{opacity:0.5;cursor:not-allowed}.nav-icon[data-v-72407620]{font-size:1.1em}@media screen and (max-width:600px){.main-title[data-v-72407620]{font-size:1.8em}.scenario-option[data-v-72407620]{padding:10px 15px 10px 35px;font-size:1em}.control-item-wrapper[data-v-72407620]{flex-basis:100%;max-width:100%}}

.selector-scroll[data-v-0af98a94]{background-color:#f5efe6;max-width:900px;width:100%;margin:auto;display:flex;flex-direction:column}.step-content[data-v-0af98a94]{margin-top:20px}

:root{--bg-color:#f5efe6;--text-color:#4a3b31;--border-color:#d3c5b3;--border-strong-color:#785a4e;--title-color:#5d4037;--link-color:#8c6d62;--item-bg-color:rgba(253,250,245,0.9);--item-bg-hover-color:#e8ddcb;--item-bg-selected-color:#d7c8b6;--pre-bg-color:rgba(215,200,182,0.3);--container-bg-color:rgba(240,230,210,0.9);--title-font:'Cinzel',serif;--body-font:'Noto Serif SC',serif}*{box-sizing:border-box}body{font-family:var(--body-font);background-color:var(--bg-color);color:var(--text-color);margin:0;padding:20px;display:flex;justify-content:center;align-items:flex-start}.status-ok{background-color:#d4edda;color:#155724;border-color:#c3e6cb}.status-warn{background-color:#fff3cd;color:#856404;border-color:#ffeeba}.status-error{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.status-unknown{background-color:#e2e3e5;color:#383d41;border-color:#d6d8db}.locked-module{opacity:0.5;pointer-events:none;filter:grayscale(100%);-webkit-user-select:none;user-select:none;transition:all 0.3s ease}.fade-enter-active,.fade-leave-active{transition:opacity 0.3s ease,transform 0.3s ease}.fade-enter-from{opacity:0;transform:translateY(10px)}.fade-leave-to{opacity:0;transform:translateY(-10px)}@media screen and (max-width:600px){body{padding:10px}}

</style></head><body><div id="app"></div></body></html>