<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{default as l}from'https://testingcf.jsdelivr.net/npm/json5/+esm';import{klona as o}from'https://testingcf.jsdelivr.net/npm/klona/+esm';var n={128(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},c={};const r=Vue,s={class:'creator-app'};var i=function e(t){var a=c[t];if(void 0!==a)return a.exports;var l=c[t]={exports:{}};return n[t](l,l.exports,e),l.exports}(128);const d={},m=(0,i.A)(d,[['render',function(e,t){const a=(0,r.resolveComponent)('RouterView');return(0,r.openBlock)(),(0,r.createElementBlock)('div',s,[(0,r.createVNode)(a)])}],['__scopeId','data-v-15ec88ba']]),u=VueRouter,p=[{value:'common',label:'普通',color:'#9e9e9e'},{value:'uncommon',label:'优秀',color:'#4caf50'},{value:'rare',label:'稀有',color:'#2196f3'},{value:'epic',label:'史诗',color:'#9c27b0'},{value:'legendary',label:'传说',color:'#ff9800'},{value:'mythic',label:'神话',color:'#e91e63'},{value:'only',label:'唯一',color:'#ff0000'}],v=[{label:'武器',value:'武器'},{label:'防具',value:'防具'},{label:'饰品',value:'饰品'}],f=[{label:'主动',value:'主动'},{label:'被动',value:'被动'}],V=[{value:'equipment',label:'装备'},{value:'item',label:'道具'},{value:'skill',label:'技能'}],k=e=>p.find(t=>t.value===e)?.label||'普通',y=e=>p.find(t=>t.value===e)?.color||'#9e9e9e';async function N(e,t){try{const a=await fetch(`https://testingcf.jsdelivr.net/gh/The-poem-of-destiny/FrontEnd-for-destined-journey@1.5.13/public/assets/data/${e}`);if(!a.ok)return console.log(`未找到自定义数据文件 (${e})`),{};const o=await a.text(),n=l.parse(o);return console.log(`成功加载自定义${t}数据`),n}catch(e){return console.log(`未找到自定义${t}数据或格式错误:`,e),{}}}function E(e,t){return _.mergeWith({},e,t,(e,t)=>{if(_.isArray(e))return[...e,...t]})}const g=(0,r.ref)({});(async function(){return N('baseInfo.json','基础信息')})().then(e=>{g.value=e});const b=(0,r.computed)(()=>[...(g.value.genders||[]).filter(e=>'自定义'!==e),'自定义']),h=(0,r.computed)(()=>({...g.value.raceCosts||{},自定义:80})),B=(0,r.computed)(()=>({...g.value.identityCosts||{},自定义:80})),C=((0,r.computed)(()=>[...(g.value.startLocations||[]).filter(e=>'自定义'!==e),'自定义']),(0,r.computed)(()=>{const e=((e,t='-')=>{const a=[],l=new Map,o=new Set(e),n=new Set;for(const a of e){const e=a.split(t);let l='';for(let a=0;a<e.length-1;a++){const c=e[a].trim();l=l?`${l}${t}${c}`:c,o.has(l)&&n.add(l)}}for(const o of e){const e=o.split(t);let c='',r=a;for(let a=0;a<e.length;a++){const o=e[a].trim();c=c?`${c}${t}${o}`:o;let s=l.get(c);if(!s&&(s={label:o,value:c,children:[]},l.set(c,s),r.push(s),n.has(c))){const e={label:`${o}（本地区）`,value:c};s.children.unshift(e)}r=s.children}}const c=e=>{for(const t of e)t.children&&0===t.children.length?delete t.children:t.children&&c(t.children)};return c(a),a})((g.value.startLocations||[]).filter(e=>'自定义'!==e));return e.push({label:'自定义',value:'自定义'}),e})),x=['力量','敏捷','体质','智力','精神'],S=e=>e>=1&&e<=4?0:e>=5&&e<=8?1:e>=9&&e<=12?2:e>=13&&e<=16?3:e>=17&&e<=20?4:e>=21&&e<=24?5:e>=25?6:0,w=e=>e>=1&&e<=4?'第一层级':e>=5&&e<=8?'第二层级':e>=9&&e<=12?'第三层级':e>=13&&e<=16?'第四层级':e>=17&&e<=20?'第五层级':e>=21&&e<=24?'第六层级':e>=25?'第七层级':'未知层级',D={};let P=null;function F(){return P||D}!async function(){const e=await async function(){return N('skills.json','技能')}();P=E(D,e)}();const I=()=>_.find(_.keys(B.value),e=>_.includes(e,'平民'))||'',q=t('character',()=>{const e=(0,r.ref)({name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:I(),customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:1e3,destinyPoints:0,money:0}),t=(0,r.ref)([]),a=(0,r.ref)([]),l=(0,r.ref)([]),o=(0,r.ref)([]),n=(0,r.ref)(null),c=(0,r.computed)(()=>_.sum([_.get(h.value,e.value.race,0),_.get(B.value,e.value.identity,0),s.value,_.sumBy(t.value,'cost'),_.sumBy(a.value,'cost'),_.sumBy(l.value,'cost'),_.sumBy(o.value,'cost'),Math.ceil(e.value.money/100),Math.ceil(e.value.destinyPoints/2)])),s=(0,r.computed)(()=>_.sum(_.values(e.value.attributePoints))),i=(0,r.computed)(()=>{return t=e.value.level,5+Math.max(0,t-1);var t}),d=(0,r.computed)(()=>i.value-s.value),m=(0,r.computed)(()=>{const t=S(e.value.level);return _.fromPairs(_.map(x,a=>[a,4+t+e.value.attributePoints[a]]))});return(0,r.watch)(()=>e.value.level,()=>{e.value.attributePoints={力量:0,敏捷:0,体质:0,智力:0,精神:0}},{flush:'sync'}),(0,r.watch)(()=>[e.value.race,e.value.customRace],()=>{const t='自定义'===e.value.race?e.value.customRace:e.value.race,a=_.without(_.keys(h.value),'自定义'),o=F();_.remove(l.value,e=>{const l=(n=e.name,_.findKey(o,e=>_.some(e,e=>e.name===n))||'');var n;return _.includes(a,l)&&l!==t})},{deep:!0}),(0,r.watch)(B,t=>{e.value.identity||_.isEmpty(t)||(e.value.identity=I())},{immediate:!0}),{character:e,consumedPoints:c,selectedEquipments:t,selectedItems:a,selectedSkills:l,selectedPartners:o,selectedBackground:n,usedAP:s,maxAP:i,remainingAP:d,finalAttributes:m,updateCharacterField:(t,a)=>{e.value[t]=a},updateAttribute:(t,a)=>{e.value.attributePoints[t]=Math.max(0,a)},addAttributePoint:t=>{d.value>0&&e.value.attributePoints[t]++},removeAttributePoint:t=>{e.value.attributePoints[t]>0&&e.value.attributePoints[t]--},rollInitialPoints:()=>{const t=(e=>{if(e&&(e=>{const t=e.toLowerCase();return['[dev]','[test]'].some(e=>t.includes(e))})(e))return 888888;const t=Math.random(),a=Math.pow(t,3),l=Math.floor(1e3+9001*a);return Math.min(l,1e4)})(e.value.name);return e.value.reincarnationPoints=t,t},resetCharacter:()=>{e.value={name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:I(),customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:1e3,destinyPoints:0,money:0}},addEquipment:e=>{t.value.push(e)},removeEquipment:e=>{_.remove(t.value,t=>t.name===e.name)},replaceEquipmentByName:(e,a)=>{_.remove(t.value,e=>e.name===a),t.value.push(e)},addItem:e=>{a.value.push(e)},removeItem:e=>{_.remove(a.value,t=>t.name===e.name)},replaceItemByName:(e,t)=>{_.remove(a.value,e=>e.name===t),a.value.push(e)},addSkill:e=>{l.value.push(e)},removeSkill:e=>{_.remove(l.value,t=>t.name===e.name)},replaceSkillByName:(e,t)=>{_.remove(l.value,e=>e.name===t),l.value.push(e)},clearSelections:()=>{t.value=[],a.value=[],l.value=[]},clearPartners:()=>{o.value=[]},clearAllSelections:()=>{t.value=[],a.value=[],l.value=[],o.value=[],n.value=null},addPartner:e=>{o.value.push(e)},removePartner:e=>{_.remove(o.value,t=>t.name===e.name)},replacePartnerByName:(e,t)=>{_.remove(o.value,e=>e.name===t),o.value.push(e)},setBackground:e=>{n.value=e},resetDestinyExchange:()=>{e.value.destinyPoints=0}}}),L=t('customContent',()=>{const e=(0,r.ref)(''),t=(0,r.ref)(''),a=(0,r.ref)(''),l=(0,r.ref)({categoryType:'equipment',customItemType:'',itemName:'',itemRarity:'common',itemTag:[],itemEffect:{},itemDescription:'',itemConsume:'',itemQuantity:1}),n=()=>{l.value={categoryType:'equipment',customItemType:'',itemName:'',itemRarity:'common',itemTag:[],itemEffect:{},itemDescription:'',itemConsume:'',itemQuantity:1},t.value=''},c={strength:5,dexterity:5,constitution:5,intelligence:5,mind:5},s=(0,r.ref)({itemName:'',itemLevel:1,itemLifeLevel:'',itemGrade:1,itemRace:'',itemIdentity:[],itemCareer:[],itemPersonality:'',itemLike:'',itemApp:'',itemCloth:'',itemEquip:[],itemAttributes:{...c},itemStairway:'',itemIsContract:!0,itemAffinity:0,itemComment:'',itemBackgroundInfo:'',itemSkills:[]}),i=()=>{s.value={itemName:'',itemLevel:1,itemLifeLevel:'',itemGrade:1,itemRace:'',itemIdentity:[],itemCareer:[],itemPersonality:'',itemLike:'',itemApp:'',itemCloth:'',itemEquip:[],itemAttributes:o(c),itemStairway:'',itemIsContract:!0,itemAffinity:0,itemComment:'',itemBackgroundInfo:'',itemSkills:[]},a.value=''};return{customBackgroundDescription:e,updateCustomBackgroundDescription:t=>{e.value=t},editingCustomItemName:t,updateEditingCustomItemName:e=>{t.value=e},editingCustomPartnerName:a,updateEditingCustomPartnerName:e=>{a.value=e},customItemForm:l,updateCustomItemForm:(e,t)=>{l.value[e]=t},setCustomItemForm:e=>{l.value={...l.value,...e}},resetCustomItemForm:n,customPartnerForm:s,updateCustomPartnerForm:(e,t)=>{s.value[e]=t},setCustomPartnerForm:e=>{s.value={...s.value,...e}},resetCustomPartnerForm:i,resetAll:()=>{e.value='',n(),i(),t.value='',a.value=''}}}),T='start_presets';function A(){try{const e=getVariables({type:'character'}),t=_.get(e,T);if(t&&_.isArray(t.presets))return t}catch(e){console.warn('读取预设存储失败，返回空存储:',e)}return{presets:[]}}function M(e){try{insertOrAssignVariables({[T]:e},{type:'character'}),console.log('✅ 预设存储已保存到角色卡变量')}catch(e){throw console.error('保存预设存储失败:',e),e}}function U(){const e=A();return _.orderBy(e.presets,['updatedAt'],['desc'])}function R(e,t=!1){const a=A(),l=_.findIndex(a.presets,{name:e.name});if(-1!==l){if(!t)return toastr.warning(`预设「${e.name}」已存在`),!1;a.presets[l]={...e,updatedAt:Date.now()},toastr.success(`预设「${e.name}」已更新`)}else a.presets.push({...e,createdAt:Date.now(),updatedAt:Date.now()}),toastr.success(`预设「${e.name}」已保存`);return a.lastUsedPreset=e.name,M(a),!0}const j=['name','gender','customGender','age','race','customRace','identity','customIdentity','startLocation','customStartLocation','level','attributePoints','reincarnationPoints','destinyPoints','money'];function G(e){return new Date(e).toLocaleString('zh-CN',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'})}const K=['createdAt','updatedAt'];function O(e){const t=U(),a=_.find(t,t=>function(e,t){const a=_.omit(t.character,K),l=_.omit(e.character,K);return _.every([_.isEqual(a,l),_.isEqual(t.selectedEquipments,e.equipments),_.isEqual(t.selectedItems,e.items),_.isEqual(t.selectedSkills,e.skills),_.isEqual(t.selectedPartners,e.partners),_.isEqual(t.selectedBackground,e.background)])}(t,e));return a?.name??null}const H=()=>{(0,r.nextTick)(()=>{const e=window.frameElement;e&&e.scrollIntoView({behavior:'smooth',block:'center'})})},Q={class:'modal-container'},W={class:'modal-header'},J={class:'modal-title'},X={class:'modal-content'},Y={key:0,class:'save-section'},Z={class:'save-row'},ee={class:'list-section'},te={key:0,class:'empty-state'},ae={key:0,class:'hint'},le={key:1,class:'preset-list'},oe={class:'preset-main'},ne={class:'preset-info'},ce={class:'preset-name'},re={class:'preset-time'},se={class:'preset-meta'},ie={class:'meta-item'},de={class:'meta-item'},me={class:'meta-item'},ue={class:'meta-item'},pe={class:'meta-item'},ve={class:'preset-actions'},fe=['onClick'],Ve=['onClick'],ke=['onClick'],ye=(0,r.defineComponent)({__name:'PresetModal',props:{visible:{type:Boolean},mode:{}},emits:['close','loaded','saved'],setup(e,{emit:t}){const a=e,l=t,n=q(),c=L(),s=(0,r.ref)([]),i=(0,r.ref)(''),d=(0,r.ref)(null),m=()=>{s.value=U()};(0,r.watch)(()=>a.visible,e=>{e&&(m(),i.value='',d.value=null,H())}),(0,r.onMounted)(()=>{a.visible&&(m(),H())});const u=()=>{const e=i.value.trim();if(!e)return void toastr.warning('请输入预设名称');const t=function(e,t){const a=Date.now();return{name:e,createdAt:a,updatedAt:a,character:o(t.character),equipments:o(t.selectedEquipments),items:o(t.selectedItems),skills:o(t.selectedSkills),partners:o(t.selectedPartners),background:o(t.selectedBackground)}}(e,n),a=function(e){const t=A();return _.some(t.presets,{name:e})}(e);a?(d.value=null,p.value===e?(R(t,!0),i.value='',p.value=null,m(),l('saved',t)):(p.value=e,toastr.info(`预设「${e}」已存在，再次点击保存确认覆盖`))):(R(t,!1),i.value='',m(),l('saved',t))},p=(0,r.ref)(null),v=e=>{!function(e,t){t.resetCharacter(),t.clearAllSelections(),_.forEach(j,a=>{_.has(e.character,a)&&t.updateCharacterField(a,_.get(e.character,a))}),_.forEach(e.equipments,e=>t.addEquipment(e)),_.forEach(e.items,e=>t.addItem(e)),_.forEach(e.skills,e=>t.addSkill(e)),_.forEach(e.partners,e=>t.addPartner(e)),t.setBackground(e.background),toastr.success(`已加载预设「${e.name}」`)}(e,n);const t='【自定义开局】'===e.background?.name?e.background?.description??'':'';c.updateCustomBackgroundDescription(t),l('loaded',e),l('close')},f=e=>{d.value===e?(!function(e){const t=A(),a=_.remove(t.presets,{name:e});_.isEmpty(a)?toastr.error(`预设「${e}」不存在`):(t.lastUsedPreset===e&&(t.lastUsedPreset=void 0),M(t),toastr.info(`预设「${e}」已删除`))}(e),d.value=null,m()):(d.value=e,p.value=null)},V=()=>{d.value=null},k=()=>{l('close')},y=(0,r.computed)(()=>'load'===a.mode?'加载预设':'预设管理'),N=(0,r.computed)(()=>'load'!==a.mode);return(t,a)=>((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:'body'},[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:'modal-overlay',onClick:(0,r.withModifiers)(k,['self'])},[(0,r.createElementVNode)('div',Q,[(0,r.createCommentVNode)(' 标题栏 '),(0,r.createElementVNode)('div',W,[(0,r.createElementVNode)('h2',J,(0,r.toDisplayString)(y.value),1),(0,r.createElementVNode)('button',{class:'close-button',title:'关闭',onClick:k},'✕')]),(0,r.createCommentVNode)(' 内容区域 '),(0,r.createElementVNode)('div',X,[(0,r.createCommentVNode)(' 保存新预设区域 '),N.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Y,[a[1]||(a[1]=(0,r.createElementVNode)('h3',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-floppy-disk'}),(0,r.createTextVNode)(' 保存当前配置')],-1)),(0,r.createElementVNode)('div',Z,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>i.value=e),type:'text',class:'preset-input',placeholder:'输入预设名称...',onKeyup:(0,r.withKeys)(u,['enter'])},null,544),[[r.vModelText,i.value]]),(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['action-button save-button',{confirm:p.value===i.value.trim()}]),onClick:u},[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(['fa-solid',p.value===i.value.trim()?'fa-check':'fa-save'])},null,2),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(p.value===i.value.trim()?'确认覆盖':'保存预设'),1)],2)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 预设列表 '),(0,r.createElementVNode)('div',ee,[a[13]||(a[13]=(0,r.createElementVNode)('h3',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-list'}),(0,r.createTextVNode)(' 已保存的预设')],-1)),0===s.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',te,[a[2]||(a[2]=(0,r.createElementVNode)('i',{class:'fa-solid fa-inbox empty-icon'},null,-1)),a[3]||(a[3]=(0,r.createElementVNode)('p',null,'暂无保存的预设',-1)),N.value?((0,r.openBlock)(),(0,r.createElementBlock)('p',ae,'在上方输入名称保存当前配置')):(0,r.createCommentVNode)('v-if',!0)])):((0,r.openBlock)(),(0,r.createElementBlock)('div',le,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['preset-item',{'delete-pending':d.value===e.name}])},[(0,r.createElementVNode)('div',oe,[(0,r.createElementVNode)('div',ne,[(0,r.createElementVNode)('span',ce,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('span',re,(0,r.toDisplayString)((0,r.unref)(G)(e.updatedAt)),1)]),(0,r.createElementVNode)('div',se,[(0,r.createElementVNode)('span',ie,[a[4]||(a[4]=(0,r.createElementVNode)('i',{class:'fa-solid fa-user'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.character.name||'未命名'),1)]),(0,r.createElementVNode)('span',de,[a[5]||(a[5]=(0,r.createElementVNode)('i',{class:'fa-solid fa-star'},null,-1)),(0,r.createTextVNode)(' Lv.'+(0,r.toDisplayString)(e.character.level),1)]),(0,r.createElementVNode)('span',me,[a[6]||(a[6]=(0,r.createElementVNode)('i',{class:'fa-solid fa-shield'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.equipments.length),1)]),(0,r.createElementVNode)('span',ue,[a[7]||(a[7]=(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-sparkles'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.skills.length),1)]),(0,r.createElementVNode)('span',pe,[a[8]||(a[8]=(0,r.createElementVNode)('i',{class:'fa-solid fa-heart'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.partners.length),1)])])]),(0,r.createElementVNode)('div',ve,[d.value===e.name?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)('button',{class:'action-button confirm-delete',onClick:t=>f(e.name)},[...a[9]||(a[9]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-check'},null,-1),(0,r.createTextVNode)(' 确认删除 ',-1)])],8,fe),(0,r.createElementVNode)('button',{class:'action-button cancel-button',onClick:V},[...a[10]||(a[10]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1),(0,r.createTextVNode)(' 取消 ',-1)])])],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createElementVNode)('button',{class:'action-button load-button',onClick:t=>v(e)},[...a[11]||(a[11]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-download'},null,-1),(0,r.createTextVNode)(' 加载 ',-1)])],8,Ve),N.value?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'action-button delete-button',onClick:t=>f(e.name)},[...a[12]||(a[12]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash'},null,-1),(0,r.createTextVNode)(' 删除 ',-1)])],8,ke)):(0,r.createCommentVNode)('v-if',!0)],64))])],2))),128))]))])]),(0,r.createCommentVNode)(' 底部按钮 '),(0,r.createElementVNode)('div',{class:'modal-footer'},[(0,r.createElementVNode)('button',{class:'footer-button',onClick:k},'关闭')])])])):(0,r.createCommentVNode)('v-if',!0)]))}}),Ne=(0,i.A)(ye,[['__scopeId','data-v-52461bda']]),Ee=e(),ge={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'};function be(){const e=q(),t=L(),{character:l}=a(e);return{executeJourney:async()=>{try{await async function(e,t,a,l){await waitGlobalInitialized('Mvu');const o=_.filter(a,e=>!e.isCustom),n=_.filter(t,e=>!e.isCustom),c=_.filter(l,e=>!e.isCustom),r=Mvu.getMvuData({type:'message',message_id:'latest'});_.set(r,'stat_data.命定系统.命运点数',e.destinyPoints);const s=_.fromPairs(_.map(o,e=>[e.name,{品质:_.get(ge,e.rarity,'普通'),类型:e.type,消耗:e.consume||'',标签:e.tag||[],效果:e.effect||{},描述:e.description}]));_.set(r,'stat_data.主角.技能',s);const i=_.fromPairs(_.map(n,e=>[e.name,{品质:_.get(ge,e.rarity,'普通'),数量:e.quantity||1,类型:e.type,标签:e.tag||[],效果:e.effect||{},描述:e.description}]));_.set(r,'stat_data.主角.背包',i),_.set(r,'stat_data.主角.金钱',Math.max(0,Math.round(e.money))),_.set(r,'stat_data.主角.等级',e.level);const d=_.fromPairs(_.map(c,e=>{const t=_.fromPairs(_.chain(e.equip).filter(e=>!!e.name).map(e=>[e.name,{品质:_.get(ge,e.rarity||'','普通'),类型:e.type||'',标签:e.tag||[],效果:e.effect||{},描述:e.description||'',位置:e.position||''}]).value()),a=_.fromPairs(_.map(e.skills,e=>[e.name,{品质:_.get(ge,e.rarity,'普通'),类型:e.type,消耗:e.consume||'',标签:e.tag||[],效果:e.effect||{},描述:e.description}]));return[e.name,{在场:!0,生命层级:e.lifeLevel,等级:e.level,种族:e.race,身份:[...e.identity],职业:[...e.career],性格:e.personality,喜爱:e.like,外貌:e.app,着装:e.cloth,属性:{力量:e.attributes.strength,敏捷:e.attributes.dexterity,体质:e.attributes.constitution,智力:e.attributes.intelligence,精神:e.attributes.mind},登神长阶:{是否开启:e.stairway.isOpen,要素:e.stairway.elements??{},权能:e.stairway.powers??{},法则:e.stairway.laws??{},神位:e.stairway.godlyRank??'',神国:e.stairway.godKingdom?{名称:e.stairway.godKingdom.name,描述:e.stairway.godKingdom.description}:{名称:'',描述:''}},命定契约:e.isContract,好感度:e.affinity,心里话:e.comment||'',背景故事:e.backgroundInfo||'',装备:t,技能:a}]}));_.set(r,'stat_data.命定系统.关系列表',d),await Mvu.replaceMvuData(r,{type:'message',message_id:'latest'}),console.log('✅ 预设数据已成功写入消息楼层变量')}(l.value,e.selectedItems,e.selectedSkills,e.selectedPartners),console.log('✅ 角色数据已写入 MVU 变量');const a=function(e,t,a,l,o,n,c){const r=[],s='自定义'===e.gender?e.customGender:e.gender,i='自定义'===e.race?e.customRace:e.race,d='自定义'===e.identity?e.customIdentity:e.identity,m='自定义'===e.startLocation?e.customStartLocation:e.startLocation,u=S(e.level),p=e=>`4(基础) + ${u}(层级) + ${e}(额外) = ${4+u+e}`;r.push('【角色信息】'),r.push(`姓名: ${e.name}`),r.push(`性别: ${s}`),r.push(`年龄: ${e.age}岁`),r.push(`种族: ${i}`),r.push(`身份: ${d}`),r.push(`出生地: ${m}`),r.push(`生命层级: ${w(e.level)}`),r.push(`等级: Lv.${e.level}`),r.push(''),r.push('【角色属性】'),r.push(`力量: ${p(e.attributePoints.力量)}`),r.push(`敏捷: ${p(e.attributePoints.敏捷)}`),r.push(`体质: ${p(e.attributePoints.体质)}`),r.push(`智力: ${p(e.attributePoints.智力)}`),r.push(`精神: ${p(e.attributePoints.精神)}`),t.length>0&&(r.push(''),r.push('【装备列表】'),t.forEach((e,a)=>{r.push(`- 名称: ${e.name}`),r.push(`  类型: ${e.type}`),r.push(`  品质: ${ge[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&r.push(`  标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(r.push('  效果:'),_.forEach(e.effect,(e,t)=>{r.push(`    - ${t}: ${e}`)})),e.description&&r.push(`  描述: ${e.description}`),a<t.length-1&&r.push('')}));const v=_.filter(o,'isCustom');v.length>0&&(r.push(''),r.push('【自定义道具】'),v.forEach((e,t)=>{r.push(`- 名称: ${e.name||'未命名'}`),e.type&&r.push(`  类型: ${e.type}`),e.rarity&&r.push(`  品质: ${ge[e.rarity]||e.rarity}`),e.quantity&&r.push(`  数量: ${e.quantity}`),e.tag&&e.tag.length>0&&r.push(`  标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(r.push('  效果:'),_.forEach(e.effect,(e,t)=>{r.push(`    - ${t}: ${e}`)})),e.description&&r.push(`  描述: ${e.description}`),t<v.length-1&&r.push('')}));const f=_.filter(n,'isCustom');f.length>0&&(r.push(''),r.push('【自定义技能】'),f.forEach((e,t)=>{r.push(`- 名称: ${e.name||'未命名'}`),e.type&&r.push(`  类型: ${e.type}`),e.rarity&&r.push(`  品质: ${ge[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&r.push(`  标签: ${e.tag.join('、')}`),e.consume&&r.push(`  消耗: ${e.consume}`),_.isEmpty(e.effect)||(r.push('  效果:'),_.forEach(e.effect,(e,t)=>{r.push(`    - ${t}: ${e}`)})),e.description&&r.push(`  描述: ${e.description}`),t<f.length-1&&r.push('')}));const V=_.filter(a,'isCustom');if(V.length>0&&(r.push(''),r.push('【关系列表】'),V.forEach(e=>{if(r.push(`◆ 名称: ${e.name}`),r.push(`  种族: ${e.race}`),r.push(`  身份: ${e.identity.join('、')}`),e.career.length>0&&r.push(`  职业: ${e.career.join('、')}`),r.push(`  生命层级: ${e.lifeLevel}`),r.push(`  等级: ${e.level}`),r.push(`  性格: ${e.personality}`),r.push(`  喜爱: ${e.like}`),r.push(`  外貌: ${e.app}`),r.push(`  着装: ${e.cloth}`),r.push('  属性:'),r.push(`    力量: ${e.attributes.strength}`),r.push(`    敏捷: ${e.attributes.dexterity}`),r.push(`    体质: ${e.attributes.constitution}`),r.push(`    智力: ${e.attributes.intelligence}`),r.push(`    精神: ${e.attributes.mind}`),r.push(`  命定契约: ${e.isContract}`),r.push(`  好感度: ${e.affinity}`),!_.isEmpty(e.equip)){const t=_.filter(e.equip,'name');t.length>0&&(r.push('  装备:'),t.forEach((e,a)=>{r.push(`    - 名称: ${e.name}`),e.type&&r.push(`      类型: ${e.type}`),e.rarity&&r.push(`      品质: ${ge[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&r.push(`      标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(r.push('      效果:'),_.forEach(e.effect,(e,t)=>{r.push(`        - ${t}: ${e}`)})),e.description&&r.push(`      描述: ${e.description}`),a<t.length-1&&r.push('')}))}if(e.stairway.isOpen){r.push('  登神长阶: 已开启');const t=_.get(e.stairway,'elements.custom.desc')||_.chain(e.stairway.elements).values().map(e=>e?.desc||'').find(Boolean).value();t&&r.push(`    描述: ${t}`)}e.comment&&r.push(`  心里话: ${e.comment}`),e.backgroundInfo&&r.push(`  背景: ${e.backgroundInfo}`),e.skills.length>0&&(r.push('  技能:'),e.skills.forEach((t,a)=>{r.push(`    - 名称: ${t.name}`),t.type&&r.push(`      类型: ${t.type}`),t.rarity&&r.push(`      品质: ${ge[t.rarity]||t.rarity}`),t.tag&&t.tag.length>0&&r.push(`      标签: ${t.tag.join('、')}`),t.consume&&r.push(`      消耗: ${t.consume}`),_.isEmpty(t.effect)||(r.push('      效果:'),_.forEach(t.effect,(e,t)=>{r.push(`        - ${t}: ${e}`)})),t.description&&r.push(`      描述: ${t.description}`),a<e.skills.length-1&&r.push('')}))})),l){r.push(''),r.push('【初始开局剧情】'),r.push(`${l.name}`);const e='【自定义开局】'===l.name&&c?c:l.description;r.push(`描述: ${e}`)}return`\`\`\`text\n${r.join('\n')}\n\`\`\`\n\n---\n根据<status_current_variables>和以上内容，生成一个符合描述和情景的初始剧情！\n（注意：生成初始剧情时，先检查上述内容是否完整，如不完整，必须参考相关设定进行完善。）`}(l.value,e.selectedEquipments,e.selectedPartners,e.selectedBackground,e.selectedItems,e.selectedSkills,t.customBackgroundDescription);console.log('✅ AI 提示词已生成：\n',a),await createChatMessages([{role:'user',message:a}]),console.log('✅ 角色信息已发送给 AI'),await triggerSlash('/trigger')}catch(e){console.error('❌ 踏上旅程时发生错误：',e)}}}}async function he(e){const t=o(e),a=async e=>{if(_.isString(e))return async function(e){if(!e)return e;try{return await SillyTavern.substituteParams(e)}catch{return e}}(e);if(_.isArray(e))return Promise.all(e.map(a));if(_.isPlainObject(e)){const t={};for(const[l,o]of Object.entries(e))t[l]=await a(o);return t}return e};return await a(t)}function Be(){const e=q(),{character:t}=a(e);return{availablePoints:(0,r.computed)(()=>{const a=e.consumedPoints;return t.value.reincarnationPoints-a}),canRollPoints:(0,r.computed)(()=>0===e.consumedPoints),rollPoints:()=>e.rollInitialPoints()}}function Ce(){const e=q(),t=(0,r.ref)(!1),a=(0,r.ref)('manage'),l=()=>{a.value='load',t.value=!0};return{showModal:t,modalMode:a,openManageModal:()=>{a.value='manage',t.value=!0},openLoadModal:l,closeModal:()=>{t.value=!1},checkAndShowLoadModal:()=>{(function(){const e=A();return!_.isEmpty(e.presets)})()&&l()},checkMatchingPreset:()=>O(e)}}function xe(e,t){const a=t=>_.some(e(),{name:t.name}),l=e=>t()>=e.cost;return{isSelected:a,canSelect:l,isDisabled:e=>!a(e)&&!l(e)}}const Se=[{title:'基础信息与属性',shortTitle:'信息/属性',step:1},{title:'装备与技能',shortTitle:'装备/技能',step:2},{title:'伙伴与初始背景',shortTitle:'伙伴/背景',step:3},{title:'确认提交',shortTitle:'确认',step:4}],we='Layout',De='BasicInfo',_e='Selections',Pe='Background',Fe='Confirm',Ie='/',$e='/basic',qe={1:De,2:_e,3:Pe,4:Fe},Le={[De]:1,[_e]:2,[Pe]:3,[Fe]:4},Te=Se.length;function Ae(){const e=q(),{character:t}=a(e),l=(0,r.computed)(()=>t.value.reincarnationPoints),o=(0,r.computed)(()=>e.consumedPoints);return{availablePoints:(0,r.computed)(()=>l.value-o.value),totalPoints:l,consumedPoints:o}}const Me={class:'content-area'},Ue=(0,r.defineComponent)({__name:'ContentArea',props:{transitionName:{}},setup:e=>(t,a)=>{const l=(0,r.resolveComponent)('router-view');return(0,r.openBlock)(),(0,r.createElementBlock)('div',Me,[(0,r.createVNode)(l,null,{default:(0,r.withCtx)(({Component:t,route:a})=>[(0,r.createVNode)(r.Transition,{name:e.transitionName,mode:'out-in'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(t),{key:a.path}))]),_:2},1032,['name'])]),_:1})])}}),ze=(0,i.A)(Ue,[['__scopeId','data-v-422e4092']]),Re={class:'header-controls'},je={class:'points-display'},Ge={class:'points-total'},Ke={class:'control-buttons'},Oe=['disabled','title'],He=(0,r.defineComponent)({__name:'HeaderControls',emits:['openPreset'],setup(e,{emit:t}){const l=q(),{character:o}=a(l),{availablePoints:n,canRollPoints:c,rollPoints:s}=Be(),i=t;return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Re,[(0,r.createElementVNode)('div',je,[t[2]||(t[2]=(0,r.createElementVNode)('span',{class:'points-label'},'可用转生点：',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['points-value',{negative:(0,r.unref)(n)<0}])},(0,r.toDisplayString)((0,r.unref)(n)),3),(0,r.createElementVNode)('span',Ge,'/ '+(0,r.toDisplayString)((0,r.unref)(o).reincarnationPoints),1)]),(0,r.createElementVNode)('div',Ke,[(0,r.createElementVNode)('button',{class:'control-button roll-button',disabled:!(0,r.unref)(c),title:(0,r.unref)(c)?'随机生成新的转生点数':'已消耗点数，无法重新 Roll（请先重置）',onClick:t[0]||(t[0]=(...e)=>(0,r.unref)(s)&&(0,r.unref)(s)(...e))},[...t[3]||(t[3]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-dice'},null,-1),(0,r.createElementVNode)('span',{class:'button-text'},'Roll 点数',-1)])],8,Oe),(0,r.createElementVNode)('button',{class:'control-button preset-button',title:'管理角色预设',onClick:t[1]||(t[1]=e=>i('openPreset'))},[...t[4]||(t[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-bookmark'},null,-1),(0,r.createElementVNode)('span',{class:'button-text'},'预设管理',-1)])])])]))}}),Qe=(0,i.A)(He,[['__scopeId','data-v-25795810']]),We={class:'navigation'},Je=['disabled'],Xe=['disabled','title'],Ye={class:'text'},Ze=(0,r.defineComponent)({__name:'NavigationButtons',props:{canGoPrevious:{type:Boolean},isNextDisabled:{type:Boolean},nextButtonText:{},nextDisabledTitle:{}},emits:['previous','next'],setup(e,{emit:t}){const a=t;return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',We,[(0,r.createElementVNode)('button',{class:'nav-button prev-button',disabled:!e.canGoPrevious,onClick:l[0]||(l[0]=e=>a('previous'))},[...l[2]||(l[2]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-chevron-left'},null,-1),(0,r.createElementVNode)('span',{class:'text'},'上一步',-1)])],8,Je),(0,r.createElementVNode)('button',{class:'nav-button next-button',disabled:e.isNextDisabled,title:e.isNextDisabled?e.nextDisabledTitle:void 0,onClick:l[1]||(l[1]=e=>a('next'))},[(0,r.createElementVNode)('span',Ye,(0,r.toDisplayString)(e.nextButtonText),1),l[3]||(l[3]=(0,r.createElementVNode)('i',{class:'fa-solid fa-chevron-right'},null,-1))],8,Xe)]))}}),et=(0,i.A)(Ze,[['__scopeId','data-v-de8f52dc']]),tt={class:'confirm-dialog'},at={class:'confirm-actions'},lt=(0,r.defineComponent)({__name:'SavePresetConfirm',props:{visible:{type:Boolean}},emits:['save','skip','cancel'],setup(e,{emit:t}){const a=t;return(t,l)=>((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:'body'},[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:'confirm-overlay',onClick:l[3]||(l[3]=(0,r.withModifiers)(e=>a('cancel'),['self']))},[(0,r.createElementVNode)('div',tt,[l[7]||(l[7]=(0,r.createElementVNode)('div',{class:'confirm-header'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-bookmark'}),(0,r.createElementVNode)('h3',null,'保存预设')],-1)),l[8]||(l[8]=(0,r.createElementVNode)('div',{class:'confirm-body'},[(0,r.createElementVNode)('p',null,'是否在踏上旅程前保存当前配置为预设？'),(0,r.createElementVNode)('p',{class:'confirm-hint'},'保存后下次可以快速加载相同配置')],-1)),(0,r.createElementVNode)('div',at,[(0,r.createElementVNode)('button',{class:'confirm-button save',onClick:l[0]||(l[0]=e=>a('save'))},[...l[4]||(l[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-floppy-disk'},null,-1),(0,r.createTextVNode)(' 保存预设 ',-1)])]),(0,r.createElementVNode)('button',{class:'confirm-button skip',onClick:l[1]||(l[1]=e=>a('skip'))},[...l[5]||(l[5]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-forward'},null,-1),(0,r.createTextVNode)(' 不保存 ',-1)])]),(0,r.createElementVNode)('button',{class:'confirm-button cancel',onClick:l[2]||(l[2]=e=>a('cancel'))},[...l[6]||(l[6]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1),(0,r.createTextVNode)(' 取消 ',-1)])])])])])):(0,r.createCommentVNode)('v-if',!0)]))}}),ot=(0,i.A)(lt,[['__scopeId','data-v-45c171a6']]),nt={class:'steps'},ct={class:'title'},rt=(0,r.defineComponent)({__name:'Steps',props:{steps:{default:()=>[]},step:{default:1}},setup(e,{expose:t}){const a=e;return t({steps:a.steps,step:a.step}),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',nt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.steps,(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:(0,r.normalizeClass)(['step',{pass:e.step>=a+1}])},[(0,r.createElementVNode)('div',ct,(0,r.toDisplayString)(t.title),1)],2))),128))]))}}),st=(0,i.A)(rt,[['__scopeId','data-v-4595f292']]),it={class:'layout'},dt=(0,r.defineComponent)({__name:'index',setup(e){const t=q(),{currentStep:a,canGoPrevious:l,isLastStep:o,transitionName:n,goToPrevious:c,goToFirst:s,goToStep:i}=function(){const e=(0,u.useRouter)(),t=(0,u.useRoute)(),a=(0,r.ref)('slide-left'),l=(0,r.computed)(()=>{const e=t.meta?.step;if(e)return e;const a=t.name;return Le[a]||1}),o=(0,r.computed)(()=>l.value>1),n=(0,r.computed)(()=>l.value===Te),c=t=>{if(t>=1&&t<=Te){const a=qe[t];a&&e.push({name:a})}};return(0,r.watch)(()=>t.name,(e,t)=>{const l=Le[e]||1,o=Le[t]||1;a.value=l>o?'slide-left':'slide-right'}),{currentStep:l,totalSteps:Te,stepConfigs:Se,canGoPrevious:o,isLastStep:n,transitionName:a,goToPrevious:()=>{const e=l.value-1;e>=1&&c(e)},goToNext:()=>{const e=l.value+1;e<=Te&&c(e)},goToStep:c,goToFirst:()=>{e.push({name:De})}}}(),{showModal:d,modalMode:m,openManageModal:p,closeModal:v,checkAndShowLoadModal:f}=Ce(),V=(0,r.ref)(!1),{executeJourney:k}=be(),{availablePoints:y}=Be(),N=(0,r.ref)(!1),E=Se.map(e=>({title:e.shortTitle}));(0,r.onMounted)(()=>{setTimeout(()=>{f()},300)});const g=()=>{s()},b=()=>{V.value&&(V.value=!1,v(),k())},h=async()=>{if(o.value){const e=O(t);return void(e?(toastr.info(`当前配置与预设「${e}」相同，直接开始旅程`),k()):(N.value=!0,H()))}i(a.value+1)},B=()=>{N.value=!1,V.value=!0,p()},C=()=>{N.value=!1,k()},x=()=>{N.value=!1},S=()=>{V.value=!1,p()},w=(0,r.computed)(()=>!!o.value&&y.value<0),D=(0,r.computed)(()=>o.value?'踏上旅程':'下一步');return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',it,[t[0]||(t[0]=(0,r.createElementVNode)('h1',{class:'main-title'},'命定之诗与黄昏之歌',-1)),(0,r.createVNode)(Qe,{onOpenPreset:S}),(0,r.createVNode)(st,{steps:(0,r.unref)(E),step:(0,r.unref)(a)},null,8,['steps','step']),(0,r.createVNode)(ze,{'transition-name':(0,r.unref)(n)},null,8,['transition-name']),(0,r.createVNode)(et,{'can-go-previous':(0,r.unref)(l),'is-next-disabled':(0,r.unref)(w),'next-button-text':(0,r.unref)(D),'next-disabled-title':'可用转生点数不能为负',onPrevious:(0,r.unref)(c),onNext:h},null,8,['can-go-previous','is-next-disabled','next-button-text','onPrevious']),(0,r.createVNode)(Ne,{visible:(0,r.unref)(d),mode:(0,r.unref)(m),onClose:(0,r.unref)(v),onLoaded:g,onSaved:b},null,8,['visible','mode','onClose']),(0,r.createVNode)(ot,{visible:(0,r.unref)(N),onSave:B,onSkip:C,onCancel:x},null,8,['visible'])]))}}),mt=(0,i.A)(dt,[['__scopeId','data-v-3ba0e588']]),ut={class:'category-sidebar'},pt={class:'category-list'},vt=['disabled','onClick'],ft={class:'content-area'},Vt={key:0,class:'filter-area'},kt={class:'content-main'},yt=(0,r.defineComponent)({__name:'CategorySelectionLayout',props:{categories:{},modelValue:{},categoryNameFormatter:{type:Function,default:e=>e},disabledCategories:{default:()=>[]},contentMaxHeight:{default:'500px'},sidebarWidth:{default:'200px'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=e=>a.disabledCategories.includes(e);return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:'category-selection-layout',style:(0,r.normalizeStyle)({'--sidebar-width':e.sidebarWidth,'--content-max-height':e.contentMaxHeight})},[(0,r.createCommentVNode)(' 左侧：分类导航 '),(0,r.createElementVNode)('nav',ut,[(0,r.createElementVNode)('div',pt,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.categories,t=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:t,class:(0,r.normalizeClass)(['category-item',{active:e.modelValue===t,disabled:o(t)}]),disabled:o(t),onClick:e=>(e=>{a.disabledCategories.includes(e)||l('update:modelValue',e)})(t)},(0,r.toDisplayString)(e.categoryNameFormatter(t)),11,vt))),128)),(0,r.createCommentVNode)(' 分类项插槽，用于在分类后插入额外内容（如二级分类） '),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.categories,a=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:`slot-${a}`},[e.modelValue===a?(0,r.renderSlot)(t.$slots,'sub-category',{key:0,category:a}):(0,r.createCommentVNode)('v-if',!0)],64))),128))])]),(0,r.createCommentVNode)(' 右侧：内容区域 '),(0,r.createElementVNode)('div',ft,[(0,r.createCommentVNode)(' 顶部筛选区域插槽 '),t.$slots.filter?((0,r.openBlock)(),(0,r.createElementBlock)('div',Vt,[(0,r.renderSlot)(t.$slots,'filter')])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 主内容插槽 '),(0,r.createElementVNode)('div',kt,[(0,r.renderSlot)(t.$slots,'content')])])],4))}}),Nt=(0,i.A)(yt,[['__scopeId','data-v-0b4afefe']]),Et={通用开局:[{name:'【自定义开局】',description:'自由发挥你的想象力，编写你自己的人物初始背景。'}]};let gt=null;function bt(){return gt||Et}!async function(){const e=await async function(){return N('backgrounds.json','初始剧情')}();gt=E(Et,e)}();const ht={};let Bt=null;function Ct(){return Bt||ht}!async function(){const e=await async function(){return N('partners.json','伙伴')}();Bt=E(ht,e)}();const xt={class:'form-textarea-wrapper'},St=['rows','placeholder','disabled','readonly','maxlength'],wt=(0,r.defineComponent)({__name:'FormTextarea',props:{modelValue:{},rows:{default:3},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{},autoResize:{type:Boolean,default:!1}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)(),n=(0,r.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),c=e=>{l('focus',e)},s=e=>{l('blur',e)},i=()=>{a.autoResize&&o.value&&(0,r.nextTick)(()=>{o.value&&(o.value.style.height='auto',o.value.style.height=`${o.value.scrollHeight}px`)})};return(0,r.watch)(()=>a.modelValue,i),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',xt,[(0,r.withDirectives)((0,r.createElementVNode)('textarea',{ref_key:'textareaRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),rows:e.rows,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,r.normalizeClass)(['form-textarea',{'is-disabled':e.disabled,'is-readonly':e.readonly,'auto-resize':e.autoResize}]),onFocus:c,onBlur:s,onInput:i},null,42,St),[[r.vModelText,n.value]])]))}}),Dt=(0,i.A)(wt,[['__scopeId','data-v-517d0cac']]),_t={class:'requirement-item'},Pt={class:'requirement-label'},Ft=(0,r.defineComponent)({__name:'RequirementBadge',props:{label:{},requiredValue:{},currentValue:{},matchMode:{default:'exact'}},setup(e){const t=e,a=(0,r.computed)(()=>'prefix'===t.matchMode?t.currentValue===t.requiredValue||t.currentValue.startsWith(t.requiredValue+'-'):t.currentValue===t.requiredValue);return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',_t,[(0,r.createElementVNode)('span',Pt,(0,r.toDisplayString)(e.label)+'：',1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['requirement-value',{'requirement-met':a.value,'requirement-unmet':!a.value}])},(0,r.toDisplayString)(e.requiredValue),3)]))}}),It=(0,i.A)(Ft,[['__scopeId','data-v-18788000']]),$t={class:'background-list'},qt={key:0,class:'empty-message'},Lt=['onClick'],Tt={class:'card-header'},At={class:'background-name'},Mt=['onClick'],Ut={key:0,class:'requirements'},zt={class:'background-summary'},Rt={key:1,class:'requirement-warning'},jt=(0,r.defineComponent)({__name:'BackgroundList',props:{items:{},selectedItem:{},characterRace:{},characterLocation:{},characterIdentity:{}},emits:['select','update:customDescription'],setup(e,{emit:t}){const a=e,l=t,o=L(),n=(0,r.ref)(new Set),c=e=>n.value.has(e),s=e=>a.selectedItem?.name===e.name,i=(e,t)=>!e||e===t,d=e=>{return!!i(e.requiredRace,a.characterRace)&&(!!i(e.requiredIdentity,a.characterIdentity)&&(t=e.requiredLocation,l=a.characterLocation,!(t&&l!==t&&!l.startsWith(t+'-'))));var t,l},m=(0,r.computed)({get:()=>o.customBackgroundDescription,set:e=>o.updateCustomBackgroundDescription(e)}),u=e=>{o.updateCustomBackgroundDescription(e),l('update:customDescription',e)},p=e=>'【自定义开局】'===e.name,v=(0,r.ref)([]),f=(0,r.ref)('');return(0,r.watch)(()=>a.items,async e=>{const t=e.map(e=>e.name).join('|');t===f.value&&v.value.length>0||(f.value=t,v.value=await Promise.all(e.map(he)))},{immediate:!0}),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',$t,[0===v.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',qt,'该分类暂无初始剧情')):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(v.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t.name,class:(0,r.normalizeClass)(['background-card',{selected:s(t),disabled:!d(t),expanded:c(t.name)}]),onClick:e=>(e=>{d(e)&&l('select',e)})(t)},[(0,r.createElementVNode)('div',Tt,[(0,r.createElementVNode)('h3',At,(0,r.toDisplayString)(t.name),1),t.description.length>100?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'expand-btn',onClick:e=>{return a=t.name,e.stopPropagation(),void(n.value.has(a)?n.value.delete(a):n.value.add(a));var a}},(0,r.toDisplayString)(c(t.name)?'收起':'展开'),9,Mt)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 限制要求 '),t.requiredRace||t.requiredLocation||t.requiredIdentity?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ut,[t.requiredRace?((0,r.openBlock)(),(0,r.createBlock)(It,{key:0,label:'种族要求','required-value':t.requiredRace,'current-value':e.characterRace},null,8,['required-value','current-value'])):(0,r.createCommentVNode)('v-if',!0),t.requiredLocation?((0,r.openBlock)(),(0,r.createBlock)(It,{key:1,label:'地区要求','required-value':t.requiredLocation,'current-value':e.characterLocation,'match-mode':'prefix'},null,8,['required-value','current-value'])):(0,r.createCommentVNode)('v-if',!0),t.requiredIdentity?((0,r.openBlock)(),(0,r.createBlock)(It,{key:2,label:'身份要求','required-value':t.requiredIdentity,'current-value':e.characterIdentity},null,8,['required-value','current-value'])):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 描述内容（过长时可折叠） '),(0,r.createElementVNode)('p',zt,[c(t.name)||t.description.length<=100?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)((0,r.toDisplayString)(t.description),1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)((0,r.toDisplayString)(t.description.substring(0,100))+'... ',1)],64))]),(0,r.createCommentVNode)(' 不满足要求时显示提示 '),d(t)?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',Rt,' ⚠️ 不满足该剧情的限定条件 ')),(0,r.createCommentVNode)(' 自定义开局输入框 '),(0,r.withDirectives)((0,r.createElementVNode)('div',{class:'custom-input-area',onClick:a[0]||(a[0]=(0,r.withModifiers)(()=>{},['stop']))},[a[1]||(a[1]=(0,r.createElementVNode)('div',{class:'custom-input-label'},'请编写您的自定义开局剧情：',-1)),(0,r.createVNode)(Dt,{'model-value':m.value,rows:6,placeholder:'在这里发挥您的想象力，编写您自己的人物初始剧情...\n\n例如：您可以描述角色的出身、经历的事件、当前的处境等等。','onUpdate:modelValue':u},null,8,['model-value'])],512),[[r.vShow,p(t)&&s(t)]])],10,Lt))),128))]))}}),Gt=(0,i.A)(jt,[['__scopeId','data-v-20e63764']]),Kt={class:'confirm-header'},Ot={class:'confirm-title'},Ht={class:'confirm-content'},Qt={class:'confirm-message'},Wt={class:'confirm-actions'},Jt=(0,r.defineComponent)({__name:'ConfirmModal',props:{visible:{type:Boolean},title:{default:'确认操作'},message:{},confirmText:{default:'确认'},cancelText:{default:'取消'},type:{default:'warning'}},emits:['confirm','cancel'],setup(e,{emit:t}){const a=e,l=t;(0,r.watch)(()=>a.visible,e=>{e&&H()});const o=(0,r.computed)(()=>{switch(a.type){case'danger':return'fa-solid fa-triangle-exclamation';case'info':return'fa-solid fa-circle-info';default:return'fa-solid fa-circle-question'}}),n=()=>{l('confirm')},c=()=>{l('cancel')};return(t,a)=>((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:'body'},[e.visible?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,class:'confirm-overlay',onClick:(0,r.withModifiers)(c,['self'])},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['confirm-container',`type-${e.type}`])},[(0,r.createCommentVNode)(' 标题栏 '),(0,r.createElementVNode)('div',Kt,[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(['confirm-icon',o.value])},null,2),(0,r.createElementVNode)('h3',Ot,(0,r.toDisplayString)(e.title),1)]),(0,r.createCommentVNode)(' 内容区域 '),(0,r.createElementVNode)('div',Ht,[(0,r.createElementVNode)('p',Qt,(0,r.toDisplayString)(e.message),1)]),(0,r.createCommentVNode)(' 按钮区域 '),(0,r.createElementVNode)('div',Wt,[(0,r.createElementVNode)('button',{class:'btn-cancel',onClick:c},[a[0]||(a[0]=(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.cancelText),1)]),(0,r.createElementVNode)('button',{class:(0,r.normalizeClass)(['btn-confirm',`btn-${e.type}`]),onClick:n},[a[1]||(a[1]=(0,r.createElementVNode)('i',{class:'fa-solid fa-check'},null,-1)),(0,r.createTextVNode)(' '+(0,r.toDisplayString)(e.confirmText),1)],2)])],2)])):(0,r.createCommentVNode)('v-if',!0)]))}}),Xt=(0,i.A)(Jt,[['__scopeId','data-v-62de9d7e']]),Yt={key:0,class:'array-items'},Zt={class:'item-index'},ea=['placeholder','onKeydown'],ta=['onDblclick'],aa={class:'item-actions'},la=['disabled','onClick'],oa=['disabled','onClick'],na=['disabled','onClick'],ca=['disabled','onClick'],ra={class:'empty-state'},sa={class:'empty-text'},ia={key:2,class:'add-item-section'},da=['placeholder','disabled'],ma=['disabled'],ua={class:'add-text'},pa={class:'count-info'},va={class:'count-current'},fa={class:'count-max'},Va=(0,r.defineComponent)({__name:'FormArrayInput',props:{modelValue:{},placeholder:{default:'请输入内容'},maxItems:{default:10},minItems:{default:0},disabled:{type:Boolean,default:!1},addButtonText:{default:'添加项目'},emptyText:{default:'暂无项目，点击下方按钮添加'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)(''),n=(0,r.ref)(null),c=(0,r.ref)(''),s=(0,r.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),i=(0,r.computed)(()=>!a.disabled&&a.modelValue.length>a.minItems),d=()=>{if(!s.value)return;const e=o.value.trim();e&&!a.modelValue.includes(e)&&(l('update:modelValue',[...a.modelValue,e]),o.value='')},m=e=>{a.disabled||(n.value=e,c.value=a.modelValue[e])},u=()=>{if(null===n.value)return;const e=c.value.trim();e&&e!==a.modelValue[n.value]&&(a.modelValue.some((t,a)=>a!==n.value&&t===e)||((e,t)=>{const o=[...a.modelValue];o[e]=t,l('update:modelValue',o)})(n.value,e)),n.value=null,c.value=''},p=()=>{n.value=null,c.value=''},v=(e,t)=>{if(a.disabled)return;const o='up'===t?e-1:e+1;if(o<0||o>=a.modelValue.length)return;const n=[...a.modelValue];[n[e],n[o]]=[n[o],n[e]],l('update:modelValue',n)},f=e=>{'Enter'===e.key&&(e.preventDefault(),d())};return(t,V)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['form-array-input',{'is-disabled':e.disabled}])},[(0,r.createCommentVNode)(' 已有项目列表 '),e.modelValue.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Yt,[(0,r.createVNode)(r.TransitionGroup,{name:'list'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.modelValue,(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`item-${o}-${t}`,class:'array-item'},[(0,r.createCommentVNode)(' 序号标识 '),(0,r.createElementVNode)('span',Zt,(0,r.toDisplayString)(o+1),1),(0,r.createCommentVNode)(' 编辑模式 '),n.value===o?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)('input',{key:0,'onUpdate:modelValue':V[0]||(V[0]=e=>c.value=e),class:'item-input editing',placeholder:e.placeholder,onBlur:p,onKeydown:[(0,r.withKeys)((0,r.withModifiers)(u,['prevent']),['enter']),(0,r.withKeys)((0,r.withModifiers)(p,['prevent']),['escape'])]},null,40,ea)),[[r.vModelText,c.value]]):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 显示模式 '),(0,r.createElementVNode)('span',{class:'item-text',onDblclick:e=>m(o)},(0,r.toDisplayString)(t),41,ta)],2112)),(0,r.createCommentVNode)(' 操作按钮组 '),(0,r.createElementVNode)('div',aa,[(0,r.createElementVNode)('button',{type:'button',class:'action-btn edit-btn',title:'编辑',disabled:e.disabled,onClick:e=>m(o)},[...V[2]||(V[2]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen'},null,-1)])],8,la),(0,r.createElementVNode)('button',{type:'button',class:'action-btn move-btn',title:'上移',disabled:e.disabled||0===o,onClick:e=>v(o,'up')},[...V[3]||(V[3]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-arrow-up'},null,-1)])],8,oa),(0,r.createElementVNode)('button',{type:'button',class:'action-btn move-btn',title:'下移',disabled:e.disabled||o===e.modelValue.length-1,onClick:e=>v(o,'down')},[...V[4]||(V[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-arrow-down'},null,-1)])],8,na),(0,r.createElementVNode)('button',{type:'button',class:'action-btn remove-btn',title:'删除',disabled:!i.value,onClick:e=>(e=>{if(!i.value)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(o)},[...V[5]||(V[5]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1)])],8,ca)])]))),128))]),_:1})])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 空状态 '),(0,r.createElementVNode)('div',ra,[V[6]||(V[6]=(0,r.createElementVNode)('span',{class:'empty-icon'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-clipboard-list'})],-1)),(0,r.createElementVNode)('span',sa,(0,r.toDisplayString)(e.emptyText),1)])],2112)),(0,r.createCommentVNode)(' 添加新项 '),s.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',ia,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':V[1]||(V[1]=e=>o.value=e),type:'text',class:'add-input',placeholder:e.placeholder,disabled:e.disabled,onKeydown:f},null,40,da),[[r.vModelText,o.value]]),(0,r.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled||!o.value.trim(),onClick:d},[V[7]||(V[7]=(0,r.createElementVNode)('span',{class:'add-icon'},'+',-1)),(0,r.createElementVNode)('span',ua,(0,r.toDisplayString)(e.addButtonText),1)],8,ma)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 数量提示 '),(0,r.createElementVNode)('div',pa,[(0,r.createElementVNode)('span',va,(0,r.toDisplayString)(e.modelValue.length),1),V[8]||(V[8]=(0,r.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,r.createElementVNode)('span',fa,(0,r.toDisplayString)(e.maxItems),1),V[9]||(V[9]=(0,r.createElementVNode)('span',{class:'count-label'},'项',-1))])],2))}}),ka=(0,i.A)(Va,[['__scopeId','data-v-c73d04d0']]),ya=['onClick'],Na=['onClick'],Ea={key:1,class:'expand-icon placeholder'},ga={class:'node-label'},ba={key:0,class:'node-children'},ha=(0,r.defineComponent)({__name:'CascaderTreeNode',props:{options:{},modelValue:{},expandedNodes:{},depth:{default:0}},emits:['toggle','select'],setup(e,{emit:t}){const a=e,l=t,o=e=>!!(e.children&&e.children.length>0),n=e=>a.expandedNodes.has(e.value),c=e=>!o(e)&&e.value===a.modelValue,s=e=>{l('toggle',e)},i=(e,t)=>{l('select',e,t)};return(t,a)=>{const d=(0,r.resolveComponent)('CascaderTreeNode',!0);return(0,r.openBlock)(),(0,r.createElementBlock)('div',{class:'tree-level',style:(0,r.normalizeStyle)({paddingLeft:e.depth>0?'16px':'0'})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.options,t=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t.value,class:'tree-node'},[(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['node-content',{'is-selected':c(t),'is-disabled':t.disabled,'has-children':o(t)}]),onClick:e=>((e,t)=>{t.stopPropagation(),l('select',e.value,o(e))})(t,e)},[o(t)?((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:0,class:(0,r.normalizeClass)(['expand-icon',{expanded:n(t)}]),onClick:e=>((e,t)=>{t.stopPropagation(),l('toggle',e.value)})(t,e)},' ▶ ',10,Na)):((0,r.openBlock)(),(0,r.createElementBlock)('span',Ea)),(0,r.createElementVNode)('span',ga,(0,r.toDisplayString)(t.label),1)],10,ya),o(t)&&n(t)?((0,r.openBlock)(),(0,r.createElementBlock)('div',ba,[(0,r.createCommentVNode)(' 递归调用自身 '),(0,r.createVNode)(d,{options:t.children,'model-value':e.modelValue,'expanded-nodes':e.expandedNodes,depth:e.depth+1,onToggle:s,onSelect:i},null,8,['options','model-value','expanded-nodes','depth'])])):(0,r.createCommentVNode)('v-if',!0)]))),128))],4)}}}),Ba=(0,i.A)(ha,[['__scopeId','data-v-0a519f5e']]),Ca={class:'cascader-dropdown'},xa={class:'search-box'},Sa=['placeholder'],wa={key:0,class:'search-results'},Da=['onClick'],_a=['innerHTML'],Pa={key:0,class:'no-results'},Fa={class:'tree-container'},Ia=(0,r.defineComponent)({__name:'FormCascader',props:{modelValue:{},options:{},placeholder:{default:'请选择'},disabled:{type:Boolean,default:!1},searchPlaceholder:{default:'搜索...'},separator:{default:'-'}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)(!1),n=(0,r.ref)(''),c=(0,r.ref)(new Set),s=(0,r.ref)(null),i=(0,r.ref)(null),d=(0,r.computed)(()=>a.modelValue?a.modelValue:a.placeholder),m=(e,t='')=>{const l=[];for(const o of e){const e=t?`${t}${a.separator}${o.label}`:o.label,n=o.value;l.push({option:o,path:e,fullValue:n}),o.children&&o.children.length>0&&l.push(...m(o.children,e))}return l},u=(0,r.computed)(()=>{if(!n.value.trim())return[];const e=n.value.toLowerCase();return m(a.options).filter(t=>t.path.toLowerCase().includes(e)&&!(t.option.children&&t.option.children.length>0))}),p=(0,r.computed)(()=>n.value.trim().length>0),v=e=>{if(!n.value.trim())return e;const t=n.value.trim(),a=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')})`,'gi');return e.replace(a,'<mark class="highlight">$1</mark>')},f=e=>{c.value.has(e)?c.value.delete(e):c.value.add(e),c.value=new Set(c.value)},V=(e,t)=>{t?f(e):(l('update:modelValue',e),l('change',e),o.value=!1,n.value='')},k=()=>{a.disabled||(o.value=!o.value,o.value&&!('ontouchstart'in window||navigator.maxTouchPoints>0)&&(0,r.nextTick)(()=>{i.value?.focus()}))},y=e=>{s.value&&!s.value.contains(e.target)&&(o.value=!1,n.value='')},N=e=>{'Escape'===e.key&&(o.value=!1,n.value='')},E=()=>{if(!a.modelValue)return;const e=a.modelValue.split(a.separator);let t='';for(let l=0;l<e.length-1;l++)t=t?`${t}${a.separator}${e[l]}`:e[l],c.value.add(t)};return(0,r.onMounted)(()=>{document.addEventListener('click',y),document.addEventListener('keydown',N),E()}),(0,r.onUnmounted)(()=>{document.removeEventListener('click',y),document.removeEventListener('keydown',N)}),(0,r.watch)(o,e=>{e||(n.value='')}),(0,r.watch)(()=>a.modelValue,()=>{E()}),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{ref_key:'wrapperRef',ref:s,class:'cascader-wrapper'},[(0,r.createCommentVNode)(' 触发器 '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['cascader-trigger',{'is-open':(0,r.unref)(o),'is-disabled':e.disabled}]),onClick:k},[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['selected-text',{placeholder:!e.modelValue}])},(0,r.toDisplayString)((0,r.unref)(d)),3),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['trigger-arrow',{rotated:(0,r.unref)(o)}])},'▼',2)],2),(0,r.createCommentVNode)(' 下拉面板 '),(0,r.withDirectives)((0,r.createElementVNode)('div',Ca,[(0,r.createCommentVNode)(' 搜索框 '),(0,r.createElementVNode)('div',xa,[(0,r.withDirectives)((0,r.createElementVNode)('input',{ref_key:'searchInputRef',ref:i,'onUpdate:modelValue':a[0]||(a[0]=e=>(0,r.isRef)(n)?n.value=e:null),type:'text',class:'search-input',placeholder:e.searchPlaceholder,onClick:a[1]||(a[1]=(0,r.withModifiers)(()=>{},['stop']))},null,8,Sa),[[r.vModelText,(0,r.unref)(n)]]),(0,r.unref)(n)?((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:0,class:'clear-btn',onClick:a[2]||(a[2]=(0,r.withModifiers)(e=>n.value='',['stop']))},'✕')):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 搜索结果模式 '),(0,r.unref)(p)?((0,r.openBlock)(),(0,r.createElementBlock)('div',wa,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(u),t=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t.fullValue,class:(0,r.normalizeClass)(['search-result-item',{'is-selected':t.fullValue===e.modelValue}]),onClick:e=>{return a=t.fullValue,l('update:modelValue',a),l('change',a),o.value=!1,void(n.value='');var a}},[(0,r.createCommentVNode)(' eslint-disable-next-line vue/no-v-html '),(0,r.createElementVNode)('span',{innerHTML:v(t.path)},null,8,_a)],10,Da))),128)),0===(0,r.unref)(u).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Pa,'无匹配结果')):(0,r.createCommentVNode)('v-if',!0)])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 树形浏览模式 '),(0,r.createElementVNode)('div',Fa,[(0,r.createVNode)(Ba,{options:e.options,'model-value':e.modelValue,'expanded-nodes':(0,r.unref)(c),depth:0,onToggle:f,onSelect:V},null,8,['options','model-value','expanded-nodes'])])],2112))],512),[[r.vShow,(0,r.unref)(o)]])],512))}}),$a=(0,i.A)(Ia,[['__scopeId','data-v-8dd65b4a']]),qa={class:'form-input-wrapper'},La=['type','placeholder','disabled','readonly','maxlength'],Ta=(0,r.defineComponent)({__name:'FormInput',props:{modelValue:{},type:{default:'text'},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),n=e=>{l('focus',e)},c=e=>{l('blur',e)};return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',qa,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:e.type,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,r.normalizeClass)(['form-input',{'is-disabled':e.disabled,'is-readonly':e.readonly}]),onFocus:n,onBlur:c},null,42,La),[[r.vModelDynamic,o.value]])]))}}),Aa=(0,i.A)(Ta,[['__scopeId','data-v-68bda4ea']]),Ma={key:0,class:'kv-list'},Ua={class:'row-index'},za={class:'row-inputs'},Ra=['placeholder'],ja=['placeholder'],Ga={class:'row-text'},Ka={class:'kv-key'},Oa={class:'kv-value'},Ha={class:'row-actions'},Qa=['disabled','onClick'],Wa=['disabled','onClick'],Ja={key:1,class:'empty-state'},Xa={class:'empty-text'},Ya={key:2,class:'add-row'},Za=['placeholder','disabled'],el=['placeholder','disabled'],tl=['disabled'],al={class:'count-info'},ll={class:'count-current'},ol={class:'count-max'},nl=(0,r.defineComponent)({__name:'FormKeyValueInput',props:{modelValue:{},placeholderKey:{default:'请输入字段名'},placeholderValue:{default:'请输入对应内容'},maxItems:{default:20},minItems:{default:0},disabled:{type:Boolean,default:!1},addButtonText:{default:'添加条目'},emptyText:{default:'暂无条目，点击下方按钮添加'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)([]),n=(0,r.ref)(''),c=(0,r.ref)(''),s=(0,r.ref)(null),i=(0,r.ref)(null),d=(0,r.computed)(()=>!a.disabled&&o.value.length<a.maxItems),m=(0,r.computed)(()=>!a.disabled&&o.value.length>a.minItems),u=e=>{const t={};e.forEach(e=>{e.key.trim()&&(t[e.key.trim()]=e.value?.trim()??'')}),l('update:modelValue',t)};(0,r.watch)(()=>a.modelValue,e=>{o.value=Object.entries(e||{}).map(([e,t])=>({key:e,value:t??''}))},{immediate:!0,deep:!0});const p=()=>{if(!d.value)return;const e=n.value.trim();if(!e)return;const t=c.value.trim(),a=o.value.findIndex(t=>t.key===e);if(a>=0){const l=[...o.value];l[a]={key:e,value:t},o.value=l,u(l)}else{const a=[...o.value,{key:e,value:t}];o.value=a,u(a)}n.value='',c.value=''},v=()=>{s.value=null,i.value=null},f=()=>{if(null===s.value||!i.value)return;const e=i.value.key.trim(),t=i.value.value.trim();if(!e)return;if(o.value.some((t,a)=>a!==s.value&&t.key===e))return;const a=[...o.value];a[s.value]={key:e,value:t},o.value=a,u(a),v()},V=e=>{'Enter'===e.key&&(e.preventDefault(),p())};return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['form-key-value',{'is-disabled':e.disabled}])},[o.value.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ma,[(0,r.createVNode)(r.TransitionGroup,{name:'kv-list'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.value,(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`kv-${n}-${t.key}`,class:'kv-row'},[(0,r.createElementVNode)('span',Ua,(0,r.toDisplayString)(n+1),1),s.value===n&&i.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)('div',za,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':l[0]||(l[0]=e=>i.value.key=e),class:'kv-input',placeholder:e.placeholderKey,onKeydown:(0,r.withKeys)(f,['enter'])},null,40,Ra),[[r.vModelText,i.value.key]]),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':l[1]||(l[1]=e=>i.value.value=e),class:'kv-input',placeholder:e.placeholderValue,onKeydown:(0,r.withKeys)(f,['enter'])},null,40,ja),[[r.vModelText,i.value.value]])]),(0,r.createElementVNode)('div',{class:'row-actions'},[(0,r.createElementVNode)('button',{type:'button',class:'action-btn',onClick:f},'保存'),(0,r.createElementVNode)('button',{type:'button',class:'action-btn subtle',onClick:v},'取消')])],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createElementVNode)('div',Ga,[(0,r.createElementVNode)('span',Ka,(0,r.toDisplayString)(t.key),1),l[4]||(l[4]=(0,r.createElementVNode)('span',{class:'kv-separator'},':',-1)),(0,r.createElementVNode)('span',Oa,(0,r.toDisplayString)(t.value),1)]),(0,r.createElementVNode)('div',Ha,[(0,r.createElementVNode)('button',{type:'button',class:'action-btn',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(s.value=e,i.value={...o.value[e]})})(n)},' 编辑 ',8,Qa),(0,r.createElementVNode)('button',{type:'button',class:'action-btn danger',disabled:!m.value,onClick:e=>(e=>{if(!m.value)return;const t=[...o.value];t.splice(e,1),o.value=t,u(t)})(n)},' 删除 ',8,Wa)])],64))]))),128))]),_:1})])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Ja,[(0,r.createElementVNode)('span',Xa,(0,r.toDisplayString)(e.emptyText),1)])),d.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ya,[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':l[2]||(l[2]=e=>n.value=e),class:'kv-input',placeholder:e.placeholderKey,disabled:e.disabled,onKeydown:V},null,40,Za),[[r.vModelText,n.value]]),(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':l[3]||(l[3]=e=>c.value=e),class:'kv-input',placeholder:e.placeholderValue,disabled:e.disabled,onKeydown:V},null,40,el),[[r.vModelText,c.value]]),(0,r.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled||!n.value.trim(),onClick:p},(0,r.toDisplayString)(e.addButtonText),9,tl)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',al,[(0,r.createElementVNode)('span',ll,(0,r.toDisplayString)(o.value.length),1),l[5]||(l[5]=(0,r.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,r.createElementVNode)('span',ol,(0,r.toDisplayString)(e.maxItems),1),l[6]||(l[6]=(0,r.createElementVNode)('span',{class:'count-label'},'项',-1))])],2))}}),cl=(0,i.A)(nl,[['__scopeId','data-v-a1444030']]),rl=['for'],sl={key:0,class:'required-mark'},il=(0,r.defineComponent)({__name:'FormLabel',props:{label:{},required:{type:Boolean,default:!1},htmlFor:{}},setup:e=>(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('label',{for:e.htmlFor,class:(0,r.normalizeClass)(['form-label',{'is-required':e.required}])},[(0,r.renderSlot)(t.$slots,'icon'),(0,r.createElementVNode)('span',null,(0,r.toDisplayString)(e.label),1),e.required?((0,r.openBlock)(),(0,r.createElementBlock)('span',sl,'*')):(0,r.createCommentVNode)('v-if',!0)],10,rl))}),dl=(0,i.A)(il,[['__scopeId','data-v-11a19624']]),ml={class:'form-number-wrapper'},ul=['min','max','step','placeholder','disabled','readonly'],pl={key:0,class:'number-controls'},vl=['disabled'],fl=['disabled'],Vl=(0,r.defineComponent)({__name:'FormNumber',props:{modelValue:{},min:{default:1},max:{default:1e4},step:{default:1},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showControls:{type:Boolean,default:!0}},emits:['update:modelValue','change','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)(),n=(0,r.computed)({get:()=>a.modelValue,set:e=>{const t=Number(e);if(!isNaN(t)){const e=Math.max(a.min,Math.min(a.max,t));l('update:modelValue',e),l('change',e)}}}),c=()=>{if(!a.disabled&&!a.readonly){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('change',e)}},s=()=>{if(!a.disabled&&!a.readonly){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('change',e)}},i=e=>{let t;t=isNaN(a.modelValue)||null===a.modelValue?a.min:Math.max(a.min,Math.min(a.max,a.modelValue)),t!==a.modelValue&&(l('update:modelValue',t),l('change',t)),o.value&&(o.value.value=String(t)),l('blur',e)};return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',ml,[(0,r.withDirectives)((0,r.createElementVNode)('input',{ref_key:'inputRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),type:'number',min:e.min,max:e.max,step:e.step,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,class:(0,r.normalizeClass)(['form-number',{'is-disabled':e.disabled,'is-readonly':e.readonly,'has-controls':e.showControls}]),onBlur:i},null,42,ul),[[r.vModelText,n.value,void 0,{number:!0}]]),e.showControls?((0,r.openBlock)(),(0,r.createElementBlock)('div',pl,[(0,r.createElementVNode)('button',{type:'button',class:'control-btn up',disabled:e.disabled||e.readonly||e.modelValue>=e.max,onClick:c},' ▲ ',8,vl),(0,r.createElementVNode)('button',{type:'button',class:'control-btn down',disabled:e.disabled||e.readonly||e.modelValue<=e.min,onClick:s},' ▼ ',8,fl)])):(0,r.createCommentVNode)('v-if',!0)]))}}),kl=(0,i.A)(Vl,[['__scopeId','data-v-48d2dd58']]),yl=['value','disabled'],Nl={class:'radio-label'},El=(0,r.defineComponent)({__name:'FormRadio',props:{modelValue:{type:[String,Number,Boolean]},options:{},disabled:{type:Boolean,default:!1},layout:{default:'vertical'}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.computed)({get:()=>a.modelValue,set:e=>{l('update:modelValue',e),l('change',e)}}),n=(0,r.computed)(()=>a.options.map(e=>'string'==typeof e?{label:e,value:e,disabled:!1}:e));return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['form-radio-group',[`layout-${e.layout}`]])},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.value,(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)('label',{key:l,class:(0,r.normalizeClass)(['radio-option',{'is-checked':o.value===t.value,'is-disabled':e.disabled||t.disabled}])},[(0,r.withDirectives)((0,r.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:'radio',value:t.value,disabled:e.disabled||t.disabled,class:'radio-input'},null,8,yl),[[r.vModelRadio,o.value]]),a[1]||(a[1]=(0,r.createElementVNode)('span',{class:'radio-indicator'},null,-1)),(0,r.createElementVNode)('span',Nl,(0,r.toDisplayString)(t.label),1)],2))),128))],2))}}),gl=(0,i.A)(El,[['__scopeId','data-v-588d959c']]),bl={class:'selected-text'},hl={class:'select-dropdown'},Bl={class:'search-box'},Cl=['placeholder'],xl={class:'options-list'},Sl=['onClick'],wl=['innerHTML'],Dl={key:0,class:'no-results'},_l={class:'form-select-wrapper'},Pl=['value','disabled'],Fl={key:0,value:'',disabled:''},Il=['value','disabled'],$l=(0,r.defineComponent)({__name:'FormSelect',props:{modelValue:{},options:{},placeholder:{default:'请选择'},disabled:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchPlaceholder:{default:'搜索...'}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.ref)(''),n=(0,r.ref)(!1),c=(0,r.ref)(null),s=(0,r.ref)(null),i=(0,r.computed)(()=>a.options.map(e=>'string'==typeof e?{label:e,value:e,disabled:!1}:e)),d=(0,r.computed)(()=>{if(!o.value.trim())return i.value;const e=o.value.toLowerCase();return i.value.filter(t=>t.label.toLowerCase().includes(e))}),m=(0,r.computed)(()=>{const e=i.value.find(e=>e.value===a.modelValue);return e?e.label:a.placeholder}),u=e=>{if(!o.value.trim())return e;const t=o.value.trim(),a=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')})`,'gi');return e.replace(a,'<mark class="highlight">$1</mark>')},p=()=>{a.disabled||(n.value=!n.value,n.value&&a.searchable&&!('ontouchstart'in window||navigator.maxTouchPoints>0)&&(0,r.nextTick)(()=>{s.value?.focus()}))},v=e=>{c.value&&!c.value.contains(e.target)&&(n.value=!1,o.value='')},f=e=>{'Escape'===e.key&&(n.value=!1,o.value='')},V=e=>{const t=e.target;l('update:modelValue',t.value),l('change',t.value)};return(0,r.onMounted)(()=>{document.addEventListener('click',v),document.addEventListener('keydown',f)}),(0,r.onUnmounted)(()=>{document.removeEventListener('click',v),document.removeEventListener('keydown',f)}),(0,r.watch)(n,e=>{e||(o.value='')}),(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createCommentVNode)(' 可搜索模式：自定义下拉 '),e.searchable?((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:0,ref_key:'wrapperRef',ref:c,class:'form-select-wrapper searchable'},[(0,r.createCommentVNode)(' 触发器 '),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['form-select-trigger',{'is-open':n.value,'is-disabled':e.disabled}]),onClick:p},[(0,r.createElementVNode)('span',bl,(0,r.toDisplayString)(m.value),1),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['select-arrow',{rotated:n.value}])},'▼',2)],2),(0,r.createCommentVNode)(' 下拉面板 '),(0,r.withDirectives)((0,r.createElementVNode)('div',hl,[(0,r.createCommentVNode)(' 搜索框 '),(0,r.createElementVNode)('div',Bl,[(0,r.withDirectives)((0,r.createElementVNode)('input',{ref_key:'searchInputRef',ref:s,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:'text',class:'search-input',placeholder:e.searchPlaceholder,onClick:a[1]||(a[1]=(0,r.withModifiers)(()=>{},['stop']))},null,8,Cl),[[r.vModelText,o.value]]),o.value?((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:0,class:'clear-btn',onClick:a[2]||(a[2]=(0,r.withModifiers)(e=>o.value='',['stop']))},'✕')):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 选项列表 '),(0,r.createElementVNode)('div',xl,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(d.value,t=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t.value,class:(0,r.normalizeClass)(['option-item',{'is-selected':t.value===e.modelValue,'is-disabled':t.disabled}]),onClick:e=>(e=>{e.disabled||(l('update:modelValue',e.value),l('change',e.value),n.value=!1,o.value='')})(t)},[(0,r.createCommentVNode)(' eslint-disable-next-line vue/no-v-html '),(0,r.createElementVNode)('span',{innerHTML:u(t.label)},null,8,wl)],10,Sl))),128)),0===d.value.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Dl,'无匹配结果')):(0,r.createCommentVNode)('v-if',!0)])],512),[[r.vShow,n.value]])],512)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 非搜索模式：原生 select '),(0,r.createElementVNode)('div',_l,[(0,r.createElementVNode)('select',{value:e.modelValue,disabled:e.disabled,class:(0,r.normalizeClass)(['form-select',{'is-disabled':e.disabled}]),onChange:V},[e.placeholder?((0,r.openBlock)(),(0,r.createElementBlock)('option',Fl,(0,r.toDisplayString)(e.placeholder),1)):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.value,e=>((0,r.openBlock)(),(0,r.createElementBlock)('option',{key:e.value,value:e.value,disabled:e.disabled},(0,r.toDisplayString)(e.label),9,Il))),128))],42,Pl),a[3]||(a[3]=(0,r.createElementVNode)('span',{class:'select-arrow'},'▼',-1))])],2112))],2112))}}),ql=(0,i.A)($l,[['__scopeId','data-v-4a660eb2']]),Ll={class:'form-stepper'},Tl={key:0,class:'stepper-label'},Al={class:'stepper-controls'},Ml=['disabled'],Ul={class:'stepper-value'},zl=['disabled'],Rl=(0,r.defineComponent)({__name:'FormStepper',props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1},disabled:{type:Boolean,default:!1},disableIncrement:{type:Boolean,default:!1},label:{}},emits:['update:modelValue','increment','decrement'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.computed)(()=>!a.disabled&&a.modelValue>a.min),n=(0,r.computed)(()=>!a.disabled&&!a.disableIncrement&&a.modelValue<a.max),c=()=>{if(n.value){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('increment')}},s=()=>{if(o.value){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('decrement')}};return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Ll,[e.label?((0,r.openBlock)(),(0,r.createElementBlock)('span',Tl,(0,r.toDisplayString)(e.label),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',Al,[(0,r.createElementVNode)('button',{type:'button',class:'stepper-btn decrement',disabled:!o.value,onClick:s},' − ',8,Ml),(0,r.createElementVNode)('span',Ul,(0,r.toDisplayString)(e.modelValue),1),(0,r.createElementVNode)('button',{type:'button',class:'stepper-btn increment',disabled:!n.value,onClick:c},' + ',8,zl)])]))}}),jl=(0,i.A)(Rl,[['__scopeId','data-v-bf006b3c']]),Gl={common:{min:5,max:30},uncommon:{min:20,max:60},rare:{min:35,max:100},epic:{min:80,max:200},legendary:{min:150,max:400},mythic:{min:300,max:1e3},only:{min:666,max:666}};const Kl=[100,213,456,2678,4642,8318,9999];const Ol={class:'attribute-grid'},Hl={class:'total-points'},Ql={class:'total-value'},Wl=(0,r.defineComponent)({__name:'AttributeEditor',props:{modelValue:{},min:{default:1},max:{default:100},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=[{key:'strength',label:'力量',icon:'fa-solid fa-dumbbell'},{key:'dexterity',label:'敏捷',icon:'fa-solid fa-person-running'},{key:'constitution',label:'体质',icon:'fa-solid fa-heart-pulse'},{key:'intelligence',label:'智力',icon:'fa-solid fa-brain'},{key:'mind',label:'精神',icon:'fa-solid fa-wand-magic-sparkles'}],n=(0,r.computed)(()=>Object.values(a.modelValue).reduce((e,t)=>e+t,0));return(t,c)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['attribute-editor',{'is-disabled':e.disabled}])},[(0,r.createElementVNode)('div',Ol,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o,t=>(0,r.createElementVNode)('div',{key:t.key,class:'attribute-item'},[(0,r.createVNode)((0,r.unref)(dl),{label:t.label},{icon:(0,r.withCtx)(()=>[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(['label-icon',t.icon]),'aria-hidden':'true'},null,2)]),_:2},1032,['label']),(0,r.createVNode)((0,r.unref)(kl),{'model-value':e.modelValue[t.key],min:e.min,max:e.max,disabled:e.disabled,'onUpdate:modelValue':e=>{return o=t.key,n=e,void l('update:modelValue',{...a.modelValue,[o]:n});var o,n}},null,8,['model-value','min','max','disabled','onUpdate:modelValue'])])),64))]),(0,r.createElementVNode)('div',Hl,[c[0]||(c[0]=(0,r.createElementVNode)('span',{class:'total-label'},'属性总和：',-1)),(0,r.createElementVNode)('span',Ql,(0,r.toDisplayString)(n.value),1)])],2))}}),Jl=(0,i.A)(Wl,[['__scopeId','data-v-e089f256']]),Xl=Jl,Yl={key:0,class:'equipment-list'},Zl={key:0,class:'edit-form'},eo={class:'form-row'},to={class:'form-row-group'},ao={class:'form-row half'},lo={class:'form-row half'},oo={class:'form-row'},no={class:'form-row'},co={class:'form-row'},ro={class:'edit-actions'},so=['disabled'],io={class:'item-header'},mo={class:'item-type'},uo={class:'item-name'},po={key:0,class:'item-tag'},vo={key:1,class:'item-effect'},fo={class:'effect-list'},Vo={class:'effect-key'},ko={class:'effect-value'},yo={key:2,class:'item-description'},No={class:'item-actions'},Eo=['disabled','onClick'],go=['disabled','onClick'],bo={key:2,class:'add-form'},ho={class:'form-row'},Bo={class:'form-row-group'},Co={class:'form-row half'},xo={class:'form-row half'},So={class:'form-row'},wo={class:'form-row'},Do={class:'form-row'},_o={class:'add-form-actions'},Po=['disabled'],Fo={key:3,class:'add-section'},Io=['disabled'],$o={class:'count-info'},qo={class:'count-current'},Lo={class:'count-max'},To=(0,r.defineComponent)({__name:'EquipmentEditor',props:{modelValue:{},maxItems:{default:10},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=p.map(e=>({label:e.label,value:e.value})),n=v.map(e=>({label:e.label,value:e.value})),c=(0,r.ref)(null),s=(0,r.ref)({name:'',type:v[0].value,tag:[],rarity:'common',effect:{},description:''}),i=(0,r.ref)(null),d=(0,r.ref)(!1),m=(0,r.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),u=()=>{s.value={name:'',type:v[0].value,tag:[],rarity:'common',effect:{},description:''}},f=()=>{if(!m.value||!s.value.name.trim())return;const e={...s.value,name:s.value.name.trim(),tag:s.value.tag.filter(e=>''!==e.trim()),effect:{...s.value.effect},description:s.value.description?.trim()||''};l('update:modelValue',[...a.modelValue,e]),u(),d.value=!1},V=()=>{if(null===c.value||!i.value)return;const e=[...a.modelValue];e[c.value]={...i.value,name:i.value.name.trim(),tag:i.value.tag.filter(e=>''!==e.trim()),effect:{...i.value.effect},description:i.value.description?.trim()||''},l('update:modelValue',e),N()},N=()=>{c.value=null,i.value=null},E=()=>{d.value=!d.value,d.value||u()};return(0,r.watch)(()=>a.disabled,e=>{e&&(N(),d.value=!1)}),(t,u)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['equipment-editor',{'is-disabled':e.disabled}])},[(0,r.createCommentVNode)(' 装备列表 '),e.modelValue.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Yl,[(0,r.createVNode)(r.TransitionGroup,{name:'equip-list'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.modelValue,(t,s)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`equip-${s}-${t.name}`,class:(0,r.normalizeClass)(['equipment-item',{editing:c.value===s}])},[(0,r.createCommentVNode)(' 编辑模式 '),c.value===s&&i.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Zl,[(0,r.createElementVNode)('div',eo,[(0,r.createVNode)((0,r.unref)(dl),{label:'装备名称'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:i.value.name,'onUpdate:modelValue':u[0]||(u[0]=e=>i.value.name=e),placeholder:'请输入装备名称'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',to,[(0,r.createElementVNode)('div',ao,[(0,r.createVNode)((0,r.unref)(dl),{label:'类型'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:i.value.type,'onUpdate:modelValue':u[1]||(u[1]=e=>i.value.type=e),options:(0,r.unref)(n)},null,8,['modelValue','options'])]),(0,r.createElementVNode)('div',lo,[(0,r.createVNode)((0,r.unref)(dl),{label:'品质'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:i.value.rarity,'onUpdate:modelValue':u[2]||(u[2]=e=>i.value.rarity=e),options:(0,r.unref)(o)},null,8,['modelValue','options'])])]),(0,r.createElementVNode)('div',oo,[(0,r.createVNode)((0,r.unref)(dl),{label:'标签'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:i.value.tag,'onUpdate:modelValue':u[3]||(u[3]=e=>i.value.tag=e),placeholder:'输入标签后按回车添加或保存','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',no,[(0,r.createVNode)((0,r.unref)(dl),{label:'效果'}),(0,r.createVNode)((0,r.unref)(cl),{modelValue:i.value.effect,'onUpdate:modelValue':u[4]||(u[4]=e=>i.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',co,[(0,r.createVNode)((0,r.unref)(dl),{label:'描述'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:i.value.description,'onUpdate:modelValue':u[5]||(u[5]=e=>i.value.description=e),rows:2,placeholder:'请输入装备描述（可选）'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',ro,[(0,r.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:N},'取消'),(0,r.createElementVNode)('button',{type:'button',class:'btn-save',disabled:!i.value.name.trim(),onClick:V},' 保存 ',8,so)])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 显示模式 '),(0,r.createElementVNode)('div',io,[(0,r.createElementVNode)('span',mo,(0,r.toDisplayString)(t.type||'武器'),1),(0,r.createElementVNode)('span',uo,(0,r.toDisplayString)(t.name),1),(0,r.createElementVNode)('span',{class:'item-rarity',style:(0,r.normalizeStyle)({'--rarity-color':(0,r.unref)(y)(t.rarity)})},(0,r.toDisplayString)((0,r.unref)(k)(t.rarity)),5)]),t.tag&&t.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',po,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.tag,e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'tag-text'},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)('v-if',!0),Object.keys(t.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',vo,[u[12]||(u[12]=(0,r.createElementVNode)('span',{class:'effect-label'},'效果：',-1)),(0,r.createElementVNode)('div',fo,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'effect-row'},[(0,r.createElementVNode)('span',Vo,(0,r.toDisplayString)(t)+'：',1),(0,r.createElementVNode)('span',ko,(0,r.toDisplayString)(e),1)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),t.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',yo,(0,r.toDisplayString)(t.description),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',No,[(0,r.createElementVNode)('button',{type:'button',class:'action-btn edit',title:'编辑',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(c.value=e,i.value={...a.modelValue[e]})})(s)},[...u[13]||(u[13]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1),(0,r.createTextVNode)(' 编辑 ',-1)])],8,Eo),(0,r.createElementVNode)('button',{type:'button',class:'action-btn delete',title:'删除',disabled:e.disabled,onClick:e=>(e=>{if(a.disabled)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(s)},[...u[14]||(u[14]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash','aria-hidden':'true'},null,-1),(0,r.createTextVNode)(' 删除 ',-1)])],8,go)])],64))],2))),128))]),_:1})])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 空状态 '),u[15]||(u[15]=(0,r.createElementVNode)('div',{class:'empty-state'},[(0,r.createElementVNode)('span',{class:'empty-icon'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'})]),(0,r.createElementVNode)('span',{class:'empty-text'},'暂无装备，点击下方按钮添加')],-1))],2112)),(0,r.createCommentVNode)(' 添加装备表单 '),d.value&&m.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',bo,[(0,r.createElementVNode)('div',{class:'add-form-header'},[u[17]||(u[17]=(0,r.createElementVNode)('span',{class:'form-title'},'添加新装备',-1)),(0,r.createElementVNode)('button',{type:'button',class:'close-btn',onClick:E},[...u[16]||(u[16]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])])]),(0,r.createElementVNode)('div',ho,[(0,r.createVNode)((0,r.unref)(dl),{label:'装备名称',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:s.value.name,'onUpdate:modelValue':u[6]||(u[6]=e=>s.value.name=e),placeholder:'请输入装备名称'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Bo,[(0,r.createElementVNode)('div',Co,[(0,r.createVNode)((0,r.unref)(dl),{label:'类型'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:s.value.type,'onUpdate:modelValue':u[7]||(u[7]=e=>s.value.type=e),options:(0,r.unref)(n)},null,8,['modelValue','options'])]),(0,r.createElementVNode)('div',xo,[(0,r.createVNode)((0,r.unref)(dl),{label:'品质'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:s.value.rarity,'onUpdate:modelValue':u[8]||(u[8]=e=>s.value.rarity=e),options:(0,r.unref)(o)},null,8,['modelValue','options'])])]),(0,r.createElementVNode)('div',So,[(0,r.createVNode)((0,r.unref)(dl),{label:'标签'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:s.value.tag,'onUpdate:modelValue':u[9]||(u[9]=e=>s.value.tag=e),placeholder:'输入标签后按回车添加或保存','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',wo,[(0,r.createVNode)((0,r.unref)(dl),{label:'效果'}),(0,r.createVNode)((0,r.unref)(cl),{modelValue:s.value.effect,'onUpdate:modelValue':u[10]||(u[10]=e=>s.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Do,[(0,r.createVNode)((0,r.unref)(dl),{label:'描述'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:s.value.description,'onUpdate:modelValue':u[11]||(u[11]=e=>s.value.description=e),rows:2,placeholder:'请输入装备描述（可选）'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',_o,[(0,r.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:E},'取消'),(0,r.createElementVNode)('button',{type:'button',class:'btn-add',disabled:!s.value.name.trim(),onClick:f},' 添加装备 ',8,Po)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 添加按钮 '),m.value&&!d.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Fo,[(0,r.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled,onClick:E},[...u[18]||(u[18]=[(0,r.createElementVNode)('span',{class:'add-icon'},'+',-1),(0,r.createElementVNode)('span',{class:'add-text'},'添加装备',-1)])],8,Io)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 数量提示 '),(0,r.createElementVNode)('div',$o,[(0,r.createElementVNode)('span',qo,(0,r.toDisplayString)(e.modelValue.length),1),u[19]||(u[19]=(0,r.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,r.createElementVNode)('span',Lo,(0,r.toDisplayString)(e.maxItems),1),u[20]||(u[20]=(0,r.createElementVNode)('span',{class:'count-label'},'件装备',-1))])],2))}}),Ao=(0,i.A)(To,[['__scopeId','data-v-8ad64c50']]),Mo=Ao,Uo={key:0,class:'skill-list'},zo={key:0,class:'edit-form'},Ro={class:'form-row'},jo={class:'form-row-group'},Go={class:'form-row half'},Ko={class:'form-row half'},Oo={class:'form-row'},Ho={class:'form-row'},Qo={class:'form-row'},Wo={class:'form-row'},Jo={class:'edit-actions'},Xo=['disabled'],Yo={class:'item-header'},Zo={class:'item-type'},en={class:'item-name'},tn={key:0,class:'item-tag'},an={key:1,class:'item-consume'},ln={class:'consume-text'},on={key:2,class:'item-effect'},nn={class:'effect-list'},cn={class:'effect-key'},rn={class:'effect-value'},sn={key:3,class:'item-description'},dn={class:'item-actions'},mn=['disabled','onClick'],un=['disabled','onClick'],pn={key:2,class:'add-form'},vn={class:'form-row'},fn={class:'form-row-group'},Vn={class:'form-row half'},kn={class:'form-row half'},yn={class:'form-row'},Nn={class:'form-row'},En={class:'form-row'},gn={class:'form-row'},bn={class:'add-form-actions'},hn=['disabled'],Bn={key:3,class:'add-section'},Cn=['disabled'],xn={class:'count-info'},Sn={class:'count-current'},wn={class:'count-max'},Dn=(0,r.defineComponent)({__name:'SkillEditor',props:{modelValue:{},maxItems:{default:20},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=p.map(e=>({label:e.label,value:e.value})),n=f.map(e=>({label:e.label,value:e.value})),c=(0,r.ref)(null),s=(0,r.ref)({name:'',type:f[0].value,tag:[],rarity:'common',consume:'',effect:{},description:''}),i=(0,r.ref)(null),d=(0,r.ref)(!1),m=(0,r.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),u=()=>{s.value={name:'',type:f[0].value,tag:[],rarity:'common',consume:'',effect:{},description:''}},v=()=>{if(!m.value||!s.value.name.trim())return;const e={...s.value,name:s.value.name.trim(),tag:s.value.tag.filter(e=>''!==e.trim()),consume:s.value.consume?.trim()||'',effect:{...s.value.effect},description:s.value.description?.trim()||''};l('update:modelValue',[...a.modelValue,e]),u(),d.value=!1},V=()=>{if(null===c.value||!i.value)return;const e=[...a.modelValue];e[c.value]={...i.value,name:i.value.name.trim(),tag:i.value.tag.filter(e=>''!==e.trim()),consume:i.value.consume?.trim()||'',effect:{...i.value.effect},description:i.value.description?.trim()||''},l('update:modelValue',e),N()},N=()=>{c.value=null,i.value=null},E=()=>{d.value=!d.value,d.value||u()};return(0,r.watch)(()=>a.disabled,e=>{e&&(N(),d.value=!1)}),(t,u)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['skill-editor',{'is-disabled':e.disabled}])},[(0,r.createCommentVNode)(' 技能列表 '),e.modelValue.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Uo,[(0,r.createVNode)(r.TransitionGroup,{name:'skill-list'},{default:(0,r.withCtx)(()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.modelValue,(t,s)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`skill-${s}-${t.name}`,class:(0,r.normalizeClass)(['skill-item',{editing:c.value===s}])},[(0,r.createCommentVNode)(' 编辑模式 '),c.value===s&&i.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',zo,[(0,r.createElementVNode)('div',Ro,[(0,r.createVNode)((0,r.unref)(dl),{label:'技能名称'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:i.value.name,'onUpdate:modelValue':u[0]||(u[0]=e=>i.value.name=e),placeholder:'请输入技能名称'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',jo,[(0,r.createElementVNode)('div',Go,[(0,r.createVNode)((0,r.unref)(dl),{label:'类型'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:i.value.type,'onUpdate:modelValue':u[1]||(u[1]=e=>i.value.type=e),options:(0,r.unref)(n)},null,8,['modelValue','options'])]),(0,r.createElementVNode)('div',Ko,[(0,r.createVNode)((0,r.unref)(dl),{label:'品质'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:i.value.rarity,'onUpdate:modelValue':u[2]||(u[2]=e=>i.value.rarity=e),options:(0,r.unref)(o)},null,8,['modelValue','options'])])]),(0,r.createElementVNode)('div',Oo,[(0,r.createVNode)((0,r.unref)(dl),{label:'标签'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:i.value.tag,'onUpdate:modelValue':u[3]||(u[3]=e=>i.value.tag=e),placeholder:'输入标签后按回车添加或保存','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Ho,[(0,r.createVNode)((0,r.unref)(dl),{label:'消耗'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:i.value.consume,'onUpdate:modelValue':u[4]||(u[4]=e=>i.value.consume=e),placeholder:'例如：[攻击:50MP] 或 [动作:30SP]'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Qo,[(0,r.createVNode)((0,r.unref)(dl),{label:'效果'}),(0,r.createVNode)((0,r.unref)(cl),{modelValue:i.value.effect,'onUpdate:modelValue':u[5]||(u[5]=e=>i.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Wo,[(0,r.createVNode)((0,r.unref)(dl),{label:'描述'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:i.value.description,'onUpdate:modelValue':u[6]||(u[6]=e=>i.value.description=e),rows:2,placeholder:'请输入技能描述（可选）'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Jo,[(0,r.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:N},'取消'),(0,r.createElementVNode)('button',{type:'button',class:'btn-save',disabled:!i.value.name.trim(),onClick:V},' 保存 ',8,Xo)])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 显示模式 '),(0,r.createElementVNode)('div',Yo,[(0,r.createElementVNode)('span',Zo,(0,r.toDisplayString)(t.type||'主动'),1),(0,r.createElementVNode)('span',en,(0,r.toDisplayString)(t.name),1),(0,r.createElementVNode)('span',{class:'item-rarity',style:(0,r.normalizeStyle)({'--rarity-color':(0,r.unref)(y)(t.rarity)})},(0,r.toDisplayString)((0,r.unref)(k)(t.rarity)),5)]),t.tag&&t.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',tn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.tag,e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'tag-text'},(0,r.toDisplayString)(e),1))),128))])):(0,r.createCommentVNode)('v-if',!0),t.consume?((0,r.openBlock)(),(0,r.createElementBlock)('div',an,[u[14]||(u[14]=(0,r.createElementVNode)('span',{class:'consume-label'},'消耗：',-1)),(0,r.createElementVNode)('span',ln,(0,r.toDisplayString)(t.consume),1)])):(0,r.createCommentVNode)('v-if',!0),Object.keys(t.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',on,[u[15]||(u[15]=(0,r.createElementVNode)('span',{class:'effect-label'},'效果：',-1)),(0,r.createElementVNode)('div',nn,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'effect-row'},[(0,r.createElementVNode)('span',cn,(0,r.toDisplayString)(t)+'：',1),(0,r.createElementVNode)('span',rn,(0,r.toDisplayString)(e),1)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),t.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',sn,(0,r.toDisplayString)(t.description),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',dn,[(0,r.createElementVNode)('button',{type:'button',class:'action-btn edit',title:'编辑',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(c.value=e,i.value={...a.modelValue[e]})})(s)},[...u[16]||(u[16]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1),(0,r.createTextVNode)(' 编辑 ',-1)])],8,mn),(0,r.createElementVNode)('button',{type:'button',class:'action-btn delete',title:'删除',disabled:e.disabled,onClick:e=>(e=>{if(a.disabled)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(s)},[...u[17]||(u[17]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-trash','aria-hidden':'true'},null,-1),(0,r.createTextVNode)(' 删除 ',-1)])],8,un)])],64))],2))),128))]),_:1})])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createCommentVNode)(' 空状态 '),u[18]||(u[18]=(0,r.createElementVNode)('div',{class:'empty-state'},[(0,r.createElementVNode)('span',{class:'empty-icon'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'})]),(0,r.createElementVNode)('span',{class:'empty-text'},'暂无技能，点击下方按钮添加')],-1))],2112)),(0,r.createCommentVNode)(' 添加技能表单 '),d.value&&m.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',pn,[(0,r.createElementVNode)('div',{class:'add-form-header'},[u[20]||(u[20]=(0,r.createElementVNode)('span',{class:'form-title'},'添加新技能',-1)),(0,r.createElementVNode)('button',{type:'button',class:'close-btn',onClick:E},[...u[19]||(u[19]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])])]),(0,r.createElementVNode)('div',vn,[(0,r.createVNode)((0,r.unref)(dl),{label:'技能名称',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:s.value.name,'onUpdate:modelValue':u[7]||(u[7]=e=>s.value.name=e),placeholder:'请输入技能名称'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',fn,[(0,r.createElementVNode)('div',Vn,[(0,r.createVNode)((0,r.unref)(dl),{label:'类型'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:s.value.type,'onUpdate:modelValue':u[8]||(u[8]=e=>s.value.type=e),options:(0,r.unref)(n)},null,8,['modelValue','options'])]),(0,r.createElementVNode)('div',kn,[(0,r.createVNode)((0,r.unref)(dl),{label:'品质'}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:s.value.rarity,'onUpdate:modelValue':u[9]||(u[9]=e=>s.value.rarity=e),options:(0,r.unref)(o)},null,8,['modelValue','options'])])]),(0,r.createElementVNode)('div',yn,[(0,r.createVNode)((0,r.unref)(dl),{label:'标签'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:s.value.tag,'onUpdate:modelValue':u[10]||(u[10]=e=>s.value.tag=e),placeholder:'输入标签后按回车添加或保存','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',Nn,[(0,r.createVNode)((0,r.unref)(dl),{label:'消耗'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:s.value.consume,'onUpdate:modelValue':u[11]||(u[11]=e=>s.value.consume=e),placeholder:'例如：[攻击:50MP] 或 [动作:30SP]'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',En,[(0,r.createVNode)((0,r.unref)(dl),{label:'效果'}),(0,r.createVNode)((0,r.unref)(cl),{modelValue:s.value.effect,'onUpdate:modelValue':u[12]||(u[12]=e=>s.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',gn,[(0,r.createVNode)((0,r.unref)(dl),{label:'描述'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:s.value.description,'onUpdate:modelValue':u[13]||(u[13]=e=>s.value.description=e),rows:2,placeholder:'请输入技能描述（可选）'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',bn,[(0,r.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:E},'取消'),(0,r.createElementVNode)('button',{type:'button',class:'btn-add',disabled:!s.value.name.trim(),onClick:v},' 添加技能 ',8,hn)])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 添加按钮 '),m.value&&!d.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',Bn,[(0,r.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled,onClick:E},[...u[21]||(u[21]=[(0,r.createElementVNode)('span',{class:'add-icon'},'+',-1),(0,r.createElementVNode)('span',{class:'add-text'},'添加技能',-1)])],8,Cn)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 数量提示 '),(0,r.createElementVNode)('div',xn,[(0,r.createElementVNode)('span',Sn,(0,r.toDisplayString)(e.modelValue.length),1),u[22]||(u[22]=(0,r.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,r.createElementVNode)('span',wn,(0,r.toDisplayString)(e.maxItems),1),u[23]||(u[23]=(0,r.createElementVNode)('span',{class:'count-label'},'个技能',-1))])],2))}}),_n=(0,i.A)(Dn,[['__scopeId','data-v-1821fd54']]),Pn=_n,Fn={class:'form-body'},In={class:'form-row'},$n={class:'form-row'},qn={class:'level-buttons'},Ln=['onClick'],Tn={class:'cost-info'},An={class:'cost-value'},Mn={class:'form-row'},Un={class:'form-row'},zn={class:'field-hint'},Rn={class:'form-row'},jn={class:'form-row'},Gn={class:'form-row'},Kn={class:'form-row'},On={class:'form-row'},Hn={class:'form-row'},Qn={class:'form-row'},Wn={class:'form-row'},Jn={class:'form-row'},Xn={class:'form-row'},Yn={class:'form-row'},Zn={key:0,class:'field-hint'},ec={class:'form-row'},tc={class:'form-row'},ac={class:'form-row'},lc={class:'form-row'},oc={class:'form-actions'},nc=['disabled'],cc=(0,r.defineComponent)({__name:'CustomPartnerForm',emits:['add'],setup(e,{expose:t,emit:a}){const l=a,n=L(),c=(0,r.ref)(!1),s=(0,r.computed)(()=>n.editingCustomPartnerName),i=(0,r.computed)(()=>''!==s.value.trim()),d=()=>{n.updateEditingCustomPartnerName(''),n.resetCustomPartnerForm()},m={1:{name:'第一层级 (普通)',minGrade:1,maxGrade:4},2:{name:'第二层级 (中坚)',minGrade:5,maxGrade:8},3:{name:'第三层级 (精英)',minGrade:9,maxGrade:12},4:{name:'第四层级 (史诗)',minGrade:13,maxGrade:16},5:{name:'第五层级 (传说)',minGrade:17,maxGrade:20},6:{name:'第六层级 (神话)',minGrade:21,maxGrade:24},7:{name:'第七层级 (神祗)',minGrade:25,maxGrade:25}},u=[{label:'是',value:!0},{label:'否',value:!1}],p={strength:5,dexterity:5,constitution:5,intelligence:5,mind:5},v=(0,r.computed)({get:()=>n.customPartnerForm.itemName,set:e=>n.updateCustomPartnerForm('itemName',e)}),f=(0,r.computed)({get:()=>n.customPartnerForm.itemLevel,set:e=>n.updateCustomPartnerForm('itemLevel',e)}),V=(0,r.computed)({get:()=>n.customPartnerForm.itemLifeLevel,set:e=>n.updateCustomPartnerForm('itemLifeLevel',e)}),k=(0,r.computed)({get:()=>n.customPartnerForm.itemGrade,set:e=>n.updateCustomPartnerForm('itemGrade',e)}),y=(0,r.computed)({get:()=>n.customPartnerForm.itemRace,set:e=>n.updateCustomPartnerForm('itemRace',e)}),N=(0,r.computed)({get:()=>n.customPartnerForm.itemIdentity,set:e=>n.updateCustomPartnerForm('itemIdentity',e)}),E=(0,r.computed)({get:()=>n.customPartnerForm.itemCareer,set:e=>n.updateCustomPartnerForm('itemCareer',e)}),g=(0,r.computed)({get:()=>n.customPartnerForm.itemPersonality,set:e=>n.updateCustomPartnerForm('itemPersonality',e)}),b=(0,r.computed)({get:()=>n.customPartnerForm.itemLike,set:e=>n.updateCustomPartnerForm('itemLike',e)}),h=(0,r.computed)({get:()=>n.customPartnerForm.itemApp,set:e=>n.updateCustomPartnerForm('itemApp',e)}),B=(0,r.computed)({get:()=>n.customPartnerForm.itemCloth,set:e=>n.updateCustomPartnerForm('itemCloth',e)}),C=(0,r.computed)({get:()=>n.customPartnerForm.itemEquip,set:e=>n.updateCustomPartnerForm('itemEquip',e)}),x=(0,r.computed)({get:()=>n.customPartnerForm.itemAttributes,set:e=>n.updateCustomPartnerForm('itemAttributes',e)}),S=(0,r.computed)({get:()=>n.customPartnerForm.itemStairway,set:e=>n.updateCustomPartnerForm('itemStairway',e)}),w=(0,r.computed)({get:()=>n.customPartnerForm.itemIsContract,set:e=>n.updateCustomPartnerForm('itemIsContract',e)}),D=(0,r.computed)({get:()=>n.customPartnerForm.itemAffinity,set:e=>n.updateCustomPartnerForm('itemAffinity',e)}),P=(0,r.computed)({get:()=>n.customPartnerForm.itemComment,set:e=>n.updateCustomPartnerForm('itemComment',e)}),F=(0,r.computed)({get:()=>n.customPartnerForm.itemBackgroundInfo,set:e=>n.updateCustomPartnerForm('itemBackgroundInfo',e)}),I=(0,r.computed)({get:()=>n.customPartnerForm.itemSkills,set:e=>n.updateCustomPartnerForm('itemSkills',e)}),q=(0,r.ref)(!1),T=(0,r.ref)(!1),A=(0,r.computed)(()=>function(e){if(e<1||e>7)throw new Error('层级必须在 1 到 7 之间');return Kl[e-1]}(f.value)),M=(0,r.computed)(()=>m[f.value]),U=(0,r.computed)(()=>''!==v.value.trim()&&''!==y.value.trim());(0,r.watch)(()=>f.value,e=>{const t=m[e];t&&(V.value=t.name,(k.value<t.minGrade||k.value>t.maxGrade)&&(k.value=t.minGrade))},{immediate:!0});const R=()=>{n.resetCustomPartnerForm();const e=m[f.value];e&&(V.value=e.name)};t({fillFormByPartner:e=>{const t=(e=>{if(!e.trim())return 1;const t=_.findKey(m,t=>e.includes(t.name));return t?Number(t):1})(e.lifeLevel||''),a=e.level||m[t].minGrade;n.setCustomPartnerForm({itemName:e.name||'',itemLevel:t,itemLifeLevel:e.lifeLevel||m[t].name,itemGrade:a,itemRace:e.race||'',itemIdentity:e.identity?[...e.identity]:[],itemCareer:e.career?[...e.career]:[],itemPersonality:e.personality||'',itemLike:e.like||'',itemApp:e.app||'',itemCloth:e.cloth||'',itemEquip:e.equip?e.equip.map(e=>{return{name:(t=e).name||'未知装备',type:t.type||'未知',tag:t.tag?[...t.tag]:[],rarity:t.rarity||'common',effect:t.effect?{...t.effect}:{},description:t.description||''};var t}):[],itemAttributes:e.attributes?o(e.attributes):o(p),itemStairway:e.stairway?.elements?.custom?.desc||'',itemIsContract:Boolean(e.isContract),itemAffinity:e.affinity??0,itemComment:e.comment||'',itemBackgroundInfo:e.backgroundInfo||'',itemSkills:e.skills?e.skills.map(e=>{return{name:(t=e).name||'未知技能',type:t.type||'未知',tag:t.tag?[...t.tag]:[],rarity:t.rarity||'common',consume:t.consume||'',effect:t.effect?{...t.effect}:{},description:t.description||''};var t}):[]}),n.updateEditingCustomPartnerName(e.name||''),c.value=!0}});const j=()=>{q.value=!0},G=()=>{q.value=!1,R()},K=()=>{q.value=!1},O=()=>{U.value&&(T.value=!0)},H=()=>{T.value=!1},Q=()=>{T.value=!1;const e={name:v.value.trim(),cost:A.value,lifeLevel:V.value.trim()||'未知',level:k.value,race:y.value.trim(),identity:o(N.value),career:o(E.value),personality:g.value.trim()||'未知',like:b.value.trim()||'未知',app:h.value.trim()||'未知',cloth:B.value.trim()||'未知',equip:o(C.value).map(e=>({...e,rarity:e.rarity})),attributes:o(x.value),stairway:(t=S.value,t.trim()?{isOpen:!0,elements:{custom:{desc:t}}}:{isOpen:!1}),isContract:w.value,affinity:D.value,comment:P.value.trim(),backgroundInfo:F.value.trim(),skills:o(I.value).map(e=>({...e,rarity:e.rarity})),isCustom:!0};var t;l('add',e,s.value.trim()),R()};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['custom-destined-form',{expanded:c.value}])},[(0,r.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>c.value=!c.value)},[t[19]||(t[19]=(0,r.createElementVNode)('div',{class:'header-left'},[(0,r.createElementVNode)('h3',{class:'form-title'},'✨ 自定义伙伴'),(0,r.createElementVNode)('div',{class:'form-desc'},'创建您的专属伙伴')],-1)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['toggle-icon',{rotated:c.value}])},'▼',2)]),(0,r.withDirectives)((0,r.createElementVNode)('div',Fn,[(0,r.createCommentVNode)(' 姓名 '),(0,r.createElementVNode)('div',In,[(0,r.createVNode)((0,r.unref)(dl),{label:'姓名',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:v.value,'onUpdate:modelValue':t[1]||(t[1]=e=>v.value=e),placeholder:'请输入姓名',maxlength:50},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 层级 '),(0,r.createElementVNode)('div',$n,[(0,r.createVNode)((0,r.unref)(dl),{label:'层级',required:''}),(0,r.createElementVNode)('div',qn,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(7,e=>(0,r.createElementVNode)('button',{key:e,class:(0,r.normalizeClass)(['level-btn',{active:f.value===e}]),onClick:t=>f.value=e},' 第'+(0,r.toDisplayString)(['一','二','三','四','五','六','七'][e-1])+'层级 ',11,Ln)),64))]),(0,r.createElementVNode)('div',Tn,[t[20]||(t[20]=(0,r.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,r.createElementVNode)('span',An,(0,r.toDisplayString)(A.value),1)])]),(0,r.createCommentVNode)(' 生命层级（自动填充） '),(0,r.createElementVNode)('div',Mn,[(0,r.createVNode)((0,r.unref)(dl),{label:'生命层级（根据层级自动填充）'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:V.value,'onUpdate:modelValue':t[2]||(t[2]=e=>V.value=e),readonly:'',disabled:''},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 等级 '),(0,r.createElementVNode)('div',Un,[(0,r.createVNode)((0,r.unref)(dl),{label:`等级（${M.value.minGrade}-${M.value.maxGrade}级）`},null,8,['label']),(0,r.createVNode)((0,r.unref)(kl),{modelValue:k.value,'onUpdate:modelValue':t[3]||(t[3]=e=>k.value=e),min:M.value.minGrade,max:M.value.maxGrade,placeholder:`${M.value.minGrade}-${M.value.maxGrade}`},null,8,['modelValue','min','max','placeholder']),(0,r.createElementVNode)('div',zn,' 该层级的等级范围：'+(0,r.toDisplayString)(M.value.minGrade)+'-'+(0,r.toDisplayString)(M.value.maxGrade)+'级 ',1)]),(0,r.createCommentVNode)(' 种族 '),(0,r.createElementVNode)('div',Rn,[(0,r.createVNode)((0,r.unref)(dl),{label:'种族',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:y.value,'onUpdate:modelValue':t[4]||(t[4]=e=>y.value=e),placeholder:'例如：人类、精灵等',maxlength:20},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 身份 '),(0,r.createElementVNode)('div',jn,[(0,r.createVNode)((0,r.unref)(dl),{label:'身份'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:N.value,'onUpdate:modelValue':t[5]||(t[5]=e=>N.value=e),placeholder:'输入身份后按回车添加'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 职业 '),(0,r.createElementVNode)('div',Gn,[(0,r.createVNode)((0,r.unref)(dl),{label:'职业'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:E.value,'onUpdate:modelValue':t[6]||(t[6]=e=>E.value=e),placeholder:'输入职业后按回车添加'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 性格 '),(0,r.createElementVNode)('div',Kn,[(0,r.createVNode)((0,r.unref)(dl),{label:'性格'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:g.value,'onUpdate:modelValue':t[7]||(t[7]=e=>g.value=e),placeholder:'描述角色的性格特征...'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 喜爱 '),(0,r.createElementVNode)('div',On,[(0,r.createVNode)((0,r.unref)(dl),{label:'喜爱'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:b.value,'onUpdate:modelValue':t[8]||(t[8]=e=>b.value=e),placeholder:'描述喜好和习惯...',rows:2},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 外貌 '),(0,r.createElementVNode)('div',Hn,[(0,r.createVNode)((0,r.unref)(dl),{label:'外貌'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:h.value,'onUpdate:modelValue':t[9]||(t[9]=e=>h.value=e),placeholder:'描述外貌特征...',rows:2},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 衣物 '),(0,r.createElementVNode)('div',Qn,[(0,r.createVNode)((0,r.unref)(dl),{label:'着装'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:B.value,'onUpdate:modelValue':t[10]||(t[10]=e=>B.value=e),placeholder:'描述穿着打扮...',rows:2},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 属性 '),(0,r.createElementVNode)('div',Wn,[(0,r.createVNode)((0,r.unref)(dl),{label:'属性'}),(0,r.createVNode)(Xl,{modelValue:x.value,'onUpdate:modelValue':t[11]||(t[11]=e=>x.value=e),min:1,max:20},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 装备 '),(0,r.createElementVNode)('div',Jn,[(0,r.createVNode)((0,r.unref)(dl),{label:'装备'}),(0,r.createVNode)(Mo,{modelValue:C.value,'onUpdate:modelValue':t[12]||(t[12]=e=>C.value=e),'max-items':10},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 技能 '),(0,r.createElementVNode)('div',Xn,[(0,r.createVNode)((0,r.unref)(dl),{label:'技能'}),(0,r.createVNode)(Pn,{modelValue:I.value,'onUpdate:modelValue':t[13]||(t[13]=e=>I.value=e),'max-items':10},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 登神长阶 '),(0,r.createElementVNode)('div',Yn,[(0,r.createVNode)((0,r.unref)(dl),{label:'登神长阶（需等级 ≥ 13）'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:S.value,'onUpdate:modelValue':t[14]||(t[14]=e=>S.value=e),disabled:k.value<13,placeholder:k.value>=13?'描述登神长阶信息...':'等级需达到 13 级或以上才可填写',rows:2},null,8,['modelValue','disabled','placeholder']),k.value<13?((0,r.openBlock)(),(0,r.createElementBlock)('div',Zn,' ⚠️ 当前等级 '+(0,r.toDisplayString)(k.value)+' 级，需要达到 13 级才能开启登神长阶 ',1)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createCommentVNode)(' 命定契约 '),(0,r.createElementVNode)('div',ec,[(0,r.createVNode)((0,r.unref)(dl),{label:'命定契约'}),(0,r.createVNode)((0,r.unref)(gl),{modelValue:w.value,'onUpdate:modelValue':t[15]||(t[15]=e=>w.value=e),options:u},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 好感度 '),(0,r.createElementVNode)('div',tc,[(0,r.createVNode)((0,r.unref)(dl),{label:'好感度 (-100~100)'}),(0,r.createVNode)((0,r.unref)(kl),{modelValue:D.value,'onUpdate:modelValue':t[16]||(t[16]=e=>D.value=e),min:-100,max:100,placeholder:'49'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 心里话 '),(0,r.createElementVNode)('div',ac,[(0,r.createVNode)((0,r.unref)(dl),{label:'心里话'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:P.value,'onUpdate:modelValue':t[17]||(t[17]=e=>P.value=e),placeholder:'该角色对你的评价...',rows:2},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 背景故事 '),(0,r.createElementVNode)('div',lc,[(0,r.createVNode)((0,r.unref)(dl),{label:'背景故事'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:F.value,'onUpdate:modelValue':t[18]||(t[18]=e=>F.value=e),placeholder:'描述背景故事...',rows:3},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 操作按钮 '),(0,r.createElementVNode)('div',oc,[(0,r.createElementVNode)('button',{class:'btn-reset',onClick:j},'清空'),i.value?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'btn-cancel',onClick:d},'取消编辑')):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('button',{class:'btn-submit',disabled:!U.value,onClick:O},(0,r.toDisplayString)(i.value?'确认修改':'添加到已选项目'),9,nc)])],512),[[r.vShow,c.value]]),(0,r.createCommentVNode)(' 清空确认弹窗 '),(0,r.createVNode)(Xt,{visible:q.value,title:'确认清空',message:'确定要清空所有已填写的内容吗？此操作不可撤销。','confirm-text':'确认清空','cancel-text':'取消',type:'danger',onConfirm:G,onCancel:K},null,8,['visible']),(0,r.createCommentVNode)(' 添加/修改确认弹窗 '),(0,r.createVNode)(Xt,{visible:T.value,title:i.value?'确认修改':'确认添加',message:i.value?`确定要将「${s.value}」更新为「${v.value}」吗？`:`确定要将「${v.value}」添加到已选项目吗？`,'confirm-text':i.value?'确认修改':'确认添加','cancel-text':'取消',type:'info',onConfirm:Q,onCancel:H},null,8,['visible','title','message','confirm-text'])],2))}}),rc=(0,i.A)(cc,[['__scopeId','data-v-01050429']]),sc=rc,ic={class:'exchange-header'},dc={class:'exchange-icon','aria-hidden':'true'},mc={class:'exchange-title'},uc={class:'exchange-rate'},pc={class:'exchange-body'},vc={class:'current-display'},fc={class:'label'},Vc={class:'value'},kc={key:0,class:'unit'},yc={class:'exchange-controls'},Nc=['disabled'],Ec=['disabled','title'],gc=['disabled','title'],bc=(0,r.defineComponent)({__name:'exchange-card',props:{title:{},rateText:{},iconClass:{},currentLabel:{},currentValue:{},currentUnit:{default:''},gainUnit:{},gainPerPoint:{},maxExchangeable:{},modelValue:{},theme:{default:'gold'},exchangeAllTitle:{default:'将所有剩余转生点数兑换'},resetTitle:{default:'重置已兑换内容'},resetDisabled:{type:Boolean,default:!1}},emits:['update:modelValue','exchange','exchange-all','reset'],setup(e,{emit:t}){const a=e,l=t,o=(0,r.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),n=(0,r.computed)(()=>Math.max(0,Math.round(o.value))*a.gainPerPoint),c=(0,r.computed)(()=>o.value<=0||o.value>a.maxExchangeable),s=(0,r.computed)(()=>a.maxExchangeable<=0),i=(0,r.computed)(()=>`exchange-card--${a.theme}`);return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['exchange-card',i.value])},[(0,r.createElementVNode)('div',ic,[(0,r.createElementVNode)('span',dc,[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(e.iconClass)},null,2)]),(0,r.createElementVNode)('span',mc,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)('span',uc,(0,r.toDisplayString)(e.rateText),1)]),(0,r.createElementVNode)('div',pc,[(0,r.createElementVNode)('div',vc,[(0,r.createElementVNode)('span',fc,(0,r.toDisplayString)(e.currentLabel),1),(0,r.createElementVNode)('span',Vc,(0,r.toDisplayString)(e.currentValue),1),e.currentUnit?((0,r.openBlock)(),(0,r.createElementBlock)('span',kc,(0,r.toDisplayString)(e.currentUnit),1)):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',yc,[(0,r.createVNode)((0,r.unref)(kl),{modelValue:o.value,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),min:0,max:e.maxExchangeable,placeholder:'0',class:'exchange-input'},null,8,['modelValue','max']),(0,r.createElementVNode)('button',{class:'exchange-button',disabled:c.value,onClick:a[1]||(a[1]=e=>l('exchange'))},' 兑换 '+(0,r.toDisplayString)(n.value)+' '+(0,r.toDisplayString)(e.gainUnit),9,Nc),(0,r.createElementVNode)('button',{class:'exchange-all-button',disabled:s.value,title:e.exchangeAllTitle,onClick:a[2]||(a[2]=e=>l('exchange-all'))},' 全部兑换 ',8,Ec),(0,r.createElementVNode)('button',{class:'exchange-reset-icon',disabled:e.resetDisabled,title:e.resetTitle,'aria-label':'重置',onClick:a[3]||(a[3]=e=>l('reset'))},[...a[4]||(a[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-rotate-left'},null,-1)])],8,gc)])])],2))}}),hc=(0,i.A)(bc,[['__scopeId','data-v-c35365ee']]),Bc=hc,Cc=(0,r.defineComponent)({__name:'DestinyPointsExchange',setup(e){const t=q(),a=(0,r.ref)(0),l=(0,r.computed)(()=>{const e=Math.ceil(t.character.destinyPoints/2);return Math.max(0,t.character.reincarnationPoints-(t.consumedPoints-e))}),o=()=>{if(a.value<=0||a.value>l.value)return;const e=2*Math.max(0,Math.round(a.value));t.updateCharacterField('destinyPoints',e),a.value=0},n=()=>{l.value<=0||(t.updateCharacterField('destinyPoints',2*l.value),a.value=0)},c=()=>{t.resetDestinyExchange(),a.value=0};return(e,s)=>((0,r.openBlock)(),(0,r.createBlock)(Bc,{modelValue:(0,r.unref)(a),'onUpdate:modelValue':s[0]||(s[0]=e=>(0,r.isRef)(a)?a.value=e:null),title:'命运点数','rate-text':'(1转生点 = 2命运点)','icon-class':'fa-solid fa-stars','current-label':'当前：','current-value':(0,r.unref)(t).character.destinyPoints,'gain-unit':'命运点','gain-per-point':2,'max-exchangeable':(0,r.unref)(l),theme:'violet','exchange-all-title':'将所有剩余转生点数兑换为命运点数','reset-title':'重置已兑换的命运点数','reset-disabled':(0,r.unref)(t).character.destinyPoints<=0,onExchange:o,onExchangeAll:n,onReset:c},null,8,['modelValue','current-value','max-exchangeable','reset-disabled']))}}),xc=Cc,Sc=xc,wc={class:'level-tabs'},Dc=['onClick'],_c=(0,r.defineComponent)({__name:'LevelTabs',props:{modelValue:{},levels:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t;return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',wc,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.levels,t=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:t,class:(0,r.normalizeClass)(['level-tab',{active:e.modelValue===t}]),onClick:e=>(e=>{l('update:modelValue',e)})(t)},(0,r.toDisplayString)(t),11,Dc))),128))]))}}),Pc=(0,i.A)(_c,[['__scopeId','data-v-18f949f6']]),Fc=Pc,Ic={class:'destined-one-list'},$c={key:0,class:'empty-message'},qc=['onClick'],Lc={class:'card-header'},Tc={class:'item-name'},Ac={class:'header-actions'},Mc={class:'item-cost'},Uc=['onClick'],zc={class:'card-summary'},Rc={class:'summary-row'},jc={class:'value'},Gc={class:'summary-row'},Kc={class:'value'},Oc={class:'summary-row'},Hc={class:'value'},Qc={class:'summary-row'},Wc={class:'value'},Jc={key:0,class:'card-body'},Xc={class:'info-section'},Yc={class:'info-row'},Zc={class:'value'},er={class:'info-row'},tr={class:'value'},ar={class:'info-row'},lr={class:'value'},or={class:'info-row'},nr={class:'value'},cr={class:'info-section'},rr={class:'info-block'},sr={class:'block-content'},ir={class:'info-block'},dr={class:'block-content'},mr={class:'info-block'},ur={class:'block-content'},pr={class:'info-section'},vr={class:'attributes'},fr={class:'attr-item'},Vr={class:'attr-value'},kr={class:'attr-item'},yr={class:'attr-value'},Nr={class:'attr-item'},Er={class:'attr-value'},gr={class:'attr-item'},br={class:'attr-value'},hr={class:'attr-item'},Br={class:'attr-value'},Cr={key:0,class:'info-section'},xr={class:'equipment-list'},Sr={class:'equip-name'},wr={key:0,class:'equip-info'},Dr={key:1,class:'equip-info'},_r={key:2,class:'equip-info'},Pr={key:3,class:'equip-info'},Fr={key:4,class:'equip-desc'},Ir={key:1,class:'info-section'},$r={class:'skills-list'},qr={class:'skill-header'},Lr={class:'skill-name'},Tr={class:'skill-type'},Ar={key:0,class:'skill-tag'},Mr={key:1,class:'skill-consume'},Ur={key:2,class:'skill-effect'},zr={key:3,class:'skill-effect'},Rr={class:'skill-desc'},jr={key:2,class:'info-section'},Gr={class:'stairway-content'},Kr={key:0,class:'stairway-section'},Or={key:1,class:'stairway-section'},Hr={key:2,class:'stairway-section'},Qr={key:3,class:'stairway-item'},Wr={key:4,class:'stairway-section'},Jr={key:0,class:'stairway-item'},Xr={key:1,class:'stairway-desc'},Yr={key:3,class:'info-section'},Zr={class:'info-block'},es={class:'block-content'},ts={key:4,class:'comment'},as=(0,r.defineComponent)({__name:'PartnerList',props:{items:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o=q(),n=(0,r.computed)(()=>o.character.reincarnationPoints-o.consumedPoints),{isSelected:c,canSelect:s}=xe(()=>o.selectedPartners,()=>n.value),{toggleExpand:i,isExpanded:d}=function(){const e=(0,r.ref)(new Set);return{expandedCards:e,toggleExpand:(t,a)=>{a?.stopPropagation(),e.value.has(t)?e.value.delete(t):e.value.add(t)},isExpanded:t=>e.value.has(t),expandAll:t=>{t.forEach(t=>e.value.add(t))},collapseAll:()=>{e.value.clear()}}}(),m=(0,r.ref)([]);return(0,r.watch)(()=>a.items,async e=>{m.value=await Promise.all(e.map(he))},{immediate:!0}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Ic,[0===(0,r.unref)(m).length?((0,r.openBlock)(),(0,r.createElementBlock)('div',$c,'该分类暂无伙伴')):(0,r.createCommentVNode)('v-if',!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(m),e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['destined-one-card',{selected:(0,r.unref)(c)(e),disabled:!(0,r.unref)(c)(e)&&!(0,r.unref)(s)(e),expanded:(0,r.unref)(d)(e.name)}]),onClick:t=>(e=>{c(e)?l('deselect',e):s(e)&&l('select',e)})(e)},[(0,r.createElementVNode)('div',Lc,[(0,r.createElementVNode)('h3',Tc,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('div',Ac,[(0,r.createElementVNode)('div',Mc,(0,r.toDisplayString)(e.cost)+' 点',1),(0,r.createElementVNode)('button',{class:'expand-btn',onClick:t=>(0,r.unref)(i)(e.name,t)},(0,r.toDisplayString)((0,r.unref)(d)(e.name)?'收起':'展开'),9,Uc)])]),(0,r.createCommentVNode)(' 基本信息（始终显示） '),(0,r.createElementVNode)('div',zc,[(0,r.createElementVNode)('div',Rc,[t[0]||(t[0]=(0,r.createElementVNode)('span',{class:'label'},'层级：',-1)),(0,r.createElementVNode)('span',jc,(0,r.toDisplayString)(e.lifeLevel),1)]),(0,r.createElementVNode)('div',Gc,[t[1]||(t[1]=(0,r.createElementVNode)('span',{class:'label'},'种族：',-1)),(0,r.createElementVNode)('span',Kc,(0,r.toDisplayString)(e.race),1)]),(0,r.createElementVNode)('div',Oc,[t[2]||(t[2]=(0,r.createElementVNode)('span',{class:'label'},'等级：',-1)),(0,r.createElementVNode)('span',Hc,'Lv.'+(0,r.toDisplayString)(e.level),1)]),(0,r.createElementVNode)('div',Qc,[t[3]||(t[3]=(0,r.createElementVNode)('span',{class:'label'},'好感度：',-1)),(0,r.createElementVNode)('span',Wc,(0,r.toDisplayString)(e.affinity),1)])]),(0,r.createCommentVNode)(' 详细信息（可折叠） '),(0,r.unref)(d)(e.name)?((0,r.openBlock)(),(0,r.createElementBlock)('div',Jc,[(0,r.createElementVNode)('div',Xc,[(0,r.createElementVNode)('div',Yc,[t[4]||(t[4]=(0,r.createElementVNode)('span',{class:'label'},'身份：',-1)),(0,r.createElementVNode)('span',Zc,(0,r.toDisplayString)(e.identity.join('、')),1)]),(0,r.createElementVNode)('div',er,[t[5]||(t[5]=(0,r.createElementVNode)('span',{class:'label'},'职业：',-1)),(0,r.createElementVNode)('span',tr,(0,r.toDisplayString)(e.career.join('、')),1)]),(0,r.createElementVNode)('div',ar,[t[6]||(t[6]=(0,r.createElementVNode)('span',{class:'label'},'性格：',-1)),(0,r.createElementVNode)('span',lr,(0,r.toDisplayString)(e.personality),1)]),(0,r.createElementVNode)('div',or,[t[7]||(t[7]=(0,r.createElementVNode)('span',{class:'label'},'命定契约：',-1)),(0,r.createElementVNode)('span',nr,(0,r.toDisplayString)(e.isContract?'是':'否'),1)])]),(0,r.createElementVNode)('div',cr,[(0,r.createElementVNode)('div',rr,[t[8]||(t[8]=(0,r.createElementVNode)('div',{class:'block-title'},'喜好',-1)),(0,r.createElementVNode)('div',sr,(0,r.toDisplayString)(e.like),1)]),(0,r.createElementVNode)('div',ir,[t[9]||(t[9]=(0,r.createElementVNode)('div',{class:'block-title'},'外貌',-1)),(0,r.createElementVNode)('div',dr,(0,r.toDisplayString)(e.app),1)]),(0,r.createElementVNode)('div',mr,[t[10]||(t[10]=(0,r.createElementVNode)('div',{class:'block-title'},'着装',-1)),(0,r.createElementVNode)('div',ur,(0,r.toDisplayString)(e.cloth),1)])]),(0,r.createElementVNode)('div',pr,[t[16]||(t[16]=(0,r.createElementVNode)('div',{class:'block-title'},'属性',-1)),(0,r.createElementVNode)('div',vr,[(0,r.createElementVNode)('div',fr,[t[11]||(t[11]=(0,r.createElementVNode)('span',{class:'attr-label'},'力量：',-1)),(0,r.createElementVNode)('span',Vr,(0,r.toDisplayString)(e.attributes.strength),1)]),(0,r.createElementVNode)('div',kr,[t[12]||(t[12]=(0,r.createElementVNode)('span',{class:'attr-label'},'敏捷：',-1)),(0,r.createElementVNode)('span',yr,(0,r.toDisplayString)(e.attributes.dexterity),1)]),(0,r.createElementVNode)('div',Nr,[t[13]||(t[13]=(0,r.createElementVNode)('span',{class:'attr-label'},'体质：',-1)),(0,r.createElementVNode)('span',Er,(0,r.toDisplayString)(e.attributes.constitution),1)]),(0,r.createElementVNode)('div',gr,[t[14]||(t[14]=(0,r.createElementVNode)('span',{class:'attr-label'},'智力：',-1)),(0,r.createElementVNode)('span',br,(0,r.toDisplayString)(e.attributes.intelligence),1)]),(0,r.createElementVNode)('div',hr,[t[15]||(t[15]=(0,r.createElementVNode)('span',{class:'attr-label'},'精神：',-1)),(0,r.createElementVNode)('span',Br,(0,r.toDisplayString)(e.attributes.mind),1)])])]),e.equip&&e.equip.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Cr,[t[18]||(t[18]=(0,r.createElementVNode)('div',{class:'block-title'},'装备',-1)),(0,r.createElementVNode)('div',xr,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.equip,(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:a,class:'equipment-item'},[(0,r.createElementVNode)('div',Sr,(0,r.toDisplayString)(e.name),1),e.type?((0,r.openBlock)(),(0,r.createElementBlock)('div',wr,'类型：'+(0,r.toDisplayString)(e.type),1)):(0,r.createCommentVNode)('v-if',!0),e.tag&&e.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Dr,' 标签：'+(0,r.toDisplayString)(e.tag.join('、')),1)):(0,r.createCommentVNode)('v-if',!0),Object.keys(e.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',_r,[t[17]||(t[17]=(0,r.createTextVNode)(' 效果： ',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:t,class:'effect-inline'},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Pr,'效果：无')),e.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',Fr,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)('v-if',!0)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ir,[t[19]||(t[19]=(0,r.createElementVNode)('div',{class:'block-title'},'技能',-1)),(0,r.createElementVNode)('div',$r,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.skills,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'skill-item'},[(0,r.createElementVNode)('div',qr,[(0,r.createElementVNode)('span',Lr,(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('span',Tr,(0,r.toDisplayString)(e.type),1)]),e.tag&&e.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ar,(0,r.toDisplayString)(e.tag.join('、')),1)):(0,r.createCommentVNode)('v-if',!0),e.consume?((0,r.openBlock)(),(0,r.createElementBlock)('div',Mr,'消耗：'+(0,r.toDisplayString)(e.consume),1)):(0,r.createCommentVNode)('v-if',!0),Object.keys(e.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ur,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:t,class:'effect-inline'},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('div',zr,'无效果')),(0,r.createElementVNode)('div',Rr,(0,r.toDisplayString)(e.description),1)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),e.stairway.isOpen?((0,r.openBlock)(),(0,r.createElementBlock)('div',jr,[t[24]||(t[24]=(0,r.createElementVNode)('div',{class:'block-title'},'登神长阶',-1)),(0,r.createElementVNode)('div',Gr,[e.stairway.elements?((0,r.openBlock)(),(0,r.createElementBlock)('div',Kr,[t[20]||(t[20]=(0,r.createElementVNode)('div',{class:'stairway-label'},'要素：',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.stairway.elements,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,r.createElementVNode)('div',null,'• '+(0,r.toDisplayString)(t),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),e.stairway.powers?((0,r.openBlock)(),(0,r.createElementBlock)('div',Or,[t[21]||(t[21]=(0,r.createElementVNode)('div',{class:'stairway-label'},'权能：',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.stairway.powers,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,r.createElementVNode)('div',null,'• '+(0,r.toDisplayString)(t),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),e.stairway.laws?((0,r.openBlock)(),(0,r.createElementBlock)('div',Hr,[t[22]||(t[22]=(0,r.createElementVNode)('div',{class:'stairway-label'},'法则：',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.stairway.laws,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,r.createElementVNode)('div',null,'• '+(0,r.toDisplayString)(t),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:t},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),e.stairway.godlyRank?((0,r.openBlock)(),(0,r.createElementBlock)('div',Qr,' 神位：'+(0,r.toDisplayString)(e.stairway.godlyRank),1)):(0,r.createCommentVNode)('v-if',!0),e.stairway.godKingdom?.name||e.stairway.godKingdom?.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',Wr,[t[23]||(t[23]=(0,r.createElementVNode)('div',{class:'stairway-label'},'神国：',-1)),e.stairway.godKingdom?.name?((0,r.openBlock)(),(0,r.createElementBlock)('div',Jr,(0,r.toDisplayString)(e.stairway.godKingdom?.name),1)):(0,r.createCommentVNode)('v-if',!0),e.stairway.godKingdom?.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',Xr,(0,r.toDisplayString)(e.stairway.godKingdom?.description),1)):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0)])])):(0,r.createCommentVNode)('v-if',!0),e.backgroundInfo?((0,r.openBlock)(),(0,r.createElementBlock)('div',Yr,[(0,r.createElementVNode)('div',Zr,[t[25]||(t[25]=(0,r.createElementVNode)('div',{class:'block-title'},'背景故事',-1)),(0,r.createElementVNode)('div',es,(0,r.toDisplayString)(e.backgroundInfo),1)])])):(0,r.createCommentVNode)('v-if',!0),e.comment?((0,r.openBlock)(),(0,r.createElementBlock)('div',ts,'"'+(0,r.toDisplayString)(e.comment)+'"',1)):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0)],10,qc))),128))]))}}),ls=(0,i.A)(as,[['__scopeId','data-v-253614da']]),os={class:'background-page'},ns={class:'destined-ones-section'},cs={class:'destined-ones-content'},rs={class:'background-section'},ss={class:'summary-section'},is={class:'summary-card'},ds={class:'summary-header'},ms={class:'summary-title-row'},us={class:'points-info'},ps={class:'points-total'},vs={class:'summary-content'},fs={key:0,class:'summary-group'},Vs={class:'summary-label'},ks={class:'summary-items'},ys=['onClick'],Ns={class:'item-name'},Es={class:'name-text'},gs={key:0,class:'custom-tag'},bs={class:'item-cost'},hs=['onClick'],Bs={key:1,class:'summary-group'},Cs={class:'summary-items'},xs={class:'summary-item full'},Ss={class:'item-name'},ws={key:2,class:'empty-state'},Ds=(0,r.defineComponent)({__name:'index',setup(e){const t=q(),a=L(),l=(0,r.ref)(null),o=(0,r.ref)(''),n=(0,r.ref)(''),c=(0,r.computed)(()=>Object.keys(Ct())),s=(0,r.computed)(()=>Object.keys(bt())),i=(0,r.computed)(()=>o.value&&Ct()[o.value]||[]),d=(0,r.computed)(()=>n.value&&bt()[n.value]||[]),m=(0,r.computed)(()=>t.character.reincarnationPoints-t.consumedPoints),u=e=>{t.addPartner(e)},p=e=>{t.removePartner(e)},v=(e,l)=>{const o=l?.trim();o?t.replacePartnerByName(e,o):t.addPartner(e),a.updateEditingCustomPartnerName('')},f=e=>{if('【自定义开局】'===e.name){const l=a.customBackgroundDescription?.trim(),o={...e,description:l||e.description};return void t.setBackground(o)}t.setBackground(e)},V=e=>{a.updateCustomBackgroundDescription(e),'【自定义开局】'===t.selectedBackground?.name&&t.setBackground({...t.selectedBackground,description:e})},k=()=>{t.clearPartners(),t.setBackground(null),a.updateCustomBackgroundDescription('')};return(0,r.onMounted)(()=>{c.value.length>0&&(o.value=c.value[0]),s.value.length>0&&(n.value=s.value[0])}),(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',os,[(0,r.createCommentVNode)(' 伙伴区域 '),(0,r.createElementVNode)('section',ns,[a[2]||(a[2]=(0,r.createElementVNode)('h2',{class:'section-title'},'选择伙伴',-1)),(0,r.createCommentVNode)(' 层级导航 '),(0,r.createVNode)(Fc,{modelValue:(0,r.unref)(o),'onUpdate:modelValue':a[0]||(a[0]=e=>(0,r.isRef)(o)?o.value=e:null),levels:(0,r.unref)(c)},null,8,['modelValue','levels']),(0,r.createCommentVNode)(' 伙伴列表 '),(0,r.createElementVNode)('div',cs,[(0,r.createVNode)(ls,{items:(0,r.unref)(i),onSelect:u,onDeselect:p},null,8,['items'])])]),(0,r.createCommentVNode)(' 自定义伙伴表单 '),(0,r.createVNode)(sc,{ref_key:'customPartnerFormRef',ref:l,onAdd:v},null,512),(0,r.createCommentVNode)(' 命运点数兑换 '),(0,r.createVNode)(Sc),(0,r.createCommentVNode)(' 初始剧情区域 - 使用通用布局组件 '),(0,r.createElementVNode)('section',rs,[a[3]||(a[3]=(0,r.createElementVNode)('h2',{class:'section-title'},'选择初始开局剧情',-1)),(0,r.createVNode)(Nt,{modelValue:(0,r.unref)(n),'onUpdate:modelValue':a[1]||(a[1]=e=>(0,r.isRef)(n)?n.value=e:null),categories:(0,r.unref)(s)},{content:(0,r.withCtx)(()=>[(0,r.createVNode)(Gt,{items:(0,r.unref)(d),'selected-item':(0,r.unref)(t).selectedBackground,'character-race':(0,r.unref)(t).character.race,'character-location':(0,r.unref)(t).character.startLocation,'character-identity':(0,r.unref)(t).character.identity,onSelect:f,'onUpdate:customDescription':V},null,8,['items','selected-item','character-race','character-location','character-identity'])]),_:1},8,['modelValue','categories'])]),(0,r.createCommentVNode)(' 已选信息面板 '),(0,r.createElementVNode)('section',ss,[(0,r.createElementVNode)('div',is,[(0,r.createElementVNode)('div',ds,[(0,r.createElementVNode)('div',ms,[a[5]||(a[5]=(0,r.createElementVNode)('h3',{class:'summary-title'},'已选择',-1)),(0,r.createElementVNode)('div',us,[(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['points-value',{insufficient:(0,r.unref)(m)<0}])},(0,r.toDisplayString)((0,r.unref)(m)),3),a[4]||(a[4]=(0,r.createElementVNode)('span',{class:'points-separator'},'/',-1)),(0,r.createElementVNode)('span',ps,(0,r.toDisplayString)((0,r.unref)(t).character.reincarnationPoints),1)])]),(0,r.unref)(t).selectedPartners.length>0||(0,r.unref)(t).selectedBackground?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'clear-btn',onClick:k},' 清空选择 ')):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',vs,[(0,r.createCommentVNode)(' 伙伴摘要 '),(0,r.unref)(t).selectedPartners.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',fs,[(0,r.createElementVNode)('div',Vs,'伙伴列表 ('+(0,r.toDisplayString)((0,r.unref)(t).selectedPartners.length)+')',1),(0,r.createElementVNode)('div',ks,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedPartners,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['summary-item',{'is-custom':e.isCustom}]),onClick:t=>(e=>{e.isCustom&&(l.value?.fillFormByPartner(e),toastr.info(`已回填自定义伙伴「${e.name}」`))})(e)},[(0,r.createElementVNode)('span',Ns,[(0,r.createElementVNode)('span',Es,(0,r.toDisplayString)(e.name),1),e.isCustom?((0,r.openBlock)(),(0,r.createElementBlock)('span',gs,[...a[6]||(a[6]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1)])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('span',bs,(0,r.toDisplayString)(e.cost)+' 点',1),(0,r.createElementVNode)('button',{class:'remove-btn',onClick:(0,r.withModifiers)(t=>p(e),['stop'])},[...a[7]||(a[7]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,hs)],10,ys))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 背景摘要 '),(0,r.unref)(t).selectedBackground?((0,r.openBlock)(),(0,r.createElementBlock)('div',Bs,[a[8]||(a[8]=(0,r.createElementVNode)('div',{class:'summary-label'},'初始开局剧情',-1)),(0,r.createElementVNode)('div',Cs,[(0,r.createElementVNode)('div',xs,[(0,r.createElementVNode)('span',Ss,(0,r.toDisplayString)((0,r.unref)(t).selectedBackground.name),1)])])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 空状态提示 '),0!==(0,r.unref)(t).selectedPartners.length||(0,r.unref)(t).selectedBackground?(0,r.createCommentVNode)('v-if',!0):((0,r.openBlock)(),(0,r.createElementBlock)('div',ws,' 尚未选择任何内容 '))])])])]))}}),_s=(0,i.A)(Ds,[['__scopeId','data-v-2e7bfa8a']]),Ps={class:'basic-info'},Fs={class:'form-container'},Is={class:'form-row'},$s={class:'form-field'},qs={class:'form-field'},Ls={class:'form-row'},Ts={class:'form-field'},As={class:'form-field'},Ms={class:'level-input-group'},Us={class:'level-indicator'},zs={class:'form-row'},Rs={class:'form-field'},js={class:'form-field'},Gs={class:'form-row full-width'},Ks={class:'form-field'},Os={class:'attributes-panel'},Hs={class:'panel-header'},Qs={class:'ap-info'},Ws={class:'panel-content'},Js={class:'attributes-grid'},Xs={class:'attribute-display'},Ys={class:'final-value'},Zs={key:0,class:'status-message error'},ei={key:1,class:'status-message success'},ti={key:2,class:'status-message info'},ai=(0,r.defineComponent)({__name:'index',setup(e){const t=q(),{character:l}=a(t),{addAttributePoint:o,removeAttributePoint:n}=t,c=b,s=h,i=B,d=C,m=(0,r.computed)(()=>Object.keys(s.value)),u=(0,r.computed)(()=>Object.keys(i.value)),p=(0,r.computed)(()=>S(l.value.level)),v=(0,r.computed)(()=>l.value.reincarnationPoints-t.consumedPoints),f=(0,r.computed)(()=>{const e=l.value.level;return w(e)});return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Ps,[(0,r.createElementVNode)('div',Fs,[(0,r.createCommentVNode)(' 第一行：姓名和性别 '),(0,r.createElementVNode)('div',Is,[(0,r.createElementVNode)('div',$s,[(0,r.createVNode)((0,r.unref)(dl),{label:'姓名',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:(0,r.unref)(l).name,'onUpdate:modelValue':a[0]||(a[0]=e=>(0,r.unref)(l).name=e),placeholder:'请输入角色姓名'},null,8,['modelValue'])]),(0,r.createElementVNode)('div',qs,[(0,r.createVNode)((0,r.unref)(dl),{label:'性别',required:''}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:(0,r.unref)(l).gender,'onUpdate:modelValue':a[1]||(a[1]=e=>(0,r.unref)(l).gender=e),options:(0,r.unref)(c)},null,8,['modelValue','options']),'自定义'===(0,r.unref)(l).gender?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Dt),{key:0,modelValue:(0,r.unref)(l).customGender,'onUpdate:modelValue':a[2]||(a[2]=e=>(0,r.unref)(l).customGender=e),rows:2,placeholder:'请输入自定义性别'},null,8,['modelValue'])):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createCommentVNode)(' 第二行：年龄和等级 '),(0,r.createElementVNode)('div',Ls,[(0,r.createElementVNode)('div',Ts,[(0,r.createVNode)((0,r.unref)(dl),{label:'年龄'}),(0,r.createVNode)((0,r.unref)(kl),{modelValue:(0,r.unref)(l).age,'onUpdate:modelValue':a[3]||(a[3]=e=>(0,r.unref)(l).age=e),min:1,max:1e4},null,8,['modelValue'])]),(0,r.createElementVNode)('div',As,[(0,r.createVNode)((0,r.unref)(dl),{label:'等级',required:''}),(0,r.createElementVNode)('div',Ms,[(0,r.createVNode)((0,r.unref)(kl),{modelValue:(0,r.unref)(l).level,'onUpdate:modelValue':a[4]||(a[4]=e=>(0,r.unref)(l).level=e),min:(0,r.unref)(1),max:(0,r.unref)(10)},null,8,['modelValue','min','max']),(0,r.createElementVNode)('span',Us,(0,r.toDisplayString)((0,r.unref)(f)),1)])])]),(0,r.createCommentVNode)(' 第三行：种族和身份 '),(0,r.createElementVNode)('div',zs,[(0,r.createElementVNode)('div',Rs,[(0,r.createVNode)((0,r.unref)(dl),{label:'种族',required:''}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:(0,r.unref)(l).race,'onUpdate:modelValue':a[5]||(a[5]=e=>(0,r.unref)(l).race=e),searchable:'','search-placeholder':'搜索种族...',options:(0,r.unref)(m).map(e=>({label:e+(0!==(0,r.unref)(s)[e]?` (${(0,r.unref)(s)[e]>0?'-':'+'}${Math.abs((0,r.unref)(s)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,r.unref)(l).race?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Dt),{key:0,modelValue:(0,r.unref)(l).customRace,'onUpdate:modelValue':a[6]||(a[6]=e=>(0,r.unref)(l).customRace=e),rows:2,placeholder:'请输入自定义种族'},null,8,['modelValue'])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',js,[(0,r.createVNode)((0,r.unref)(dl),{label:'身份',required:''}),(0,r.createVNode)((0,r.unref)(ql),{modelValue:(0,r.unref)(l).identity,'onUpdate:modelValue':a[7]||(a[7]=e=>(0,r.unref)(l).identity=e),searchable:'','search-placeholder':'搜索身份...',options:(0,r.unref)(u).map(e=>({label:e+(0!==(0,r.unref)(i)[e]?` (${(0,r.unref)(i)[e]>0?'-':'+'}${Math.abs((0,r.unref)(i)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,r.unref)(l).identity?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Dt),{key:0,modelValue:(0,r.unref)(l).customIdentity,'onUpdate:modelValue':a[8]||(a[8]=e=>(0,r.unref)(l).customIdentity=e),rows:2,placeholder:'请输入自定义身份'},null,8,['modelValue'])):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createCommentVNode)(' 第四行：起始地点（使用级联选择器） '),(0,r.createElementVNode)('div',Gs,[(0,r.createElementVNode)('div',Ks,[(0,r.createVNode)((0,r.unref)(dl),{label:'起始地点',required:''}),(0,r.createVNode)((0,r.unref)($a),{modelValue:(0,r.unref)(l).startLocation,'onUpdate:modelValue':a[9]||(a[9]=e=>(0,r.unref)(l).startLocation=e),options:(0,r.unref)(d),placeholder:'请选择起始地点','search-placeholder':'搜索地点...'},null,8,['modelValue','options']),'自定义'===(0,r.unref)(l).startLocation?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Dt),{key:0,modelValue:(0,r.unref)(l).customStartLocation,'onUpdate:modelValue':a[10]||(a[10]=e=>(0,r.unref)(l).customStartLocation=e),rows:2,placeholder:'请输入自定义起始地点'},null,8,['modelValue'])):(0,r.createCommentVNode)('v-if',!0)])]),(0,r.createCommentVNode)(' 初始属性分配面板 '),(0,r.createElementVNode)('div',Os,[(0,r.createElementVNode)('div',Hs,[a[12]||(a[12]=(0,r.createElementVNode)('h3',null,'初始属性分配',-1)),(0,r.createElementVNode)('div',Qs,[(0,r.createElementVNode)('span',null,[a[11]||(a[11]=(0,r.createTextVNode)('剩余AP: ',-1)),(0,r.createElementVNode)('strong',{class:(0,r.normalizeClass)({error:(0,r.unref)(t).remainingAP<0,success:0===(0,r.unref)(t).remainingAP})},(0,r.toDisplayString)((0,r.unref)(t).remainingAP),3),(0,r.createTextVNode)(' / '+(0,r.toDisplayString)((0,r.unref)(t).maxAP),1)])])]),(0,r.createElementVNode)('div',Ws,[(0,r.createElementVNode)('div',Js,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(x),e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e,class:'attribute-item'},[(0,r.createVNode)((0,r.unref)(jl),{'model-value':(0,r.unref)(l).attributePoints[e],label:e,min:0,max:(0,r.unref)(t).maxAP,'disable-increment':(0,r.unref)(t).remainingAP<=0,onIncrement:t=>(0,r.unref)(o)(e),onDecrement:t=>(0,r.unref)(n)(e)},null,8,['model-value','label','max','disable-increment','onIncrement','onDecrement']),(0,r.createElementVNode)('div',Xs,[(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(4))+' ',1),a[13]||(a[13]=(0,r.createElementVNode)('span',{class:'dim'},'(基础)',-1)),(0,r.createTextVNode)(' + '+(0,r.toDisplayString)((0,r.unref)(p))+' ',1),a[14]||(a[14]=(0,r.createElementVNode)('span',{class:'dim'},'(层级)',-1)),(0,r.createTextVNode)(' + '+(0,r.toDisplayString)((0,r.unref)(l).attributePoints[e])+' ',1),a[15]||(a[15]=(0,r.createElementVNode)('span',{class:'dim'},'(额外)',-1)),a[16]||(a[16]=(0,r.createTextVNode)(' = ',-1)),(0,r.createElementVNode)('strong',Ys,(0,r.toDisplayString)((0,r.unref)(t).finalAttributes[e]),1)])]))),128))]),(0,r.unref)(v)<0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Zs,' ⚠️ 转生点数不足！ ')):0===(0,r.unref)(t).remainingAP?((0,r.openBlock)(),(0,r.createElementBlock)('div',ei,' ✓ 属性点已全部分配 ')):(0,r.unref)(t).remainingAP>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ti,' 还有 '+(0,r.toDisplayString)((0,r.unref)(t).remainingAP)+' 点未分配 ',1)):(0,r.createCommentVNode)('v-if',!0)])])])]))}}),li=(0,i.A)(ai,[['__scopeId','data-v-0ab811f6']]),oi={class:'confirm-page'},ni={class:'confirm-panel'},ci={class:'panel-content'},ri={class:'doc-section points-section'},si={class:'points-grid'},ii={class:'point-item'},di={class:'point-value gold'},mi={class:'point-item'},ui={class:'point-value'},pi={class:'point-item'},vi={class:'point-item destiny'},fi={class:'point-value purple'},Vi={class:'doc-section'},ki={class:'doc-text'},yi={class:'doc-section'},Ni={class:'doc-text attributes'},Ei={class:'attr-detail'},gi={class:'doc-section'},bi={class:'section-title'},hi={key:0,class:'doc-text'},Bi={class:'item-title'},Ci={class:'item-cost'},xi={class:'item-meta'},Si={key:0},wi={key:0,class:'item-desc'},Di={key:1,class:'item-desc'},_i={key:2,class:'item-flavor'},Pi={key:1,class:'empty-text'},Fi={class:'doc-section'},Ii={class:'section-title'},$i={key:0,class:'doc-text'},qi={class:'item-title'},Li={key:0,class:'item-quantity'},Ti={class:'item-cost'},Ai={class:'item-meta'},Mi={key:0},Ui={key:0,class:'item-desc'},zi={key:1,class:'item-desc'},Ri={key:2,class:'item-flavor'},ji={key:1,class:'empty-text'},Gi={class:'doc-section'},Ki={class:'section-title'},Oi={key:0,class:'doc-text'},Hi={class:'item-title'},Qi={class:'item-cost'},Wi={class:'item-meta'},Ji={key:0},Xi={key:1},Yi={key:0,class:'item-desc'},Zi={key:1,class:'item-desc'},ed={key:2,class:'item-flavor'},td={key:1,class:'empty-text'},ad={class:'doc-section'},ld={class:'section-title'},od={key:0,class:'doc-text'},nd={class:'item-title'},cd={class:'item-cost'},rd={class:'item-meta'},sd={key:0},id={key:1,class:'sub-list'},dd={key:0,class:'sub-item'},md={key:0,class:'sub-item'},ud={class:'sub-item'},pd={key:1,class:'sub-item'},vd={class:'sub-item'},fd={key:2,class:'sub-item'},Vd={class:'sub-item'},kd={key:3,class:'sub-item'},yd={key:4,class:'sub-item'},Nd={key:0,class:'sub-item'},Ed={key:1,class:'sub-item'},gd={key:2,class:'item-flavor'},bd={key:3,class:'sub-list'},hd={key:4,class:'sub-list'},Bd={key:1,class:'empty-text'},Cd={class:'doc-section'},xd={key:0,class:'doc-text'},Sd={class:'item-title'},wd={key:0,class:'item-meta'},Dd={key:0},_d={key:1},Pd={key:2},Fd={key:1,class:'background-desc'},Id={key:2,class:'background-desc'},$d={key:1,class:'empty-text'},qd={key:0,class:'final-notice'},Ld={key:0,class:'notice warning'},Td={key:1,class:'notice info'},Ad=(0,r.defineComponent)({__name:'index',setup(e){const t=q(),a=L(),l=(0,r.computed)(()=>t.consumedPoints),o=(0,r.computed)(()=>t.character.reincarnationPoints-l.value),n=(0,r.computed)(()=>'自定义'===t.character.gender?t.character.customGender||'自定义':t.character.gender),c=(0,r.computed)(()=>'自定义'===t.character.race?t.character.customRace||'自定义':t.character.race),s=(0,r.computed)(()=>'自定义'===t.character.identity?t.character.customIdentity||'自定义':t.character.identity),i=(0,r.computed)(()=>'自定义'===t.character.startLocation?t.character.customStartLocation||'自定义':t.character.startLocation),d={common:'#9e9e9e',uncommon:'#4caf50',rare:'#2196f3',epic:'#9c27b0',legendary:'#ff9800',mythic:'#e91e63',only:'#ff0000'},m=e=>Object.entries(e||{}).map(([e,t])=>({name:e,effects:Object.entries(t||{}).map(([e,t])=>({key:e,value:t}))})),u=e=>{const t=e.stairway;if(!t?.isOpen)return{isOpen:!1,isSimple:!1,text:'',elements:[],powers:[],laws:[],godlyRank:'',godKingdom:void 0};const a=m(t.elements),l=m(t.powers),o=m(t.laws),n=e.isCustom;return{isOpen:!0,isSimple:n,text:n&&t.elements?.custom?.desc||'',elements:a,powers:l,laws:o,godlyRank:t.godlyRank||'',godKingdom:t.godKingdom}};return(e,m)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',oi,[(0,r.createElementVNode)('div',ni,[(0,r.createCommentVNode)(' 标题 '),m[31]||(m[31]=(0,r.createElementVNode)('div',{class:'panel-header'},[(0,r.createElementVNode)('h2',{class:'panel-title'},'信息确认'),(0,r.createElementVNode)('p',{class:'panel-subtitle'},'非自定义数据（除了装备）会直接写入 MVU 变量中，不会发送给 AI')],-1)),(0,r.createCommentVNode)(' 文档内容 '),(0,r.createElementVNode)('div',ci,[(0,r.createCommentVNode)(' 点数统计 '),(0,r.createElementVNode)('section',ri,[(0,r.createElementVNode)('div',si,[(0,r.createElementVNode)('div',ii,[m[0]||(m[0]=(0,r.createElementVNode)('span',{class:'point-label'},'转生点数',-1)),(0,r.createElementVNode)('span',di,(0,r.toDisplayString)((0,r.unref)(t).character.reincarnationPoints),1)]),(0,r.createElementVNode)('div',mi,[m[1]||(m[1]=(0,r.createElementVNode)('span',{class:'point-label'},'已消耗',-1)),(0,r.createElementVNode)('span',ui,(0,r.toDisplayString)(l.value),1)]),(0,r.createElementVNode)('div',pi,[m[2]||(m[2]=(0,r.createElementVNode)('span',{class:'point-label'},'剩余',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['point-value',{negative:o.value<0,positive:o.value>=0}])},(0,r.toDisplayString)(o.value),3)]),(0,r.createElementVNode)('div',vi,[m[3]||(m[3]=(0,r.createElementVNode)('span',{class:'point-label'},'命运点数',-1)),(0,r.createElementVNode)('span',fi,(0,r.toDisplayString)((0,r.unref)(t).character.destinyPoints),1)])])]),(0,r.createCommentVNode)(' 基本信息 '),(0,r.createElementVNode)('section',Vi,[m[12]||(m[12]=(0,r.createElementVNode)('h3',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-clipboard-list','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'基本信息')],-1)),(0,r.createElementVNode)('div',ki,[(0,r.createElementVNode)('p',null,[m[4]||(m[4]=(0,r.createElementVNode)('strong',null,'姓名：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).character.name||'（未设置）'),1)]),(0,r.createElementVNode)('p',null,[m[5]||(m[5]=(0,r.createElementVNode)('strong',null,'性别：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)(n.value),1)]),(0,r.createElementVNode)('p',null,[m[6]||(m[6]=(0,r.createElementVNode)('strong',null,'年龄：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).character.age)+' 岁',1)]),(0,r.createElementVNode)('p',null,[m[7]||(m[7]=(0,r.createElementVNode)('strong',null,'种族：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)(c.value),1)]),(0,r.createElementVNode)('p',null,[m[8]||(m[8]=(0,r.createElementVNode)('strong',null,'身份：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)(s.value),1)]),(0,r.createElementVNode)('p',null,[m[9]||(m[9]=(0,r.createElementVNode)('strong',null,'出生地：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)(i.value),1)]),(0,r.createElementVNode)('p',null,[m[10]||(m[10]=(0,r.createElementVNode)('strong',null,'等级：',-1)),(0,r.createTextVNode)('Lv.'+(0,r.toDisplayString)((0,r.unref)(t).character.level),1)]),(0,r.createElementVNode)('p',null,[m[11]||(m[11]=(0,r.createElementVNode)('strong',null,'金钱：',-1)),(0,r.createTextVNode)((0,r.toDisplayString)((0,r.unref)(t).character.money)+' G',1)])])]),(0,r.createCommentVNode)(' 属性 '),(0,r.createElementVNode)('section',yi,[m[13]||(m[13]=(0,r.createElementVNode)('h3',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'角色属性')],-1)),(0,r.createElementVNode)('div',Ni,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).finalAttributes,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:t},[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)(t)+'：',1),(0,r.createElementVNode)('span',Ei,(0,r.toDisplayString)(e),1)]))),128))])]),(0,r.createCommentVNode)(' 装备 '),(0,r.createElementVNode)('section',gi,[(0,r.createElementVNode)('h3',bi,[m[14]||(m[14]=(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'装备 ('+(0,r.toDisplayString)((0,r.unref)(t).selectedEquipments.length)+')',1)]),(0,r.unref)(t).selectedEquipments.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',hi,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedEquipments,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,r.createElementVNode)('p',Bi,[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)(t+1)+'. ',1),(0,r.createElementVNode)('span',{style:(0,r.normalizeStyle)({color:d[e.rarity]})},(0,r.toDisplayString)(e.name),5),(0,r.createElementVNode)('span',Ci,'['+(0,r.toDisplayString)(e.cost)+' 点]',1)]),(0,r.createElementVNode)('p',xi,[(0,r.createTextVNode)(' 类型：'+(0,r.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',Si,' | 标签：'+(0,r.toDisplayString)(e.tag.join('、')),1)):(0,r.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('p',wi,[m[15]||(m[15]=(0,r.createTextVNode)(' 效果： ',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:t,class:'effect-inline'},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',Di,'效果：无')),e.description?((0,r.openBlock)(),(0,r.createElementBlock)('p',_i,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)('v-if',!0)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',Pi,'未选择装备'))]),(0,r.createCommentVNode)(' 道具 '),(0,r.createElementVNode)('section',Fi,[(0,r.createElementVNode)('h3',Ii,[m[16]||(m[16]=(0,r.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'道具 ('+(0,r.toDisplayString)((0,r.unref)(t).selectedItems.length)+')',1)]),(0,r.unref)(t).selectedItems.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',$i,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedItems,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,r.createElementVNode)('p',qi,[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)(t+1)+'. ',1),(0,r.createElementVNode)('span',{style:(0,r.normalizeStyle)({color:d[e.rarity]})},(0,r.toDisplayString)(e.name),5),e.quantity?((0,r.openBlock)(),(0,r.createElementBlock)('span',Li,'× '+(0,r.toDisplayString)(e.quantity),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('span',Ti,'['+(0,r.toDisplayString)(e.cost)+' 点]',1)]),(0,r.createElementVNode)('p',Ai,[(0,r.createTextVNode)(' 类型：'+(0,r.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',Mi,' | 标签：'+(0,r.toDisplayString)(e.tag.join('、')),1)):(0,r.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('p',Ui,[m[17]||(m[17]=(0,r.createTextVNode)(' 效果： ',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:t,class:'effect-inline'},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',zi,'效果：无')),e.description?((0,r.openBlock)(),(0,r.createElementBlock)('p',Ri,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)('v-if',!0)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',ji,'未选择道具'))]),(0,r.createCommentVNode)(' 技能 '),(0,r.createElementVNode)('section',Gi,[(0,r.createElementVNode)('h3',Ki,[m[18]||(m[18]=(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'技能 ('+(0,r.toDisplayString)((0,r.unref)(t).selectedSkills.length)+')',1)]),(0,r.unref)(t).selectedSkills.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Oi,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedSkills,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,r.createElementVNode)('p',Hi,[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)(t+1)+'. ',1),(0,r.createElementVNode)('span',{style:(0,r.normalizeStyle)({color:d[e.rarity]})},(0,r.toDisplayString)(e.name),5),(0,r.createElementVNode)('span',Qi,'['+(0,r.toDisplayString)(e.cost)+' 点]',1)]),(0,r.createElementVNode)('p',Wi,[(0,r.createTextVNode)(' 类型：'+(0,r.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('span',Ji,' | 标签：'+(0,r.toDisplayString)(e.tag.join('、')),1)):(0,r.createCommentVNode)('v-if',!0),e.consume?((0,r.openBlock)(),(0,r.createElementBlock)('span',Xi,' | 消耗：'+(0,r.toDisplayString)(e.consume),1)):(0,r.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('p',Yi,[m[19]||(m[19]=(0,r.createTextVNode)(' 效果： ',-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effect,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:t,class:'effect-inline'},(0,r.toDisplayString)(t)+'：'+(0,r.toDisplayString)(e),1))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',Zi,'效果：无')),e.description?((0,r.openBlock)(),(0,r.createElementBlock)('p',ed,(0,r.toDisplayString)(e.description),1)):(0,r.createCommentVNode)('v-if',!0)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',td,'未选择技能'))]),(0,r.createCommentVNode)(' 伙伴列表 '),(0,r.createElementVNode)('section',ad,[(0,r.createElementVNode)('h3',ld,[m[20]||(m[20]=(0,r.createElementVNode)('i',{class:'fa-solid fa-user-astronaut','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'伙伴列表 ('+(0,r.toDisplayString)((0,r.unref)(t).selectedPartners.length)+')',1)]),(0,r.unref)(t).selectedPartners.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',od,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(t).selectedPartners,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:'destined-entry'},[(0,r.createElementVNode)('p',nd,[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)(t+1)+'. '+(0,r.toDisplayString)(e.name),1),(0,r.createElementVNode)('span',cd,'['+(0,r.toDisplayString)(e.cost)+' 点]',1)]),(0,r.createElementVNode)('p',rd,(0,r.toDisplayString)(e.race)+' | '+(0,r.toDisplayString)(e.identity.join('、'))+' | Lv.'+(0,r.toDisplayString)(e.level)+' | '+(0,r.toDisplayString)(e.lifeLevel),1),e.backgroundInfo?((0,r.openBlock)(),(0,r.createElementBlock)('p',sd,(0,r.toDisplayString)(e.backgroundInfo),1)):(0,r.createCommentVNode)('v-if',!0),u(e).isOpen?((0,r.openBlock)(),(0,r.createElementBlock)('div',id,[m[25]||(m[25]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'登神长阶：')],-1)),u(e).isSimple?((0,r.openBlock)(),(0,r.createElementBlock)('p',dd,' • '+(0,r.toDisplayString)(u(e).text),1)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[u(e).elements.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',md,[m[21]||(m[21]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'要素：')],-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u(e).elements,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`element-${e.name}`,class:'sub-item'},[(0,r.createElementVNode)('p',ud,'• '+(0,r.toDisplayString)(e.name),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effects,t=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:`element-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,r.toDisplayString)(t.key)+'：'+(0,r.toDisplayString)(t.value),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),u(e).powers.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',pd,[m[22]||(m[22]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'权能：')],-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u(e).powers,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`power-${e.name}`,class:'sub-item'},[(0,r.createElementVNode)('p',vd,'• '+(0,r.toDisplayString)(e.name),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effects,t=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:`power-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,r.toDisplayString)(t.key)+'：'+(0,r.toDisplayString)(t.value),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),u(e).laws.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',fd,[m[23]||(m[23]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'法则：')],-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(u(e).laws,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`law-${e.name}`,class:'sub-item'},[(0,r.createElementVNode)('p',Vd,'• '+(0,r.toDisplayString)(e.name),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.effects,t=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:`law-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,r.toDisplayString)(t.key)+'：'+(0,r.toDisplayString)(t.value),1))),128))]))),128))])):(0,r.createCommentVNode)('v-if',!0),u(e).godlyRank?((0,r.openBlock)(),(0,r.createElementBlock)('p',kd,' • 神位：'+(0,r.toDisplayString)(u(e).godlyRank),1)):(0,r.createCommentVNode)('v-if',!0),u(e).godKingdom?.name||u(e).godKingdom?.description?((0,r.openBlock)(),(0,r.createElementBlock)('div',yd,[m[24]||(m[24]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'神国：')],-1)),u(e).godKingdom?.name?((0,r.openBlock)(),(0,r.createElementBlock)('p',Nd,' • 名称：'+(0,r.toDisplayString)(u(e).godKingdom?.name),1)):(0,r.createCommentVNode)('v-if',!0),u(e).godKingdom?.description?((0,r.openBlock)(),(0,r.createElementBlock)('p',Ed,' • 描述：'+(0,r.toDisplayString)(u(e).godKingdom?.description),1)):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0)],64))])):(0,r.createCommentVNode)('v-if',!0),e.comment?((0,r.openBlock)(),(0,r.createElementBlock)('p',gd,(0,r.toDisplayString)(e.comment),1)):(0,r.createCommentVNode)('v-if',!0),e.equip&&e.equip.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',bd,[m[26]||(m[26]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'装备：')],-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.equip,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:t,class:'sub-item'},' • '+(0,r.toDisplayString)(e.name||e),1))),128))])):(0,r.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',hd,[m[27]||(m[27]=(0,r.createElementVNode)('p',null,[(0,r.createElementVNode)('strong',null,'技能：')],-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.skills,(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('p',{key:t,class:'sub-item'},' • '+(0,r.toDisplayString)(e.name),1))),128))])):(0,r.createCommentVNode)('v-if',!0)]))),128))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',Bd,'未选择伙伴'))]),(0,r.createCommentVNode)(' 初始开局 '),(0,r.createElementVNode)('section',Cd,[m[28]||(m[28]=(0,r.createElementVNode)('h3',{class:'section-title'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-book-open','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'初始开局剧情')],-1)),(0,r.unref)(t).selectedBackground?((0,r.openBlock)(),(0,r.createElementBlock)('div',xd,[(0,r.createElementVNode)('p',Sd,[(0,r.createElementVNode)('strong',null,(0,r.toDisplayString)((0,r.unref)(t).selectedBackground.name),1)]),(0,r.unref)(t).selectedBackground.race||(0,r.unref)(t).selectedBackground.location?((0,r.openBlock)(),(0,r.createElementBlock)('p',wd,[(0,r.unref)(t).selectedBackground.race?((0,r.openBlock)(),(0,r.createElementBlock)('span',Dd,'种族：'+(0,r.toDisplayString)((0,r.unref)(t).selectedBackground.race),1)):(0,r.createCommentVNode)('v-if',!0),(0,r.unref)(t).selectedBackground.race&&(0,r.unref)(t).selectedBackground.location?((0,r.openBlock)(),(0,r.createElementBlock)('span',_d,' | ')):(0,r.createCommentVNode)('v-if',!0),(0,r.unref)(t).selectedBackground.location?((0,r.openBlock)(),(0,r.createElementBlock)('span',Pd,'地点：'+(0,r.toDisplayString)((0,r.unref)(t).selectedBackground.location),1)):(0,r.createCommentVNode)('v-if',!0)])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 自定义开局显示用户输入的内容，否则显示预设描述 '),'【自定义开局】'===(0,r.unref)(t).selectedBackground.name&&(0,r.unref)(a).customBackgroundDescription?((0,r.openBlock)(),(0,r.createElementBlock)('p',Fd,(0,r.toDisplayString)((0,r.unref)(a).customBackgroundDescription),1)):((0,r.openBlock)(),(0,r.createElementBlock)('p',Id,(0,r.toDisplayString)((0,r.unref)(t).selectedBackground.description),1))])):((0,r.openBlock)(),(0,r.createElementBlock)('p',$d,'未选择初始开局剧情'))]),(0,r.createCommentVNode)(' 提示信息 '),0!==o.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',qd,[o.value<0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Ld,[m[29]||(m[29]=(0,r.createElementVNode)('i',{class:'fa-solid fa-triangle-exclamation','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'警告：转生点数不足 '+(0,r.toDisplayString)(Math.abs(o.value))+' 点，请返回调整',1)])):((0,r.openBlock)(),(0,r.createElementBlock)('div',Td,[m[30]||(m[30]=(0,r.createElementVNode)('i',{class:'fa-solid fa-circle-info','aria-hidden':'true'},null,-1)),(0,r.createElementVNode)('span',null,'提示：还有 '+(0,r.toDisplayString)(o.value)+' 点转生点数未使用',1)]))])):(0,r.createCommentVNode)('v-if',!0)])])]))}}),Md=(0,i.A)(Ad,[['__scopeId','data-v-22222b1f']]),Ud={};let zd=null;!async function(){const e=await async function(){return N('equipments.json','装备')}(),t=E(Ud,e);zd=t}();const Rd={};let jd=null;!async function(){const e=await async function(){return N('items.json','道具')}();jd=E(Rd,e)}();const Gd={class:'category-tabs'},Kd=['onClick'],Od={class:'tab-icon','aria-hidden':'true'},Hd={class:'tab-label'},Qd=(0,r.defineComponent)({__name:'CategoryTabs',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{key:'equipment',label:'装备',icon:'fa-solid fa-shield-halved'},{key:'item',label:'道具',icon:'fa-solid fa-box-open'},{key:'skill',label:'技能',icon:'fa-solid fa-wand-magic'}];return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Gd,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l,t=>(0,r.createElementVNode)('button',{key:t.key,class:(0,r.normalizeClass)(['tab-button',{active:e.modelValue===t.key}]),onClick:e=>{return l=t.key,void a('update:modelValue',l);var l}},[(0,r.createElementVNode)('span',Od,[(0,r.createElementVNode)('i',{class:(0,r.normalizeClass)(t.icon)},null,2)]),(0,r.createElementVNode)('span',Hd,(0,r.toDisplayString)(t.label),1)],10,Kd)),64))]))}}),Wd=(0,i.A)(Qd,[['__scopeId','data-v-53e67b8a']]),Jd={class:'form-body'},Xd={class:'form-row'},Yd={class:'category-buttons'},Zd=['disabled','onClick'],em={class:'form-row'},tm={class:'form-row'},am={class:'form-row'},lm={class:'rarity-buttons'},om=['onClick'],nm={class:'cost-info'},cm={class:'cost-value'},rm={class:'cost-range'},sm={class:'form-row'},im={key:0,class:'form-row'},dm={key:1,class:'form-row'},mm={class:'form-row'},um={class:'form-row'},pm={class:'form-actions'},vm=['disabled'],fm=(0,r.defineComponent)({__name:'CustomItemForm',emits:['add'],setup(e,{expose:t,emit:a}){const l=a,o=L(),n=(0,r.ref)(!1),c=(0,r.ref)(!1),s=(0,r.ref)(!1),i=(0,r.computed)(()=>o.editingCustomItemName),d=(0,r.computed)(()=>''!==i.value.trim()),m=()=>{o.updateEditingCustomItemName(''),o.resetCustomItemForm()},u=(0,r.computed)({get:()=>o.customItemForm.categoryType,set:e=>o.updateCustomItemForm('categoryType',e)}),v=(0,r.computed)({get:()=>o.customItemForm.customItemType,set:e=>o.updateCustomItemForm('customItemType',e)}),f=(0,r.computed)({get:()=>o.customItemForm.itemName,set:e=>o.updateCustomItemForm('itemName',e)}),k=(0,r.computed)({get:()=>o.customItemForm.itemRarity,set:e=>o.updateCustomItemForm('itemRarity',e)}),y=(0,r.computed)({get:()=>o.customItemForm.itemTag,set:e=>o.updateCustomItemForm('itemTag',e)}),N=(0,r.computed)({get:()=>o.customItemForm.itemEffect,set:e=>o.updateCustomItemForm('itemEffect',e)}),E=(0,r.computed)({get:()=>o.customItemForm.itemDescription,set:e=>o.updateCustomItemForm('itemDescription',e)}),g=(0,r.computed)({get:()=>o.customItemForm.itemConsume,set:e=>o.updateCustomItemForm('itemConsume',e)}),b=(0,r.computed)({get:()=>o.customItemForm.itemQuantity,set:e=>o.updateCustomItemForm('itemQuantity',e)}),h=p,B=V,C=(0,r.computed)(()=>{const e=.5+.5*Math.random();return function(e,t=.5){const a=Gl[e],l=a.min+(a.max-a.min)*t;return Math.round(l)}(k.value,e)}),x=(0,r.computed)(()=>function(e){const t=Gl[e];return`${t.min}-${t.max}`}(k.value)),S=(0,r.computed)(()=>''!==f.value.trim()&&''!==v.value.trim()&&Object.keys(N.value||{}).length>0),w=()=>{o.resetCustomItemForm()};t({fillFormByItem:(e,t)=>{o.setCustomItemForm({categoryType:t,customItemType:e.type||'',itemName:e.name||'',itemRarity:e.rarity,itemTag:e.tag?[...e.tag]:[],itemEffect:e.effect?{...e.effect}:{},itemDescription:e.description||'',itemConsume:'skill'===t&&e.consume||'',itemQuantity:'item'===t&&e.quantity||1}),o.updateEditingCustomItemName(e.name||''),n.value=!0}});const D=()=>{c.value=!0},P=()=>{c.value=!1,w()},F=()=>{c.value=!1},I=()=>{S.value&&(s.value=!0)},q=()=>{s.value=!1},T=()=>{s.value=!1;const e={name:f.value.trim(),cost:C.value,type:v.value.trim(),tag:y.value,rarity:k.value,effect:N.value,description:E.value.trim()||'自定义物品',isCustom:!0};let t;t='skill'===u.value?{...e,consume:g.value.trim()||'',isCustom:!0}:'item'===u.value?{...e,quantity:b.value,isCustom:!0}:e,l('add',t,u.value,i.value.trim()),w()};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['custom-item-form',{expanded:n.value}])},[(0,r.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>n.value=!n.value)},[t[8]||(t[8]=(0,r.createElementVNode)('div',{class:'header-left'},[(0,r.createElementVNode)('h3',{class:'form-title'},'✨ 自定义'),(0,r.createElementVNode)('div',{class:'form-desc'},'创建您的专属物品、装备或技能')],-1)),(0,r.createElementVNode)('div',{class:(0,r.normalizeClass)(['toggle-icon',{rotated:n.value}])},'▼',2)]),(0,r.withDirectives)((0,r.createElementVNode)('div',Jd,[(0,r.createCommentVNode)(' 大分类选择 '),(0,r.createElementVNode)('div',Xd,[t[9]||(t[9]=(0,r.createElementVNode)('label',{class:'form-label'},'添加到分类',-1)),(0,r.createElementVNode)('div',Yd,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(B),e=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:e.value,class:(0,r.normalizeClass)(['category-btn',{active:u.value===e.value,disabled:d.value}]),disabled:d.value,onClick:t=>u.value=e.value},(0,r.toDisplayString)(e.label),11,Zd))),128))])]),(0,r.createCommentVNode)(' 名称 '),(0,r.createElementVNode)('div',em,[(0,r.createVNode)((0,r.unref)(dl),{label:'名称',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:f.value,'onUpdate:modelValue':t[1]||(t[1]=e=>f.value=e),placeholder:'请输入物品名称',maxlength:50},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 类型 '),(0,r.createElementVNode)('div',tm,[(0,r.createVNode)((0,r.unref)(dl),{label:'类型',required:''}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:v.value,'onUpdate:modelValue':t[2]||(t[2]=e=>v.value=e),placeholder:'例如：武器、防具、消耗品、主动、被动等',maxlength:20},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 品质 '),(0,r.createElementVNode)('div',am,[(0,r.createVNode)((0,r.unref)(dl),{label:'品质',required:''}),(0,r.createElementVNode)('div',lm,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(h),e=>((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:e.value,class:(0,r.normalizeClass)(['rarity-btn',{active:k.value===e.value}]),style:(0,r.normalizeStyle)({'--rarity-color':e.color}),onClick:t=>k.value=e.value},(0,r.toDisplayString)(e.label),15,om))),128))]),(0,r.createElementVNode)('div',nm,[t[10]||(t[10]=(0,r.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,r.createElementVNode)('span',cm,(0,r.toDisplayString)(C.value),1),(0,r.createElementVNode)('span',rm,'（范围：'+(0,r.toDisplayString)(x.value)+'）',1)])]),(0,r.createCommentVNode)(' 标签 '),(0,r.createElementVNode)('div',sm,[(0,r.createVNode)((0,r.unref)(dl),{label:'标签'}),(0,r.createVNode)((0,r.unref)(ka),{modelValue:y.value,'onUpdate:modelValue':t[3]||(t[3]=e=>y.value=e),placeholder:'输入标签后按回车添加或保存','add-button-text':'添加标签','empty-text':'暂无标签，点击下方按钮添加'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 数量（仅道具分类） '),'item'===u.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',im,[(0,r.createVNode)((0,r.unref)(dl),{label:'数量'}),(0,r.createVNode)((0,r.unref)(kl),{modelValue:b.value,'onUpdate:modelValue':t[4]||(t[4]=e=>b.value=e),min:1,max:99,placeholder:'请输入物品数量'},null,8,['modelValue'])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 消耗（仅技能分类） '),'skill'===u.value?((0,r.openBlock)(),(0,r.createElementBlock)('div',dm,[(0,r.createVNode)((0,r.unref)(dl),{label:'消耗'}),(0,r.createVNode)((0,r.unref)(Aa),{modelValue:g.value,'onUpdate:modelValue':t[5]||(t[5]=e=>g.value=e),placeholder:'例如：[动作: 50 SP]'},null,8,['modelValue'])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 效果 '),(0,r.createElementVNode)('div',mm,[(0,r.createVNode)((0,r.unref)(dl),{label:'效果',required:''}),(0,r.createVNode)((0,r.unref)(cl),{modelValue:N.value,'onUpdate:modelValue':t[6]||(t[6]=e=>N.value=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目，点击下方按钮添加'},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 描述 '),(0,r.createElementVNode)('div',um,[(0,r.createVNode)((0,r.unref)(dl),{label:'描述'}),(0,r.createVNode)((0,r.unref)(Dt),{modelValue:E.value,'onUpdate:modelValue':t[7]||(t[7]=e=>E.value=e),placeholder:'请描述物品的背景故事...',rows:2},null,8,['modelValue'])]),(0,r.createCommentVNode)(' 操作按钮 '),(0,r.createElementVNode)('div',pm,[(0,r.createElementVNode)('button',{class:'btn-reset',onClick:D},'清空'),d.value?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'btn-cancel',onClick:m},'取消编辑')):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('button',{class:'btn-submit',disabled:!S.value,onClick:I},(0,r.toDisplayString)(d.value?'确认修改':'添加到已选项目'),9,vm)])],512),[[r.vShow,n.value]]),(0,r.createCommentVNode)(' 清空确认弹窗 '),(0,r.createVNode)(Xt,{visible:c.value,title:'确认清空',message:'确定要清空所有已填写的内容吗？此操作不可撤销。','confirm-text':'确认清空','cancel-text':'取消',type:'danger',onConfirm:P,onCancel:F},null,8,['visible']),(0,r.createCommentVNode)(' 添加/修改确认弹窗 '),(0,r.createVNode)(Xt,{visible:s.value,title:d.value?'确认修改':'确认添加',message:d.value?`确定要将「${i.value}」更新为「${f.value}」吗？`:`确定要将「${f.value}」添加到已选项目吗？`,'confirm-text':d.value?'确认修改':'确认添加','cancel-text':'取消',type:'info',onConfirm:T,onCancel:q},null,8,['visible','title','message','confirm-text'])],2))}}),Vm=(0,i.A)(fm,[['__scopeId','data-v-59c411bc']]),km={class:'card-header'},ym={class:'item-name'},Nm={class:'card-body'},Em={class:'item-info'},gm={class:'info-value'},bm={key:0,class:'item-info'},hm={class:'tag-list'},Bm={key:1,class:'item-info'},Cm={class:'info-value quantity'},xm={key:2,class:'item-info'},Sm={class:'info-value consume'},wm={key:3,class:'item-effect'},Dm={class:'effect-grid'},_m={class:'effect-key'},Pm={class:'effect-value'},Fm={class:'item-description'},Im={class:'card-footer'},$m={class:'item-cost'},qm={class:'cost-value'},Lm={key:0,class:'selected-badge'},Tm=(0,r.defineComponent)({__name:'ItemCard',props:{item:{},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o={only:'#ff6f00',common:'#9e9e9e',uncommon:'#388e3c',rare:'#193c96',epic:'#9c27b0',legendary:'#9e7121',mythic:'#d32f2f'},n={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'},c=()=>{a.disabled||(a.selected?l('deselect',a.item):l('select',a.item))},s=e=>'consume'in e;return(t,a)=>{return(0,r.openBlock)(),(0,r.createElementBlock)('div',{class:(0,r.normalizeClass)(['item-card',{'is-selected':e.selected,'is-disabled':e.disabled}]),style:(0,r.normalizeStyle)({'--rarity-color':o[e.item.rarity]}),onClick:c},[(0,r.createCommentVNode)(' 卡片头部 '),(0,r.createElementVNode)('div',km,[(0,r.createElementVNode)('div',ym,(0,r.toDisplayString)(e.item.name),1),(0,r.createElementVNode)('div',{class:'item-rarity',style:(0,r.normalizeStyle)({color:o[e.item.rarity]})},(0,r.toDisplayString)(n[e.item.rarity]),5)]),(0,r.createCommentVNode)(' 卡片内容 '),(0,r.createElementVNode)('div',Nm,[(0,r.createElementVNode)('div',Em,[a[0]||(a[0]=(0,r.createElementVNode)('span',{class:'info-label'},'类型:',-1)),(0,r.createElementVNode)('span',gm,(0,r.toDisplayString)(e.item.type),1)]),'tag'in e.item&&e.item.tag&&e.item.tag.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',bm,[a[1]||(a[1]=(0,r.createElementVNode)('span',{class:'info-label'},'标签:',-1)),(0,r.createElementVNode)('div',hm,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.item.tag,e=>((0,r.openBlock)(),(0,r.createElementBlock)('span',{key:e,class:'tag-chip'},(0,r.toDisplayString)(e),1))),128))])])):(0,r.createCommentVNode)('v-if',!0),(i=e.item,'quantity'in i&&e.item.quantity?((0,r.openBlock)(),(0,r.createElementBlock)('div',Bm,[a[2]||(a[2]=(0,r.createElementVNode)('span',{class:'info-label'},'数量:',-1)),(0,r.createElementVNode)('span',Cm,(0,r.toDisplayString)(e.item.quantity),1)])):(0,r.createCommentVNode)('v-if',!0)),s(e.item)&&e.item.consume?((0,r.openBlock)(),(0,r.createElementBlock)('div',xm,[a[3]||(a[3]=(0,r.createElementVNode)('span',{class:'info-label'},'消耗:',-1)),(0,r.createElementVNode)('span',Sm,(0,r.toDisplayString)(e.item.consume),1)])):(0,r.createCommentVNode)('v-if',!0),'effect'in e.item&&Object.keys(e.item.effect||{}).length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',wm,[a[4]||(a[4]=(0,r.createElementVNode)('div',{class:'effect-label'},'效果:',-1)),(0,r.createElementVNode)('div',Dm,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((l=e.item.effect,l?Object.entries(l):[]),([e,t],a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:`${e}-${a}`,class:'effect-row'},[(0,r.createElementVNode)('span',_m,(0,r.toDisplayString)(e),1),(0,r.createElementVNode)('span',Pm,(0,r.toDisplayString)(t),1)]))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createElementVNode)('div',Fm,(0,r.toDisplayString)(e.item.description),1)]),(0,r.createCommentVNode)(' 卡片底部 '),(0,r.createElementVNode)('div',Im,[(0,r.createElementVNode)('div',$m,[a[5]||(a[5]=(0,r.createElementVNode)('span',{class:'cost-label'},'消耗点数:',-1)),(0,r.createElementVNode)('span',qm,(0,r.toDisplayString)(e.item.cost),1)]),e.selected?((0,r.openBlock)(),(0,r.createElementBlock)('div',Lm,'✓ 已选择')):(0,r.createCommentVNode)('v-if',!0)])],6);var l,i}}}),Am=(0,i.A)(Tm,[['__scopeId','data-v-6ed91820']]),Mm={class:'item-list'},Um={key:0,class:'empty-state'},zm={key:1,class:'item-grid'},Rm=(0,r.defineComponent)({__name:'ItemList',props:{items:{},selectedItems:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,{availablePoints:o}=Ae(),{isSelected:n,isDisabled:c}=xe(()=>a.selectedItems,()=>o.value),s=e=>{l('select',e)},i=e=>{l('deselect',e)};return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Mm,[0===e.items.length?((0,r.openBlock)(),(0,r.createElementBlock)('div',Um,[...a[0]||(a[0]=[(0,r.createElementVNode)('div',{class:'empty-icon'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'})],-1),(0,r.createElementVNode)('div',{class:'empty-text'},'该分类下暂无物品',-1)])])):((0,r.openBlock)(),(0,r.createElementBlock)('div',zm,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.items,e=>((0,r.openBlock)(),(0,r.createBlock)(Am,{key:e.name,item:e,selected:(0,r.unref)(n)(e),disabled:(0,r.unref)(c)(e),onSelect:s,onDeselect:i},null,8,['item','selected','disabled']))),128))]))]))}}),jm=(0,i.A)(Rm,[['__scopeId','data-v-0cb1e7b4']]),Gm=(0,r.defineComponent)({__name:'MoneyExchangeCard',setup(e){const t=q(),a=(0,r.ref)(0),l=(0,r.computed)(()=>{const e=Math.ceil(t.character.money/100);return Math.max(0,t.character.reincarnationPoints-(t.consumedPoints-e))}),o=()=>{if(a.value<=0||a.value>l.value)return;const e=100*Math.max(0,Math.round(a.value));t.updateCharacterField('money',e),a.value=0},n=()=>{l.value<=0||(t.updateCharacterField('money',100*l.value),a.value=0)},c=()=>{t.updateCharacterField('money',0),a.value=0};return(e,s)=>((0,r.openBlock)(),(0,r.createBlock)(Bc,{modelValue:(0,r.unref)(a),'onUpdate:modelValue':s[0]||(s[0]=e=>(0,r.isRef)(a)?a.value=e:null),title:'金钱兑换','rate-text':'(1转生点 = 100 G)','icon-class':'fa-solid fa-coins','current-label':'当前：','current-value':(0,r.unref)(t).character.money,'current-unit':'G','gain-unit':'G','gain-per-point':100,'max-exchangeable':(0,r.unref)(l),theme:'gold','exchange-all-title':'将所有剩余转生点数兑换为金钱','reset-title':'重置已兑换的金钱','reset-disabled':(0,r.unref)(t).character.money<=0,onExchange:o,onExchangeAll:n,onReset:c},null,8,['modelValue','current-value','max-exchangeable','reset-disabled']))}}),Km={class:'rarity-filter'},Om={class:'filter-buttons'},Hm=['onClick'],Qm=(0,r.defineComponent)({__name:'RarityFilter',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{value:'all',label:'全部',color:'#666'},...p.slice().reverse()];return(t,o)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Km,[o[0]||(o[0]=(0,r.createElementVNode)('div',{class:'filter-label'},'品质筛选：',-1)),(0,r.createElementVNode)('div',Om,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l,t=>(0,r.createElementVNode)('button',{key:t.value,class:(0,r.normalizeClass)(['filter-btn',{active:e.modelValue===t.value}]),style:(0,r.normalizeStyle)({'--rarity-color':t.color}),onClick:e=>{return l=t.value,void a('update:modelValue',l);var l}},(0,r.toDisplayString)(t.label),15,Hm)),64))])]))}}),Wm=(0,i.A)(Qm,[['__scopeId','data-v-4102fea8']]),Jm={class:'selected-panel'},Xm={class:'panel-header'},Ym={class:'header-top'},Zm={class:'count-badge'},eu={class:'points-info'},tu={class:'points-total'},au={class:'points-consumed'},lu={class:'panel-body'},ou={key:0,class:'section'},nu={class:'section-title'},cu={class:'count'},ru={class:'item-list'},su=['onClick'],iu={class:'item-info'},du={class:'item-name'},mu={class:'name-text'},uu={key:0,class:'custom-tag'},pu={class:'item-cost'},vu=['onClick'],fu={key:1,class:'section'},Vu={class:'section-title'},ku={class:'count'},yu={class:'item-list'},Nu=['onClick'],Eu={class:'item-info'},gu={class:'item-name'},bu={class:'name-text'},hu={key:0,class:'item-quantity'},Bu={key:1,class:'custom-tag'},Cu={class:'item-cost'},xu=['onClick'],Su={key:2,class:'section'},wu={class:'section-title'},Du={class:'count'},_u={class:'item-list'},Pu=['onClick'],Fu={class:'item-info'},Iu={class:'item-name'},$u={class:'name-text'},qu={key:0,class:'custom-tag'},Lu={class:'item-cost'},Tu=['onClick'],Au={key:3,class:'empty-state'},Mu={class:'panel-footer'},Uu={class:'total-info'},zu={class:'value'},Ru=(0,r.defineComponent)({__name:'SelectedPanel',props:{equipments:{},items:{},skills:{}},emits:['remove','edit-custom','clear'],setup(e,{emit:t}){const a=e,l=t,{availablePoints:o,totalPoints:n,consumedPoints:c}=Ae(),s=(e,t)=>{l('remove',e,t)},i=(e,t)=>{l('edit-custom',e,t)},d=()=>{l('clear')},m=(0,r.computed)(()=>a.equipments.length+a.items.length+a.skills.length),u=(0,r.computed)(()=>_.sum([_.sumBy(a.equipments,'cost'),_.sumBy(a.items,'cost'),_.sumBy(a.skills,'cost')]));return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Jm,[(0,r.createElementVNode)('div',Xm,[(0,r.createElementVNode)('div',Ym,[a[0]||(a[0]=(0,r.createElementVNode)('h3',{class:'title'},'已选项目',-1)),(0,r.createElementVNode)('div',Zm,(0,r.toDisplayString)((0,r.unref)(m)),1)]),(0,r.createElementVNode)('div',eu,[a[1]||(a[1]=(0,r.createElementVNode)('span',{class:'points-label'},'转生点数：',-1)),(0,r.createElementVNode)('span',{class:(0,r.normalizeClass)(['points-value',{negative:(0,r.unref)(o)<0}])},(0,r.toDisplayString)((0,r.unref)(o)),3),(0,r.createElementVNode)('span',tu,'/ '+(0,r.toDisplayString)((0,r.unref)(n)),1),(0,r.createElementVNode)('span',au,'（已消耗：'+(0,r.toDisplayString)((0,r.unref)(c))+'）',1)])]),(0,r.createElementVNode)('div',lu,[(0,r.createCommentVNode)(' 装备列表 '),e.equipments.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',ou,[(0,r.createElementVNode)('div',nu,[a[2]||(a[2]=(0,r.createElementVNode)('span',{class:'section-label'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'装备')],-1)),(0,r.createElementVNode)('span',cu,'('+(0,r.toDisplayString)(e.equipments.length)+')',1)]),(0,r.createElementVNode)('div',ru,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.equipments,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['selected-item',{'is-custom':e.isCustom}]),onClick:t=>e.isCustom&&i(e,'equipment')},[(0,r.createElementVNode)('div',iu,[(0,r.createElementVNode)('div',du,[(0,r.createElementVNode)('span',mu,(0,r.toDisplayString)(e.name),1),e.isCustom?((0,r.openBlock)(),(0,r.createElementBlock)('span',uu,[...a[3]||(a[3]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1)])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',pu,(0,r.toDisplayString)(e.cost)+' 点',1)]),(0,r.createElementVNode)('button',{class:'remove-btn',onClick:(0,r.withModifiers)(t=>s(e,'equipment'),['stop'])},[...a[4]||(a[4]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,vu)],10,su))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 道具列表 '),e.items.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',fu,[(0,r.createElementVNode)('div',Vu,[a[5]||(a[5]=(0,r.createElementVNode)('span',{class:'section-label'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'道具')],-1)),(0,r.createElementVNode)('span',ku,'('+(0,r.toDisplayString)(e.items.length)+')',1)]),(0,r.createElementVNode)('div',yu,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.items,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['selected-item',{'is-custom':e.isCustom}]),onClick:t=>e.isCustom&&i(e,'item')},[(0,r.createElementVNode)('div',Eu,[(0,r.createElementVNode)('div',gu,[(0,r.createElementVNode)('span',bu,(0,r.toDisplayString)(e.name),1),e.quantity?((0,r.openBlock)(),(0,r.createElementBlock)('span',hu,'× '+(0,r.toDisplayString)(e.quantity),1)):(0,r.createCommentVNode)('v-if',!0),e.isCustom?((0,r.openBlock)(),(0,r.createElementBlock)('span',Bu,[...a[6]||(a[6]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1)])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',Cu,(0,r.toDisplayString)(e.cost)+' 点',1)]),(0,r.createElementVNode)('button',{class:'remove-btn',onClick:(0,r.withModifiers)(t=>s(e,'item'),['stop'])},[...a[7]||(a[7]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,xu)],10,Nu))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 技能列表 '),e.skills.length>0?((0,r.openBlock)(),(0,r.createElementBlock)('div',Su,[(0,r.createElementVNode)('div',wu,[a[8]||(a[8]=(0,r.createElementVNode)('span',{class:'section-label'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'}),(0,r.createElementVNode)('span',null,'技能')],-1)),(0,r.createElementVNode)('span',Du,'('+(0,r.toDisplayString)(e.skills.length)+')',1)]),(0,r.createElementVNode)('div',_u,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.skills,e=>((0,r.openBlock)(),(0,r.createElementBlock)('div',{key:e.name,class:(0,r.normalizeClass)(['selected-item',{'is-custom':e.isCustom}]),onClick:t=>e.isCustom&&i(e,'skill')},[(0,r.createElementVNode)('div',Fu,[(0,r.createElementVNode)('div',Iu,[(0,r.createElementVNode)('span',$u,(0,r.toDisplayString)(e.name),1),e.isCustom?((0,r.openBlock)(),(0,r.createElementBlock)('span',qu,[...a[9]||(a[9]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1)])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',Lu,(0,r.toDisplayString)(e.cost)+' 点',1)]),(0,r.createElementVNode)('button',{class:'remove-btn',onClick:(0,r.withModifiers)(t=>s(e,'skill'),['stop'])},[...a[10]||(a[10]=[(0,r.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,Tu)],10,Pu))),128))])])):(0,r.createCommentVNode)('v-if',!0),(0,r.createCommentVNode)(' 空状态 '),0===(0,r.unref)(m)?((0,r.openBlock)(),(0,r.createElementBlock)('div',Au,[...a[11]||(a[11]=[(0,r.createElementVNode)('div',{class:'empty-icon'},[(0,r.createElementVNode)('i',{class:'fa-solid fa-bullseye','aria-hidden':'true'})],-1),(0,r.createElementVNode)('div',{class:'empty-text'},'还没有选择任何物品',-1)])])):(0,r.createCommentVNode)('v-if',!0)]),(0,r.createElementVNode)('div',Mu,[(0,r.createElementVNode)('div',Uu,[a[12]||(a[12]=(0,r.createElementVNode)('span',{class:'label'},'总消耗：',-1)),(0,r.createElementVNode)('span',zu,(0,r.toDisplayString)((0,r.unref)(u))+' 点',1)]),(0,r.unref)(m)>0?((0,r.openBlock)(),(0,r.createElementBlock)('button',{key:0,class:'clear-btn',onClick:d},'清空全部')):(0,r.createCommentVNode)('v-if',!0)])]))}}),ju=(0,i.A)(Ru,[['__scopeId','data-v-68795a6e']]),Gu={class:'selections'},Ku={class:'selections-container'},Ou={class:'selection-area'},Hu={class:'custom-area'},Qu={class:'summary-area'},Wu=(0,r.defineComponent)({__name:'index',setup(e){const t=q(),a=L(),l=(0,r.ref)(null),o=(0,r.ref)('equipment'),n=(0,r.ref)(''),c=(0,r.ref)('all'),s=e=>e,i=(0,r.computed)(()=>zd||Ud),d=(0,r.computed)(()=>jd||Rd),m=(0,r.computed)(()=>F()),u=(0,r.computed)(()=>'自定义'===t.character.race?t.character.customRace:t.character.race),p=(0,r.computed)(()=>Object.keys(h.value).filter(e=>'自定义'!==e)),v=(0,r.computed)(()=>{switch(o.value){case'equipment':return Object.keys(i.value);case'item':return Object.keys(d.value);case'skill':return V.value;default:return[]}}),f=e=>'skill'!==o.value||(!p.value.includes(e)||u.value===e),V=(0,r.computed)(()=>{if('skill'!==o.value)return[];const e=Object.keys(m.value),[t,a]=_.partition(e,f);return[...t,...a]});(0,r.watch)(o,()=>{n.value=v.value[0]||'',c.value='all'}),(0,r.onMounted)(()=>{n.value=v.value[0]||''}),(0,r.watch)(()=>[t.character.race,t.character.customRace],()=>{if('skill'===o.value&&!f(n.value)){const e=_.find(v.value,f)||'';n.value=e}},{deep:!0});const k=(0,r.computed)(()=>{let e=[];switch(o.value){case'equipment':e=i.value[n.value]||[];break;case'item':e=d.value[n.value]||[];break;case'skill':e=m.value[n.value]||[]}return'all'!==c.value?e.filter(e=>e.rarity===c.value):e}),y=(0,r.computed)(()=>{switch(o.value){case'equipment':return t.selectedEquipments;case'item':return t.selectedItems;case'skill':return t.selectedSkills;default:return[]}}),N=e=>{switch(o.value){case'equipment':t.addEquipment(e);break;case'item':t.addItem(e);break;case'skill':t.addSkill(e)}},E=e=>{switch(o.value){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},g=(e,a)=>{switch(a){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},b=()=>{t.clearSelections()},B=(e,l,o)=>{const n=o?.trim();switch(l){case'equipment':n?t.replaceEquipmentByName(e,n):t.addEquipment(e);break;case'item':n?t.replaceItemByName(e,n):t.addItem(e);break;case'skill':n?t.replaceSkillByName(e,n):t.addSkill(e)}a.updateEditingCustomItemName('')},C=(e,t)=>{l.value?.fillFormByItem(e,t),toastr.info(`已回填自定义${'equipment'===t?'装备':'item'===t?'道具':'技能'}「${e.name}」`)};return(e,a)=>((0,r.openBlock)(),(0,r.createElementBlock)('div',Gu,[(0,r.createElementVNode)('div',Ku,[(0,r.createCommentVNode)(' 上半部分：选择区域 '),(0,r.createElementVNode)('div',Ou,[(0,r.createCommentVNode)(' 大分类标签 '),(0,r.createVNode)(Wd,{modelValue:(0,r.unref)(o),'onUpdate:modelValue':a[0]||(a[0]=e=>(0,r.isRef)(o)?o.value=e:null)},null,8,['modelValue']),(0,r.createCommentVNode)(' 选择主体区域 - 使用通用布局组件 '),(0,r.createVNode)(Nt,{modelValue:(0,r.unref)(n),'onUpdate:modelValue':a[2]||(a[2]=e=>(0,r.isRef)(n)?n.value=e:null),categories:(0,r.unref)(v),'disabled-categories':'skill'!==o.value?[]:p.value.filter(e=>e!==u.value),'category-name-formatter':s},{filter:(0,r.withCtx)(()=>[(0,r.createVNode)(Wm,{modelValue:(0,r.unref)(c),'onUpdate:modelValue':a[1]||(a[1]=e=>(0,r.isRef)(c)?c.value=e:null)},null,8,['modelValue'])]),content:(0,r.withCtx)(()=>[(0,r.createVNode)(jm,{items:(0,r.unref)(k),'selected-items':(0,r.unref)(y),onSelect:N,onDeselect:E},null,8,['items','selected-items'])]),_:1},8,['modelValue','categories','disabled-categories'])]),(0,r.createCommentVNode)(' 自定义物品区域 '),(0,r.createElementVNode)('div',Hu,[(0,r.createVNode)(Gm),(0,r.createVNode)(Vm,{ref_key:'customItemFormRef',ref:l,onAdd:B},null,512)]),(0,r.createCommentVNode)(' 下半部分：已选面板 '),(0,r.createElementVNode)('div',Qu,[(0,r.createVNode)(ju,{equipments:(0,r.unref)(t).selectedEquipments,items:(0,r.unref)(t).selectedItems,skills:(0,r.unref)(t).selectedSkills,onRemove:g,onEditCustom:C,onClear:b},null,8,['equipments','items','skills'])])])]))}}),Ju=(0,i.A)(Wu,[['__scopeId','data-v-5acd2d02']]),Xu=[{path:Ie,name:we,component:mt,redirect:$e,children:[{path:'basic',name:De,component:li,meta:{title:Se[0].title,step:1}},{path:'selections',name:_e,component:Ju,meta:{title:Se[1].title,step:2}},{path:'background',name:Pe,component:_s,meta:{title:Se[2].title,step:3}},{path:'confirm',name:Fe,component:Md,meta:{title:Se[3].title,step:4}}]}],Yu=(0,u.createRouter)({history:(0,u.createMemoryHistory)(),routes:Xu}),Zu=(0,r.createApp)(m);$(()=>{Zu.use(Ee),Zu.use(Yu),Zu.mount('#app')});</script><style>*{margin:0;padding:0;box-sizing:border-box}:root{--primary-bg:#f5efe6;--card-bg:rgba(240,230,210,0.95);--input-bg:#fff9f0;--border-color:#d4c4b0;--border-color-strong:#8b7355;--text-color:#3a3a3a;--text-light:#666666;--title-color:#5c4033;--accent-color:#d4af37;--error-color:#d32f2f;--success-color:#388e3c;--button-bg:#c6b8a5;--button-hover:#b0a295;--points-color:#5c4033;--border-color-light:#e0d5c7;--font-title:'Cinzel',serif;--font-body:'Segoe UI','Microsoft YaHei',sans-serif;--font-mono:'Monaco','Menlo',monospace;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:12px;--spacing-lg:16px;--spacing-xl:24px;--spacing-2xl:32px;--radius-sm:2px;--radius-md:4px;--radius-lg:8px;--shadow-sm:0 1px 3px rgba(0,0,0,0.1);--shadow-md:0 2px 8px rgba(0,0,0,0.12);--shadow-lg:0 4px 16px rgba(0,0,0,0.15);--transition-fast:0.15s ease-in-out;--transition-normal:0.3s ease-in-out}body{font-family:var(--font-body);color:var(--text-color);line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:var(--font-title);font-weight:700;color:var(--title-color);line-height:1.4}h1{font-size:1.88rem;letter-spacing:1px}h2{font-size:1.5rem}h3{font-size:1.25rem}@media (max-width:768px){h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.1rem}}
.creator-app[data-v-15ec88ba]{background-color:#f5efe6}
.modal-overlay[data-v-52461bda]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(2px)}.modal-container[data-v-52461bda]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--border-color);width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header[data-v-52461bda]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%)}.modal-header .modal-title[data-v-52461bda]{margin:0;font-size:1.3rem;color:var(--title-color);font-weight:700;font-family:var(--font-title)}.modal-header .close-button[data-v-52461bda]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--text-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);transition:var(--transition-fast)}.modal-header .close-button[data-v-52461bda]:hover{background:var(--border-color-light);color:var(--error-color)}.modal-content[data-v-52461bda]{flex:1;overflow-y:auto;padding:var(--spacing-lg)}.section-title[data-v-52461bda]{font-size:1rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;font-weight:600;display:flex;align-items:center;gap:var(--spacing-sm)}.section-title i[data-v-52461bda]{color:var(--accent-color)}.save-section[data-v-52461bda]{margin-bottom:var(--spacing-xl);padding-bottom:var(--spacing-lg);border-bottom:1px dashed var(--border-color)}.save-row[data-v-52461bda]{display:flex;gap:var(--spacing-sm)}.save-row .preset-input[data-v-52461bda]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;background:var(--input-bg);color:var(--text-color);transition:var(--transition-fast)}.save-row .preset-input[data-v-52461bda]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.2)}.save-row .preset-input[data-v-52461bda]::placeholder{color:var(--text-light)}.action-button[data-v-52461bda]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);white-space:nowrap}.action-button i[data-v-52461bda]{font-size:.85rem}.action-button.save-button[data-v-52461bda]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff;border-color:var(--accent-color)}.action-button.save-button[data-v-52461bda]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.action-button.save-button.confirm[data-v-52461bda]{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);border-color:#ff9800;animation:pulse-52461bda 1s infinite}.action-button.load-button[data-v-52461bda]{background:linear-gradient(135deg,var(--success-color) 0%,#2e7d32 100%);color:#fff;border-color:var(--success-color)}.action-button.load-button[data-v-52461bda]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.action-button.delete-button[data-v-52461bda]{background:var(--card-bg);color:var(--error-color);border-color:var(--error-color)}.action-button.delete-button[data-v-52461bda]:hover{background:var(--error-color);color:#fff}.action-button.confirm-delete[data-v-52461bda]{background:var(--error-color);color:#fff;border-color:var(--error-color);animation:pulse-52461bda 1s infinite}.action-button.cancel-button[data-v-52461bda]{background:var(--card-bg);color:var(--text-color);border-color:var(--border-color)}.action-button.cancel-button[data-v-52461bda]:hover{background:var(--button-bg)}@keyframes pulse-52461bda{0%,100%{opacity:1}50%{opacity:.7}}.empty-state[data-v-52461bda]{text-align:center;padding:var(--spacing-xl);color:var(--text-light)}.empty-state .empty-icon[data-v-52461bda]{font-size:2.5rem;margin-bottom:var(--spacing-md);opacity:.5}.empty-state p[data-v-52461bda]{margin:0 0 var(--spacing-xs) 0}.empty-state .hint[data-v-52461bda]{font-size:.85rem;font-style:italic}.preset-list[data-v-52461bda]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.preset-item[data-v-52461bda]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:var(--transition-fast)}.preset-item[data-v-52461bda]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.preset-item.delete-pending[data-v-52461bda]{border-color:var(--error-color);background:rgba(211,47,47,.05)}.preset-main[data-v-52461bda]{flex:1;min-width:0}.preset-info[data-v-52461bda]{display:flex;align-items:baseline;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.preset-info .preset-name[data-v-52461bda]{font-weight:600;color:var(--title-color);font-size:1rem}.preset-info .preset-time[data-v-52461bda]{font-size:.8rem;color:var(--text-light);font-family:var(--font-mono)}.preset-meta[data-v-52461bda]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.preset-meta .meta-item[data-v-52461bda]{font-size:.85rem;color:var(--text-light)}.preset-meta .meta-item i[data-v-52461bda]{margin-right:2px;color:var(--accent-color);opacity:.7}.preset-actions[data-v-52461bda]{display:flex;gap:var(--spacing-xs);margin-left:var(--spacing-md)}.modal-footer[data-v-52461bda]{padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);display:flex;justify-content:flex-end}.modal-footer .footer-button[data-v-52461bda]{padding:var(--spacing-sm) var(--spacing-xl);background:var(--button-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);color:var(--title-color)}.modal-footer .footer-button[data-v-52461bda]:hover{background:var(--button-hover)}@media (max-width:600px){.modal-container[data-v-52461bda]{width:95%;max-height:90vh}.save-row[data-v-52461bda]{flex-direction:column}.preset-item[data-v-52461bda]{flex-direction:column;align-items:stretch;gap:var(--spacing-sm,8px)}.preset-actions[data-v-52461bda]{margin-left:0;justify-content:flex-end}}
.content-area[data-v-422e4092]{margin:var(--spacing-md) 0;padding:var(--spacing-md);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);box-shadow:var(--shadow-md);position:relative;overflow:hidden;min-height:400px}.slide-left-enter-active[data-v-422e4092],.slide-left-leave-active[data-v-422e4092]{transition:all .3s ease-out}.slide-left-enter-from[data-v-422e4092]{opacity:0;transform:translateX(30px)}.slide-left-leave-to[data-v-422e4092]{opacity:0;transform:translateX(-30px)}.slide-right-enter-active[data-v-422e4092],.slide-right-leave-active[data-v-422e4092]{transition:all .3s ease-out}.slide-right-enter-from[data-v-422e4092]{opacity:0;transform:translateX(-30px)}.slide-right-leave-to[data-v-422e4092]{opacity:0;transform:translateX(30px)}
.header-controls[data-v-25795810]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg);flex-wrap:wrap}.points-display[data-v-25795810]{display:flex;align-items:baseline;gap:var(--spacing-sm);font-size:1.1rem;font-weight:600}.points-display .points-label[data-v-25795810]{color:var(--text-color)}.points-display .points-value[data-v-25795810]{font-size:1.5rem;font-weight:700;color:var(--accent-color);transition:var(--transition-normal)}.points-display .points-value.negative[data-v-25795810]{color:var(--error-color);animation:shake-25795810 .3s ease-in-out}.points-display .points-total[data-v-25795810]{color:var(--text-light);font-size:1rem}.control-buttons[data-v-25795810]{display:flex;gap:var(--spacing-sm)}.control-button[data-v-25795810]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-md);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.control-button[data-v-25795810]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.control-button[data-v-25795810]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.roll-button[data-v-25795810]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff}.roll-button[data-v-25795810]:hover{background:linear-gradient(135deg,#e0c04a 0%,#d4af37 100%)}.roll-button[data-v-25795810]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.roll-button[data-v-25795810]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}.preset-button[data-v-25795810]{background:linear-gradient(135deg,#6b8e9f 0%,#5a7a8a 100%);color:#fff}.preset-button[data-v-25795810]:hover{background:linear-gradient(135deg,#7a9fb0 0%,#6b8e9f 100%)}@keyframes shake-25795810{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}@media (max-width:768px){.header-controls[data-v-25795810]{flex-direction:column;gap:var(--spacing-md)}.points-display[data-v-25795810]{font-size:1rem}.points-display .points-value[data-v-25795810]{font-size:1.3rem}}
.navigation[data-v-de8f52dc]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-lg)}.nav-button[data-v-de8f52dc]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-xl);background:var(--button-bg);color:var(--title-color);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:16px;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.nav-button[data-v-de8f52dc]:hover:not(:disabled){background:var(--button-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.nav-button[data-v-de8f52dc]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.nav-button[data-v-de8f52dc]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}@media (max-width:768px){.navigation[data-v-de8f52dc]{flex-wrap:wrap;justify-content:center}.nav-button[data-v-de8f52dc]{flex:1;min-width:120px;justify-content:center}}
.confirm-overlay[data-v-45c171a6]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(2px)}.confirm-dialog[data-v-45c171a6]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--border-color);width:90%;max-width:400px;overflow:hidden}.confirm-header[data-v-45c171a6]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:1px solid var(--border-color)}.confirm-header i[data-v-45c171a6]{font-size:1.3rem;color:var(--accent-color)}.confirm-header h3[data-v-45c171a6]{margin:0;font-size:1.2rem;color:var(--title-color);font-weight:700}.confirm-body[data-v-45c171a6]{padding:var(--spacing-lg);text-align:center}.confirm-body p[data-v-45c171a6]{margin:0 0 var(--spacing-sm) 0;color:var(--text-color);font-size:1rem}.confirm-body p[data-v-45c171a6]:last-child{margin-bottom:0}.confirm-body .confirm-hint[data-v-45c171a6]{font-size:.9rem;color:var(--text-light);font-style:italic}.confirm-actions[data-v-45c171a6]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg) var(--spacing-lg);justify-content:center}.confirm-button[data-v-45c171a6]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-fast)}.confirm-button i[data-v-45c171a6]{font-size:.9rem}.confirm-button.save[data-v-45c171a6]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff;border-color:var(--accent-color)}.confirm-button.save[data-v-45c171a6]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.confirm-button.skip[data-v-45c171a6]{background:linear-gradient(135deg,var(--success-color) 0%,#2e7d32 100%);color:#fff;border-color:var(--success-color)}.confirm-button.skip[data-v-45c171a6]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.confirm-button.cancel[data-v-45c171a6]{background:var(--card-bg);color:var(--text-color);border-color:var(--border-color)}.confirm-button.cancel[data-v-45c171a6]:hover{background:var(--button-bg)}
.steps[data-v-4595f292]{width:100%;display:flex;align-items:center;gap:var(--spacing-xs);position:relative}.steps[data-v-4595f292]::-webkit-scrollbar{height:4px}.steps[data-v-4595f292]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb{background:var(--accent-color);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.steps .step[data-v-4595f292]{flex:1;display:flex;align-items:center;justify-content:center;color:var(--title-color);font-size:16px;background:var(--border-color-light);margin-left:-6px;clip-path:polygon(15px 0,100% 0,calc(100% - 15px) 50%,100% 100%,15px 100%,0 50%);transition:var(--transition-normal);padding:8px 20px;position:relative}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 15px) 50%,100% 100%,0 100%,0 50%);padding-left:16px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(15px 0,100% 0,100% 50%,100% 100%,15px 100%,0 50%);padding-right:16px}.steps .step .title[data-v-4595f292]{text-align:center;width:100%;line-height:1.3;word-break:keep-all;overflow-wrap:break-word;padding:4px 0}.steps .pass[data-v-4595f292]{background:var(--accent-color);color:var(--primary-bg);font-weight:600}@media (max-width:1024px){.steps[data-v-4595f292]{gap:2px}.steps .step[data-v-4595f292]{font-size:14px;padding:6px 16px}.steps .step[data-v-4595f292]:first-child{padding-left:14px}.steps .step[data-v-4595f292]:last-child{padding-right:14px}.steps .step .title[data-v-4595f292]{font-size:13px;line-height:1.4}}@media (max-width:640px){.steps[data-v-4595f292]{gap:1px}.steps .step[data-v-4595f292]{font-size:12px;padding:8px 10px;margin-left:-4px;clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 50%,100% 100%,12px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 12px) 50%,100% 100%,0 100%,0 50%);padding-left:10px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(12px 0,100% 0,100% 50%,100% 100%,12px 100%,0 50%);padding-right:10px}.steps .step .title[data-v-4595f292]{line-height:1.5}}@media (max-width:480px){.steps[data-v-4595f292]{gap:0}.steps .step[data-v-4595f292]{font-size:10px;padding:6px 8px;margin-left:-3px;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 50%,100% 100%,10px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 10px) 50%,100% 100%,0 100%,0 50%);padding-left:8px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(10px 0,100% 0,100% 50%,100% 100%,10px 100%,0 50%);padding-right:8px}.steps .step .title[data-v-4595f292]{line-height:1.5}}
.layout[data-v-3ba0e588]{display:flex;flex-direction:column;min-height:500px;padding:var(--spacing-xl)}.main-title[data-v-3ba0e588]{text-align:center;margin-bottom:var(--spacing-lg);color:var(--title-color)}@media (max-width:768px){.layout[data-v-3ba0e588]{padding:var(--spacing-md)}}
.category-selection-layout[data-v-0b4afefe]{display:grid;grid-template-columns:var(--sidebar-width) 1fr;gap:0;height:var(--content-max-height);max-height:var(--content-max-height);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden}.category-sidebar[data-v-0b4afefe]{background:var(--card-bg);border-right:2px solid var(--border-color-strong);height:100%;display:flex;flex-direction:column;overflow:hidden}.category-sidebar .category-list[data-v-0b4afefe]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-md);overflow-y:auto;flex:1}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar{width:6px}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.category-sidebar .category-item[data-v-0b4afefe]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color);text-align:left;white-space:normal;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;hyphens:auto;line-height:1.4;min-height:32px;display:flex;align-items:center}.category-sidebar .category-item[data-v-0b4afefe]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.category-sidebar .category-item.active[data-v-0b4afefe]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600}.category-sidebar .category-item.disabled[data-v-0b4afefe]{cursor:not-allowed;opacity:.5;background:var(--input-bg);border-color:var(--border-color);color:var(--text-light)}.category-sidebar .category-item.disabled[data-v-0b4afefe]:hover{background:var(--input-bg);border-color:var(--border-color)}.content-area[data-v-0b4afefe]{background:var(--card-bg);overflow-y:auto;height:100%;display:flex;flex-direction:column}.content-area[data-v-0b4afefe]::-webkit-scrollbar{width:8px}.content-area[data-v-0b4afefe]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.content-area[data-v-0b4afefe]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.content-area[data-v-0b4afefe]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.filter-area[data-v-0b4afefe]{position:sticky;top:0;z-index:10;background:var(--card-bg);padding:var(--spacing-xs) var(--spacing-sm);border-bottom:2px solid var(--border-color);box-shadow:0 2px 4px rgba(0,0,0,.05)}.content-main[data-v-0b4afefe]{flex:1;overflow-y:auto}@media (max-width:768px){.category-selection-layout[data-v-0b4afefe]{grid-template-columns:120px 1fr;height:450px}.category-sidebar .category-list[data-v-0b4afefe]{padding:var(--spacing-xs) 4px}.category-sidebar .category-item[data-v-0b4afefe]{font-size:.8rem;padding:var(--spacing-xs) var(--spacing-sm);min-height:28px;line-height:1.3}}@media (max-width:480px){.category-selection-layout[data-v-0b4afefe]{grid-template-columns:100px 1fr;height:400px}.category-sidebar .category-list[data-v-0b4afefe]{padding:var(--spacing-xs) 3px}.category-sidebar .category-item[data-v-0b4afefe]{font-size:.75rem;padding:3px 5px;min-height:24px}}
.form-textarea-wrapper[data-v-517d0cac]{position:relative;width:100%}.form-textarea[data-v-517d0cac]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;font-family:var(--font-body);color:var(--text-color);line-height:1.5;resize:vertical;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-textarea.auto-resize[data-v-517d0cac]{resize:none;overflow-y:hidden}.form-textarea[data-v-517d0cac]::placeholder{color:var(--text-light)}.form-textarea[data-v-517d0cac]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-textarea[data-v-517d0cac]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-textarea.is-disabled[data-v-517d0cac]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-textarea.is-readonly[data-v-517d0cac]{background:var(--border-color-light);cursor:default}
.requirement-item[data-v-18788000]{display:flex;flex-direction:column;gap:2px;font-size:.75rem}.requirement-item .requirement-label[data-v-18788000]{color:var(--text-light);font-weight:500;font-size:.85rem}.requirement-item .requirement-value[data-v-18788000]{font-weight:600;word-break:break-word;line-height:1.4}.requirement-item .requirement-value.requirement-met[data-v-18788000]{color:var(--success-color)}.requirement-item .requirement-value.requirement-unmet[data-v-18788000]{color:var(--error-color)}
.background-list[data-v-20e63764]{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-md);height:100%;overflow-y:auto}.background-list[data-v-20e63764]::-webkit-scrollbar{width:8px}.background-list[data-v-20e63764]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.background-list[data-v-20e63764]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.background-list[data-v-20e63764]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.empty-message[data-v-20e63764]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.background-card[data-v-20e63764]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.background-card[data-v-20e63764]:hover:not(.disabled){border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateX(4px)}.background-card.selected[data-v-20e63764]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md);border-left-width:4px}.background-card.disabled[data-v-20e63764]{opacity:.6;cursor:not-allowed}.background-card.disabled[data-v-20e63764]:hover{transform:none}.card-header[data-v-20e63764]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.card-header .background-name[data-v-20e63764]{font-size:1.1rem;color:var(--title-color);margin:0;font-weight:600;flex:1}.card-header .expand-btn[data-v-20e63764]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.75rem;color:var(--text-color);transition:all var(--transition-fast);white-space:nowrap}.card-header .expand-btn[data-v-20e63764]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.requirements[data-v-20e63764]{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--input-bg);border-radius:var(--radius-sm);border-left:3px solid var(--accent-color)}.background-summary[data-v-20e63764]{color:var(--text-color);line-height:1.6;margin:0;font-size:.9rem}.requirement-warning[data-v-20e63764]{margin-top:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:rgba(211,47,47,.1);border-left:3px solid var(--error-color);border-radius:var(--radius-sm);color:var(--error-color);font-size:.8rem;font-weight:500}.custom-input-area[data-v-20e63764]{margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:2px dashed var(--border-color);animation:slideDown-20e63764 var(--transition-normal) ease-out}.custom-input-label[data-v-20e63764]{font-size:.9rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm)}@keyframes slideDown-20e63764{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.background-list[data-v-20e63764]{padding:var(--spacing-sm);gap:var(--spacing-sm)}.background-card[data-v-20e63764]{padding:var(--spacing-sm)}.card-header .background-name[data-v-20e63764]{font-size:1rem}.background-summary[data-v-20e63764],.background-description[data-v-20e63764]{font-size:.85rem}}
.confirm-overlay[data-v-62de9d7e]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:10000;backdrop-filter:blur(2px);animation:fadeIn-62de9d7e .2s ease-out}@keyframes fadeIn-62de9d7e{from{opacity:0}to{opacity:1}}@keyframes slideIn-62de9d7e{from{opacity:0;transform:scale(0.9) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}.confirm-container[data-v-62de9d7e]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:2px solid var(--border-color);width:90%;max-width:400px;overflow:hidden;animation:slideIn-62de9d7e .2s ease-out}.confirm-container.type-warning[data-v-62de9d7e]{border-color:var(--accent-color)}.confirm-container.type-danger[data-v-62de9d7e]{border-color:var(--error-color)}.confirm-container.type-info[data-v-62de9d7e]{border-color:var(--info-color,#2196f3)}.confirm-header[data-v-62de9d7e]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:1px solid var(--border-color)}.type-danger .confirm-header[data-v-62de9d7e]{background:linear-gradient(135deg,rgba(211,47,47,0.1) 0%,rgba(211,47,47,0.05) 100%)}.type-info .confirm-header[data-v-62de9d7e]{background:linear-gradient(135deg,rgba(33,150,243,0.1) 0%,rgba(33,150,243,0.05) 100%)}.confirm-header .confirm-icon[data-v-62de9d7e]{font-size:1.3rem}.type-warning .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--accent-color)}.type-danger .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--error-color)}.type-info .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--info-color,#2196f3)}.confirm-header .confirm-title[data-v-62de9d7e]{margin:0;font-size:1.1rem;color:var(--title-color);font-weight:700}.confirm-content[data-v-62de9d7e]{padding:var(--spacing-lg)}.confirm-content .confirm-message[data-v-62de9d7e]{margin:0;font-size:.95rem;color:var(--text-color);line-height:1.6}.confirm-actions[data-v-62de9d7e]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);justify-content:flex-end}.btn-cancel[data-v-62de9d7e],.btn-confirm[data-v-62de9d7e]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast);min-width:80px}.btn-cancel i[data-v-62de9d7e],.btn-confirm i[data-v-62de9d7e]{font-size:.85rem}.btn-cancel[data-v-62de9d7e]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.btn-cancel[data-v-62de9d7e]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.btn-confirm[data-v-62de9d7e]{color:#fff}.btn-confirm.btn-warning[data-v-62de9d7e]{background:var(--accent-color)}.btn-confirm.btn-warning[data-v-62de9d7e]:hover{background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.btn-confirm.btn-danger[data-v-62de9d7e]{background:var(--error-color)}.btn-confirm.btn-danger[data-v-62de9d7e]:hover{background:#c62828;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.btn-confirm.btn-info[data-v-62de9d7e]{background:var(--info-color,#2196f3)}.btn-confirm.btn-info[data-v-62de9d7e]:hover{background:#1976d2;transform:translateY(-1px);box-shadow:var(--shadow-sm)}@media (max-width:480px){.confirm-container[data-v-62de9d7e]{width:95%}.confirm-actions[data-v-62de9d7e]{flex-direction:column-reverse}.confirm-actions .btn-cancel[data-v-62de9d7e],.confirm-actions .btn-confirm[data-v-62de9d7e]{width:100%;justify-content:center}}
.form-array-input[data-v-c73d04d0]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.form-array-input.is-disabled[data-v-c73d04d0]{opacity:.6;pointer-events:none}.array-items[data-v-c73d04d0]{max-height:200px;overflow-y:auto;padding:var(--spacing-sm)}.array-items[data-v-c73d04d0]::-webkit-scrollbar{width:6px}.array-items[data-v-c73d04d0]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.array-items[data-v-c73d04d0]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.array-items[data-v-c73d04d0]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.array-item[data-v-c73d04d0]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);margin-bottom:var(--spacing-xs);transition:all var(--transition-fast)}.array-item[data-v-c73d04d0]:last-child{margin-bottom:0}.array-item[data-v-c73d04d0]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.item-index[data-v-c73d04d0]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.item-text[data-v-c73d04d0]{flex:1;font-size:.95rem;color:var(--text-color);cursor:pointer;padding:var(--spacing-xs) 0;min-height:28px;display:flex;align-items:center}.item-text[data-v-c73d04d0]:hover{color:var(--accent-color)}.item-input[data-v-c73d04d0]{flex:1;padding:var(--spacing-xs) var(--spacing-sm);background:#fff;border:1px solid var(--accent-color);border-radius:var(--radius-sm);font-size:.95rem;color:var(--text-color);outline:none}.item-input[data-v-c73d04d0]:focus{box-shadow:0 0 0 2px rgba(212,175,55,.2)}.item-actions[data-v-c73d04d0]{display:flex;gap:4px;opacity:0;transition:opacity var(--transition-fast)}.array-item:hover .item-actions[data-v-c73d04d0]{opacity:1}.action-btn[data-v-c73d04d0]{display:flex;align-items:center;justify-content:center;width:26px;height:26px;padding:0;border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);cursor:pointer;font-size:.75rem;transition:all var(--transition-fast)}.action-btn[data-v-c73d04d0]:hover:not(:disabled){border-color:var(--accent-color);background:rgba(212,175,55,.1)}.action-btn[data-v-c73d04d0]:disabled{opacity:.4;cursor:not-allowed}.action-btn.remove-btn[data-v-c73d04d0]:hover:not(:disabled){border-color:var(--error-color);background:rgba(211,47,47,.1);color:var(--error-color)}.empty-state[data-v-c73d04d0]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-lg);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-c73d04d0]{font-size:1.5rem;opacity:.6}.empty-state .empty-text[data-v-c73d04d0]{font-size:.85rem}.add-item-section[data-v-c73d04d0]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-input[data-v-c73d04d0]{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:#fff;border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;color:var(--text-color);outline:none;transition:all var(--transition-fast)}.add-input[data-v-c73d04d0]::placeholder{color:var(--text-light)}.add-input[data-v-c73d04d0]:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.1)}.add-input[data-v-c73d04d0]:disabled{background:var(--border-color-light);cursor:not-allowed}.add-btn[data-v-c73d04d0]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--accent-color);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.85rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast);white-space:nowrap}.add-btn[data-v-c73d04d0]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px)}.add-btn[data-v-c73d04d0]:disabled{opacity:.5;cursor:not-allowed;transform:none}.add-btn .add-icon[data-v-c73d04d0]{font-size:1rem;font-weight:700}.count-info[data-v-c73d04d0]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-c73d04d0]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-c73d04d0]{font-weight:600}.list-enter-active[data-v-c73d04d0],.list-leave-active[data-v-c73d04d0]{transition:all .3s ease}.list-enter-from[data-v-c73d04d0]{opacity:0;transform:translateX(-20px)}.list-leave-to[data-v-c73d04d0]{opacity:0;transform:translateX(20px)}.list-move[data-v-c73d04d0]{transition:transform .3s ease}@media (max-width:768px){.add-item-section[data-v-c73d04d0]{flex-direction:column}.add-btn[data-v-c73d04d0]{justify-content:center}.item-actions[data-v-c73d04d0]{opacity:1}.action-btn[data-v-c73d04d0]{width:28px;height:28px}}
.tree-level .tree-node .node-content[data-v-0a519f5e]{display:flex;align-items:center;padding:var(--spacing-xs) var(--spacing-sm);cursor:pointer;transition:background-color var(--transition-fast);border-radius:var(--radius-sm);margin:2px var(--spacing-xs)}.tree-level .tree-node .node-content[data-v-0a519f5e]:hover:not(.is-disabled){background:var(--hover-bg,rgba(212,175,55,0.1))}.tree-level .tree-node .node-content.is-selected[data-v-0a519f5e]{background:rgba(212,175,55,.15);color:var(--accent-color);font-weight:600}.tree-level .tree-node .node-content.is-disabled[data-v-0a519f5e]{opacity:.5;cursor:not-allowed}.tree-level .tree-node .node-content.has-children[data-v-0a519f5e]{font-weight:500}.tree-level .tree-node .expand-icon[data-v-0a519f5e]{width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.6rem;color:var(--text-light);transition:transform var(--transition-normal);flex-shrink:0}.tree-level .tree-node .expand-icon.expanded[data-v-0a519f5e]{transform:rotate(90deg)}.tree-level .tree-node .expand-icon.placeholder[data-v-0a519f5e]{visibility:hidden}.tree-level .tree-node .node-label[data-v-0a519f5e]{margin-left:var(--spacing-xs);flex:1}@media (max-width:768px){.tree-level .tree-node .node-content[data-v-0a519f5e]{min-height:44px;padding:var(--spacing-sm) var(--spacing-md)}}
.cascader-wrapper[data-v-8dd65b4a]{position:relative;width:100%}.cascader-trigger[data-v-8dd65b4a]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);cursor:pointer}.cascader-trigger[data-v-8dd65b4a]:hover:not(.is-disabled){border-color:var(--border-color-strong)}.cascader-trigger.is-open[data-v-8dd65b4a]{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1)}.cascader-trigger.is-disabled[data-v-8dd65b4a]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.cascader-trigger .selected-text[data-v-8dd65b4a]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cascader-trigger .selected-text.placeholder[data-v-8dd65b4a]{color:var(--text-light)}.cascader-trigger .trigger-arrow[data-v-8dd65b4a]{color:var(--accent-color);font-size:.7rem;transition:transform var(--transition-normal);margin-left:var(--spacing-sm)}.cascader-trigger .trigger-arrow.rotated[data-v-8dd65b4a]{transform:rotate(180deg)}.cascader-dropdown[data-v-8dd65b4a]{position:absolute;top:calc(100% + 4px);left:0;right:0;z-index:100;background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);box-shadow:var(--shadow-md);overflow:hidden}.search-box[data-v-8dd65b4a]{position:relative;padding:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.search-box .search-input[data-v-8dd65b4a]{width:100%;padding:var(--spacing-xs) var(--spacing-sm);padding-right:28px;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:.9rem;outline:none;background:var(--input-bg);color:var(--text-color)}.search-box .search-input[data-v-8dd65b4a]:focus{border-color:var(--accent-color)}.search-box .search-input[data-v-8dd65b4a]::placeholder{color:var(--text-light)}.search-box .clear-btn[data-v-8dd65b4a]{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:var(--text-light);cursor:pointer;font-size:.8rem;padding:2px 4px}.search-box .clear-btn[data-v-8dd65b4a]:hover{color:var(--text-color)}.tree-container[data-v-8dd65b4a]{max-height:300px;overflow-y:auto;padding:var(--spacing-xs) 0}.search-results[data-v-8dd65b4a]{max-height:300px;overflow-y:auto}.search-result-item[data-v-8dd65b4a]{padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;transition:background-color var(--transition-fast);font-size:.9rem}.search-result-item[data-v-8dd65b4a]:hover{background:var(--hover-bg,rgba(212,175,55,0.1))}.search-result-item.is-selected[data-v-8dd65b4a]{background:rgba(212,175,55,.15);color:var(--accent-color);font-weight:600}.search-result-item[data-v-8dd65b4a] .highlight{background:rgba(212,175,55,.3);color:inherit;padding:0 2px;border-radius:2px}.no-results[data-v-8dd65b4a]{padding:var(--spacing-md);text-align:center;color:var(--text-light);font-size:.9rem}@media (max-width:768px){.cascader-trigger[data-v-8dd65b4a]{min-height:44px}.search-result-item[data-v-8dd65b4a]{min-height:44px;display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-md)}.search-input[data-v-8dd65b4a]{min-height:40px}}
.form-input-wrapper[data-v-68bda4ea]{position:relative;width:100%}.form-input[data-v-68bda4ea]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-input[data-v-68bda4ea]::placeholder{color:var(--text-light)}.form-input[data-v-68bda4ea]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-input[data-v-68bda4ea]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-input.is-disabled[data-v-68bda4ea]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-input.is-readonly[data-v-68bda4ea]{background:var(--border-color-light);cursor:default}
.form-key-value[data-v-a1444030]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.form-key-value.is-disabled[data-v-a1444030]{opacity:.6;pointer-events:none}.kv-list[data-v-a1444030]{max-height:240px;overflow-y:auto;padding:var(--spacing-sm)}.kv-list[data-v-a1444030]::-webkit-scrollbar{width:6px}.kv-list[data-v-a1444030]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.kv-list[data-v-a1444030]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.kv-list[data-v-a1444030]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.kv-row[data-v-a1444030]{display:grid;grid-template-columns:28px 1fr auto;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);margin-bottom:var(--spacing-xs);transition:all var(--transition-fast)}.kv-row[data-v-a1444030]:last-child{margin-bottom:0}.kv-row[data-v-a1444030]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.row-index[data-v-a1444030]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-size:.75rem;font-weight:700}.row-text[data-v-a1444030]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;color:var(--text-color)}.kv-key[data-v-a1444030]{font-weight:600;color:var(--title-color)}.kv-separator[data-v-a1444030]{color:var(--text-light)}.kv-value[data-v-a1444030]{color:var(--text-color)}.row-inputs[data-v-a1444030]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--spacing-sm)}.kv-input[data-v-a1444030]{width:100%;padding:var(--spacing-xs) var(--spacing-sm);background:#fff;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:.9rem;color:var(--text-color);outline:none;transition:all var(--transition-fast)}.kv-input[data-v-a1444030]::placeholder{color:var(--text-light)}.kv-input[data-v-a1444030]:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.15)}.kv-input[data-v-a1444030]:disabled{background:var(--border-color-light);cursor:not-allowed}.row-actions[data-v-a1444030]{display:flex;gap:var(--spacing-xs)}.action-btn[data-v-a1444030]{padding:4px 10px;border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-a1444030]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-a1444030]:disabled{opacity:.5;cursor:not-allowed}.action-btn.danger[data-v-a1444030]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.action-btn.subtle[data-v-a1444030]{background:var(--input-bg)}.add-row[data-v-a1444030]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr)) auto;gap:var(--spacing-sm);padding:var(--spacing-sm);border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-btn[data-v-a1444030]{padding:var(--spacing-xs) var(--spacing-md);background:var(--accent-color);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.85rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-a1444030]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px)}.add-btn[data-v-a1444030]:disabled{opacity:.5;cursor:not-allowed;transform:none}.empty-state[data-v-a1444030]{padding:var(--spacing-lg);text-align:center;color:var(--text-light);font-size:.85rem}.count-info[data-v-a1444030]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-a1444030]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-a1444030]{font-weight:600}.kv-list-enter-active[data-v-a1444030],.kv-list-leave-active[data-v-a1444030]{transition:all .3s ease}.kv-list-enter-from[data-v-a1444030]{opacity:0;transform:translateY(-8px)}.kv-list-leave-to[data-v-a1444030]{opacity:0;transform:translateX(16px)}.kv-list-move[data-v-a1444030]{transition:transform .3s ease}@media (max-width:768px){.kv-row[data-v-a1444030]{grid-template-columns:24px 1fr}.row-actions[data-v-a1444030]{grid-column:1/-1;justify-content:flex-end}.add-row[data-v-a1444030]{grid-template-columns:1fr}}
.form-label[data-v-11a19624]{display:inline-flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);letter-spacing:.3px;cursor:pointer;transition:color var(--transition-fast)}.form-label[data-v-11a19624]:hover{color:var(--accent-color)}.form-label .required-mark[data-v-11a19624]{color:var(--error-color);font-weight:700;font-size:1.1rem;line-height:1}
.form-number-wrapper[data-v-48d2dd58]{position:relative;width:100%;display:flex;align-items:center}.form-number[data-v-48d2dd58]{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-number.has-controls[data-v-48d2dd58]{border-radius:var(--radius-md) 0 0 var(--radius-md);border-right:none}.form-number[data-v-48d2dd58]::-webkit-inner-spin-button,.form-number[data-v-48d2dd58]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form-number[type=number][data-v-48d2dd58]{-moz-appearance:textfield}.form-number[data-v-48d2dd58]::placeholder{color:var(--text-light)}.form-number[data-v-48d2dd58]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-number[data-v-48d2dd58]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-number.is-disabled[data-v-48d2dd58]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-number.is-readonly[data-v-48d2dd58]{background:var(--border-color-light);cursor:default}.number-controls[data-v-48d2dd58]{display:flex;flex-direction:column;gap:0;border:1px solid var(--border-color);border-left:none;border-radius:0 var(--radius-md) var(--radius-md) 0;background:var(--button-bg);overflow:hidden}.number-controls .control-btn[data-v-48d2dd58]{width:32px;height:20px;padding:0;border:0;background:rgba(0,0,0,0);color:var(--text-color);font-size:.7rem;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center}.number-controls .control-btn[data-v-48d2dd58]:hover:not(:disabled){background:var(--button-hover);color:var(--accent-color)}.number-controls .control-btn[data-v-48d2dd58]:active:not(:disabled){background:var(--border-color-strong)}.number-controls .control-btn[data-v-48d2dd58]:disabled{opacity:.4;cursor:not-allowed}.number-controls .control-btn.up[data-v-48d2dd58]{border-bottom:1px solid var(--border-color)}
.form-radio-group[data-v-588d959c]{display:flex;gap:var(--spacing-sm)}.form-radio-group.layout-vertical[data-v-588d959c]{flex-direction:column}.form-radio-group.layout-horizontal[data-v-588d959c]{flex-direction:row;flex-wrap:wrap}.radio-option[data-v-588d959c]{display:flex;align-items:flex-start;gap:var(--spacing-md);padding:var(--spacing-md);cursor:pointer;border-radius:var(--radius-md);transition:all var(--transition-normal);background:var(--input-bg);border:1px solid var(--border-color);position:relative}.radio-option[data-v-588d959c]:hover:not(.is-disabled){background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked[data-v-588d959c]{background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked .radio-label[data-v-588d959c]{color:var(--accent-color);font-weight:600}.radio-option.is-disabled[data-v-588d959c]{opacity:.6;cursor:not-allowed}.radio-option.is-disabled[data-v-588d959c]:hover{transform:none;box-shadow:none}.radio-option .radio-input[data-v-588d959c]{position:absolute;opacity:0;width:0;height:0}.radio-option .radio-indicator[data-v-588d959c]{width:20px;height:20px;min-width:20px;border-radius:50%;border:2px solid var(--border-color);background:#fff;flex-shrink:0;margin-top:2px;transition:all var(--transition-normal);position:relative;display:flex;align-items:center;justify-content:center}.radio-option .radio-indicator[data-v-588d959c]::after{content:"";width:10px;height:10px;border-radius:50%;background:var(--accent-color);transform:scale(0);transition:transform var(--transition-fast)}.radio-option .radio-input:focus-visible~.radio-indicator[data-v-588d959c]{box-shadow:0 0 0 3px rgba(212,175,55,.2)}.radio-option:hover:not(.is-disabled) .radio-indicator[data-v-588d959c]{border-color:var(--accent-color)}.radio-option .radio-input:checked~.radio-indicator[data-v-588d959c]{border-color:var(--accent-color);background:#fff}.radio-option .radio-input:checked~.radio-indicator[data-v-588d959c]::after{transform:scale(1)}.radio-option .radio-label[data-v-588d959c]{color:var(--text-color);font-size:1rem;line-height:1.5;word-break:break-word;flex:1;transition:color var(--transition-fast)}
.form-select-wrapper[data-v-4a660eb2]{position:relative;width:100%}.form-select[data-v-4a660eb2]{width:100%;padding:var(--spacing-sm) var(--spacing-md);padding-right:36px;background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none;cursor:pointer;-webkit-appearance:none;appearance:none}.form-select[data-v-4a660eb2]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-select[data-v-4a660eb2]:hover:not(:disabled){border-color:var(--border-color-strong)}.form-select.is-disabled[data-v-4a660eb2]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-select option[data-v-4a660eb2]{background:var(--input-bg);color:var(--text-color);padding:var(--spacing-sm)}.form-select option[data-v-4a660eb2]:disabled{color:var(--text-light)}.form-select-trigger[data-v-4a660eb2]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);cursor:pointer}.form-select-trigger[data-v-4a660eb2]:hover:not(.is-disabled){border-color:var(--border-color-strong)}.form-select-trigger.is-open[data-v-4a660eb2]{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1)}.form-select-trigger.is-disabled[data-v-4a660eb2]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-select-trigger .selected-text[data-v-4a660eb2]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select-arrow[data-v-4a660eb2]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--accent-color);font-size:.7rem;pointer-events:none;transition:transform var(--transition-normal)}.form-select:focus~.select-arrow[data-v-4a660eb2]{transform:translateY(-50%) rotate(180deg)}.form-select-trigger .select-arrow[data-v-4a660eb2]{position:static;transform:none;transition:transform var(--transition-normal)}.form-select-trigger .select-arrow.rotated[data-v-4a660eb2]{transform:rotate(180deg)}.select-dropdown[data-v-4a660eb2]{position:absolute;top:calc(100% + 4px);left:0;right:0;z-index:100;background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);box-shadow:var(--shadow-md);overflow:hidden}.search-box[data-v-4a660eb2]{position:relative;padding:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.search-box .search-input[data-v-4a660eb2]{width:100%;padding:var(--spacing-xs) var(--spacing-sm);padding-right:28px;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:.9rem;outline:none;background:var(--input-bg);color:var(--text-color)}.search-box .search-input[data-v-4a660eb2]:focus{border-color:var(--accent-color)}.search-box .search-input[data-v-4a660eb2]::placeholder{color:var(--text-light)}.search-box .clear-btn[data-v-4a660eb2]{position:absolute;right:16px;top:50%;transform:translateY(-50%);color:var(--text-light);cursor:pointer;font-size:.8rem;padding:2px 4px}.search-box .clear-btn[data-v-4a660eb2]:hover{color:var(--text-color)}.options-list[data-v-4a660eb2]{max-height:240px;overflow-y:auto}.option-item[data-v-4a660eb2]{padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;transition:background-color var(--transition-fast)}.option-item[data-v-4a660eb2]:hover:not(.is-disabled){background:var(--hover-bg,rgba(212,175,55,0.1))}.option-item.is-selected[data-v-4a660eb2]{background:rgba(212,175,55,.15);color:var(--accent-color);font-weight:600}.option-item.is-disabled[data-v-4a660eb2]{opacity:.5;cursor:not-allowed}.option-item[data-v-4a660eb2] .highlight{background:rgba(212,175,55,.3);color:inherit;padding:0 2px;border-radius:2px}.no-results[data-v-4a660eb2]{padding:var(--spacing-md);text-align:center;color:var(--text-light);font-size:.9rem}@media (max-width:768px){.option-item[data-v-4a660eb2]{min-height:44px;display:flex;align-items:center;padding:var(--spacing-md)}.search-input[data-v-4a660eb2]{min-height:40px}}
.form-stepper[data-v-bf006b3c]{display:flex;align-items:center;gap:var(--spacing-md)}.stepper-label[data-v-bf006b3c]{font-size:1rem;font-weight:600;color:var(--title-color);min-width:60px}.stepper-controls[data-v-bf006b3c]{display:flex;align-items:center;gap:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-xs)}.stepper-btn[data-v-bf006b3c]{width:32px;height:32px;border:1px solid var(--border-color);background:var(--button-bg);color:var(--text-color);border-radius:var(--radius-sm);font-size:1.2rem;font-weight:700;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;line-height:1}.stepper-btn[data-v-bf006b3c]:hover:not(:disabled){background:var(--button-hover);border-color:var(--accent-color);color:var(--accent-color)}.stepper-btn[data-v-bf006b3c]:active:not(:disabled){transform:scale(0.95)}.stepper-btn[data-v-bf006b3c]:disabled{opacity:.4;cursor:not-allowed;background:var(--border-color-light)}.stepper-btn.decrement[data-v-bf006b3c]:hover:not(:disabled){color:var(--error-color);border-color:var(--error-color)}.stepper-btn.increment[data-v-bf006b3c]:hover:not(:disabled){color:var(--success-color);border-color:var(--success-color)}.stepper-value[data-v-bf006b3c]{min-width:40px;text-align:center;font-weight:600;font-size:1.1rem;color:var(--text-color);-webkit-user-select:none;user-select:none}
.attribute-editor[data-v-e089f256]{width:100%;padding:var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md)}.attribute-editor.is-disabled[data-v-e089f256]{opacity:.6;pointer-events:none}.attribute-editor[data-v-e089f256] .label-icon{color:var(--accent-color)}.attribute-grid[data-v-e089f256]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--spacing-md)}.attribute-item[data-v-e089f256]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.total-points[data-v-e089f256]{display:flex;justify-content:flex-end;align-items:center;margin-top:var(--spacing-md);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light);font-size:.9rem}.total-points .total-label[data-v-e089f256]{color:var(--text-light)}.total-points .total-value[data-v-e089f256]{font-weight:700;color:var(--accent-color);margin-left:var(--spacing-xs)}
.equipment-editor[data-v-8ad64c50]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.equipment-editor.is-disabled[data-v-8ad64c50]{opacity:.6;pointer-events:none}.equipment-list[data-v-8ad64c50]{max-height:400px;overflow-y:auto;padding:var(--spacing-sm)}.equipment-list[data-v-8ad64c50]::-webkit-scrollbar{width:6px}.equipment-list[data-v-8ad64c50]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.equipment-list[data-v-8ad64c50]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.equipment-list[data-v-8ad64c50]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.equipment-item[data-v-8ad64c50]{background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);padding:var(--spacing-md);margin-bottom:var(--spacing-sm);transition:all var(--transition-fast)}.equipment-item[data-v-8ad64c50]:last-child{margin-bottom:0}.equipment-item[data-v-8ad64c50]:hover:not(.editing){border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.equipment-item.editing[data-v-8ad64c50]{border-color:var(--accent-color);background:rgba(212,175,55,.05)}.item-header[data-v-8ad64c50]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.item-type[data-v-8ad64c50]{padding:2px 8px;background:var(--border-color-light);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-light)}.item-name[data-v-8ad64c50]{flex:1;font-size:1rem;font-weight:600;color:var(--title-color)}.item-rarity[data-v-8ad64c50]{padding:2px 10px;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600;background:var(--rarity-color);color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.2)}.item-effect[data-v-8ad64c50]{font-size:.9rem;color:var(--text-color);margin-bottom:var(--spacing-xs)}.item-effect .effect-label[data-v-8ad64c50]{color:var(--accent-color);font-weight:600}.item-tag[data-v-8ad64c50]{margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.item-tag .tag-text[data-v-8ad64c50]{display:inline-flex;align-items:center;padding:2px 8px;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:var(--radius-sm);font-size:.8rem;color:var(--accent-color)}.effect-list[data-v-8ad64c50]{margin-top:var(--spacing-xs);display:grid;gap:4px}.effect-row[data-v-8ad64c50]{display:grid;grid-template-columns:minmax(64px,max-content) 1fr;gap:var(--spacing-xs);font-size:.85rem;color:var(--text-color)}.effect-key[data-v-8ad64c50]{color:var(--text-light);font-weight:600}.effect-value[data-v-8ad64c50]{color:var(--text-color)}.item-description[data-v-8ad64c50]{font-size:.85rem;color:var(--text-light);font-style:italic;padding-top:var(--spacing-xs);border-top:1px dashed var(--border-color-light)}.item-actions[data-v-8ad64c50]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.item-actions i[data-v-8ad64c50]{margin-right:var(--spacing-xs)}.action-btn[data-v-8ad64c50]{padding:var(--spacing-xs) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-8ad64c50]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-8ad64c50]:disabled{opacity:.5;cursor:not-allowed}.action-btn.delete[data-v-8ad64c50]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.edit-form[data-v-8ad64c50],.add-form[data-v-8ad64c50]{padding:var(--spacing-md)}.add-form[data-v-8ad64c50]{border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-form-header[data-v-8ad64c50]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.add-form-header .form-title[data-v-8ad64c50]{font-weight:600;color:var(--title-color)}.add-form-header .close-btn[data-v-8ad64c50]{width:24px;height:24px;padding:0;border:none;background:none;cursor:pointer;font-size:.9rem;color:var(--text-light);transition:color var(--transition-fast)}.add-form-header .close-btn[data-v-8ad64c50]:hover{color:var(--error-color)}.form-row[data-v-8ad64c50]{margin-bottom:var(--spacing-sm)}.form-row.half[data-v-8ad64c50]{flex:1}.form-row-group[data-v-8ad64c50]{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-sm)}.edit-actions[data-v-8ad64c50],.add-form-actions[data-v-8ad64c50]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);justify-content:flex-end}.btn-cancel[data-v-8ad64c50],.btn-save[data-v-8ad64c50],.btn-add[data-v-8ad64c50]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-cancel[data-v-8ad64c50]{background:var(--border-color-light);color:var(--text-color)}.btn-cancel[data-v-8ad64c50]:hover{background:var(--border-color)}.btn-save[data-v-8ad64c50],.btn-add[data-v-8ad64c50]{background:var(--accent-color);color:var(--primary-bg)}.btn-save[data-v-8ad64c50]:hover:not(:disabled),.btn-add[data-v-8ad64c50]:hover:not(:disabled){background:#c9a842}.btn-save[data-v-8ad64c50]:disabled,.btn-add[data-v-8ad64c50]:disabled{opacity:.5;cursor:not-allowed}.empty-state[data-v-8ad64c50]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-8ad64c50]{font-size:2rem;opacity:.6}.empty-state .empty-text[data-v-8ad64c50]{font-size:.9rem}.add-section[data-v-8ad64c50]{padding:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.add-btn[data-v-8ad64c50]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);width:100%;padding:var(--spacing-md);background:rgba(212,175,55,.1);border:2px dashed var(--accent-color);border-radius:var(--radius-md);color:var(--accent-color);font-size:.95rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-8ad64c50]:hover:not(:disabled){background:rgba(212,175,55,.2);border-style:solid}.add-btn[data-v-8ad64c50]:disabled{opacity:.5;cursor:not-allowed}.add-btn .add-icon[data-v-8ad64c50]{font-size:1.2rem;font-weight:700}.count-info[data-v-8ad64c50]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-8ad64c50]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-8ad64c50]{font-weight:600}.equip-list-enter-active[data-v-8ad64c50],.equip-list-leave-active[data-v-8ad64c50]{transition:all .3s ease}.equip-list-enter-from[data-v-8ad64c50]{opacity:0;transform:translateY(-10px)}.equip-list-leave-to[data-v-8ad64c50]{opacity:0;transform:translateX(20px)}.equip-list-move[data-v-8ad64c50]{transition:transform .3s ease}@media (max-width:768px){.form-row-group[data-v-8ad64c50]{flex-direction:column;gap:var(--spacing-sm)}.item-header[data-v-8ad64c50]{flex-wrap:wrap}.item-actions[data-v-8ad64c50]{flex-wrap:wrap}}
.skill-editor[data-v-1821fd54]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.skill-editor.is-disabled[data-v-1821fd54]{opacity:.6;pointer-events:none}.skill-list[data-v-1821fd54]{max-height:400px;overflow-y:auto;padding:var(--spacing-sm)}.skill-list[data-v-1821fd54]::-webkit-scrollbar{width:6px}.skill-list[data-v-1821fd54]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.skill-list[data-v-1821fd54]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.skill-list[data-v-1821fd54]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.skill-item[data-v-1821fd54]{background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);padding:var(--spacing-md);margin-bottom:var(--spacing-sm);transition:all var(--transition-fast)}.skill-item[data-v-1821fd54]:last-child{margin-bottom:0}.skill-item[data-v-1821fd54]:hover:not(.editing){border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.skill-item.editing[data-v-1821fd54]{border-color:var(--accent-color);background:rgba(212,175,55,.05)}.item-header[data-v-1821fd54]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.item-type[data-v-1821fd54]{padding:2px 8px;background:var(--border-color-light);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-light)}.item-name[data-v-1821fd54]{flex:1;font-size:1rem;font-weight:600;color:var(--title-color)}.item-rarity[data-v-1821fd54]{padding:2px 10px;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600;background:var(--rarity-color);color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.2)}.item-tag[data-v-1821fd54]{margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.item-tag .tag-text[data-v-1821fd54]{display:inline-flex;align-items:center;padding:2px 8px;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:var(--radius-sm);font-size:.8rem;color:var(--accent-color)}.item-consume[data-v-1821fd54]{font-size:.85rem;color:var(--text-color);margin-bottom:var(--spacing-xs)}.item-consume .consume-label[data-v-1821fd54]{color:#e91e63;font-weight:600}.item-consume .consume-text[data-v-1821fd54]{color:#c2185b}.item-effect[data-v-1821fd54]{font-size:.9rem;color:var(--text-color);margin-bottom:var(--spacing-xs);line-height:1.5}.item-effect .effect-label[data-v-1821fd54]{color:var(--accent-color);font-weight:600}.effect-list[data-v-1821fd54]{margin-top:var(--spacing-xs);display:grid;gap:4px}.effect-row[data-v-1821fd54]{display:grid;grid-template-columns:minmax(64px,max-content) 1fr;gap:var(--spacing-xs);font-size:.85rem;color:var(--text-color)}.effect-key[data-v-1821fd54]{color:var(--text-light);font-weight:600}.effect-value[data-v-1821fd54]{color:var(--text-color)}.item-description[data-v-1821fd54]{font-size:.85rem;color:var(--text-light);font-style:italic;padding-top:var(--spacing-xs);border-top:1px dashed var(--border-color-light)}.item-actions[data-v-1821fd54]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.item-actions i[data-v-1821fd54]{margin-right:var(--spacing-xs)}.action-btn[data-v-1821fd54]{padding:var(--spacing-xs) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-1821fd54]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-1821fd54]:disabled{opacity:.5;cursor:not-allowed}.action-btn.delete[data-v-1821fd54]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.edit-form[data-v-1821fd54],.add-form[data-v-1821fd54]{padding:var(--spacing-md)}.add-form[data-v-1821fd54]{border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-form-header[data-v-1821fd54]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.add-form-header .form-title[data-v-1821fd54]{font-weight:600;color:var(--title-color)}.add-form-header .close-btn[data-v-1821fd54]{width:24px;height:24px;padding:0;border:none;background:none;cursor:pointer;font-size:.9rem;color:var(--text-light);transition:color var(--transition-fast)}.add-form-header .close-btn[data-v-1821fd54]:hover{color:var(--error-color)}.form-row[data-v-1821fd54]{margin-bottom:var(--spacing-sm)}.form-row.half[data-v-1821fd54]{flex:1}.form-row-group[data-v-1821fd54]{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-sm)}.edit-actions[data-v-1821fd54],.add-form-actions[data-v-1821fd54]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);justify-content:flex-end}.btn-cancel[data-v-1821fd54],.btn-save[data-v-1821fd54],.btn-add[data-v-1821fd54]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-cancel[data-v-1821fd54]{background:var(--border-color-light);color:var(--text-color)}.btn-cancel[data-v-1821fd54]:hover{background:var(--border-color)}.btn-save[data-v-1821fd54],.btn-add[data-v-1821fd54]{background:var(--accent-color);color:var(--primary-bg)}.btn-save[data-v-1821fd54]:hover:not(:disabled),.btn-add[data-v-1821fd54]:hover:not(:disabled){background:#c9a842}.btn-save[data-v-1821fd54]:disabled,.btn-add[data-v-1821fd54]:disabled{opacity:.5;cursor:not-allowed}.empty-state[data-v-1821fd54]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-1821fd54]{font-size:2rem;opacity:.6}.empty-state .empty-text[data-v-1821fd54]{font-size:.9rem}.add-section[data-v-1821fd54]{padding:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.add-btn[data-v-1821fd54]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);width:100%;padding:var(--spacing-md);background:rgba(212,175,55,.1);border:2px dashed var(--accent-color);border-radius:var(--radius-md);color:var(--accent-color);font-size:.95rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-1821fd54]:hover:not(:disabled){background:rgba(212,175,55,.2);border-style:solid}.add-btn[data-v-1821fd54]:disabled{opacity:.5;cursor:not-allowed}.add-btn .add-icon[data-v-1821fd54]{font-size:1.2rem;font-weight:700}.count-info[data-v-1821fd54]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-1821fd54]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-1821fd54]{font-weight:600}.skill-list-enter-active[data-v-1821fd54],.skill-list-leave-active[data-v-1821fd54]{transition:all .3s ease}.skill-list-enter-from[data-v-1821fd54]{opacity:0;transform:translateY(-10px)}.skill-list-leave-to[data-v-1821fd54]{opacity:0;transform:translateX(20px)}.skill-list-move[data-v-1821fd54]{transition:transform .3s ease}@media (max-width:768px){.form-row-group[data-v-1821fd54]{flex-direction:column;gap:var(--spacing-sm)}.item-header[data-v-1821fd54]{flex-wrap:wrap}.item-actions[data-v-1821fd54]{flex-wrap:wrap}}
.custom-destined-form[data-v-01050429]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-destined-form:not(.expanded) .form-header[data-v-01050429]{border-bottom:none}.custom-destined-form .form-header[data-v-01050429]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(139,69,19,0.1) 0%,rgba(139,69,19,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-destined-form .form-header[data-v-01050429]:hover{background:linear-gradient(135deg,rgba(139,69,19,0.15) 0%,rgba(139,69,19,0.08) 100%)}.custom-destined-form .form-header .header-left[data-v-01050429]{flex:1}.custom-destined-form .form-header .form-title[data-v-01050429]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-destined-form .form-header .form-desc[data-v-01050429]{font-size:.85rem;color:var(--text-light)}.custom-destined-form .form-header .toggle-icon[data-v-01050429]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-destined-form .form-header .toggle-icon.rotated[data-v-01050429]{transform:rotate(180deg)}.custom-destined-form .form-body[data-v-01050429]{padding:var(--spacing-lg);max-height:70vh;overflow-y:auto}.custom-destined-form .form-row[data-v-01050429]{margin-bottom:var(--spacing-md)}.custom-destined-form .form-row[data-v-01050429]:last-child{margin-bottom:0}.custom-destined-form .level-buttons[data-v-01050429]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--spacing-xs)}.custom-destined-form .level-btn[data-v-01050429]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.custom-destined-form .level-btn[data-v-01050429]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-destined-form .level-btn.active[data-v-01050429]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-destined-form .cost-info[data-v-01050429]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-destined-form .cost-info .cost-value[data-v-01050429]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-destined-form .form-actions[data-v-01050429]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-01050429],.custom-destined-form .btn-submit[data-v-01050429],.custom-destined-form .btn-cancel[data-v-01050429]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-destined-form .btn-reset[data-v-01050429]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-01050429]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-destined-form .btn-cancel[data-v-01050429]{background:var(--border-color);color:var(--text-color)}.custom-destined-form .btn-cancel[data-v-01050429]:hover{background:var(--border-color-strong)}.custom-destined-form .btn-submit[data-v-01050429]{background:var(--accent-color);color:var(--primary-bg)}.custom-destined-form .btn-submit[data-v-01050429]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-destined-form .btn-submit[data-v-01050429]:disabled{opacity:.5;cursor:not-allowed}.custom-destined-form .field-hint[data-v-01050429]{margin-top:var(--spacing-xs);font-size:.8rem;color:var(--text-light);font-style:italic}@media (max-width:768px){.custom-destined-form .form-header[data-v-01050429]{padding:var(--spacing-sm) var(--spacing-md)}.custom-destined-form .form-header .header-left .form-title[data-v-01050429]{font-size:1rem}.custom-destined-form .form-header .header-left .form-desc[data-v-01050429]{font-size:.8rem}.custom-destined-form .form-header .toggle-icon[data-v-01050429]{font-size:.85rem}.custom-destined-form .form-body[data-v-01050429]{padding:var(--spacing-md);max-height:60vh}.custom-destined-form .form-row[data-v-01050429]{margin-bottom:var(--spacing-sm)}.custom-destined-form .level-buttons[data-v-01050429]{grid-template-columns:repeat(2,1fr)}.custom-destined-form .level-btn[data-v-01050429]{padding:6px var(--spacing-sm);font-size:.8rem}.custom-destined-form .form-actions[data-v-01050429]{flex-direction:column;gap:var(--spacing-sm)}}
.exchange-card[data-v-c35365ee]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.exchange-card--gold[data-v-c35365ee]{--exchange-accent:#d4af37;--exchange-accent-strong:#b8941f;--exchange-surface-start:rgba(212,175,55,0.1);--exchange-surface-end:rgba(212,175,55,0.05);--exchange-border:rgba(212,175,55,0.3);--exchange-secondary-start:#caa336;--exchange-secondary-end:#a57f1a}.exchange-card--violet[data-v-c35365ee]{--exchange-accent:#9c27b0;--exchange-accent-strong:#7b1fa2;--exchange-surface-start:rgba(156,39,176,0.1);--exchange-surface-end:rgba(156,39,176,0.05);--exchange-border:rgba(156,39,176,0.3);--exchange-secondary-start:#d4af37;--exchange-secondary-end:#b8941f}.exchange-header[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-xs);margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.exchange-header .exchange-icon[data-v-c35365ee]{font-size:1.2rem;color:var(--exchange-accent)}.exchange-header .exchange-title[data-v-c35365ee]{font-size:1rem;font-weight:600;color:var(--title-color)}.exchange-header .exchange-rate[data-v-c35365ee]{font-size:.85rem;color:var(--text-light)}.exchange-body[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-md)}.exchange-body .current-display[data-v-c35365ee]{display:flex;align-items:baseline;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,var(--exchange-surface-start) 0%,var(--exchange-surface-end) 100%);border:1px solid var(--exchange-border);border-radius:var(--radius-md);white-space:nowrap}.exchange-body .current-display .label[data-v-c35365ee]{font-size:.9rem;color:var(--text-light)}.exchange-body .current-display .value[data-v-c35365ee]{font-size:1.2rem;font-weight:700;color:var(--exchange-accent);font-family:var(--font-mono);min-width:40px;text-align:right}.exchange-body .current-display .unit[data-v-c35365ee]{font-size:.85rem;color:var(--text-light)}.exchange-body .exchange-controls[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.exchange-body .exchange-controls .exchange-input[data-v-c35365ee]{width:150px}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]{padding:var(--spacing-sm) var(--spacing-lg);background:linear-gradient(135deg,var(--exchange-accent) 0%,var(--exchange-accent-strong) 100%);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);white-space:nowrap}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:hover:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-sm)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:active:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:active:not(:disabled){transform:translateY(0)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:disabled,.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:disabled:hover,.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:disabled:hover{transform:none;box-shadow:none}.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]{background:linear-gradient(135deg,var(--exchange-secondary-start) 0%,var(--exchange-secondary-end) 100%)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);border:1px solid var(--border-color);background:rgba(0,0,0,0);color:var(--text-light);cursor:pointer;transition:var(--transition-fast)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]:hover:not(:disabled){color:var(--exchange-accent-strong);border-color:var(--exchange-accent-strong)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]:disabled{opacity:.4;cursor:not-allowed}@media (max-width:768px){.exchange-body[data-v-c35365ee]{flex-direction:column;align-items:stretch}.exchange-body .current-display[data-v-c35365ee]{justify-content:space-between}.exchange-body .exchange-controls[data-v-c35365ee]{flex-wrap:wrap}.exchange-body .exchange-controls .exchange-input[data-v-c35365ee]{flex:1}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]{flex-shrink:0}}
.level-tabs[data-v-18f949f6]{display:flex;gap:var(--spacing-md);padding:var(--spacing-md) 0}.level-tab[data-v-18f949f6]{flex:1;padding:var(--spacing-md) var(--spacing-lg);background:var(--input-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);text-align:center;font-size:1.1rem;font-weight:600;color:var(--title-color)}.level-tab[data-v-18f949f6]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateY(-2px)}.level-tab.active[data-v-18f949f6]{background:var(--accent-color);border-color:var(--accent-color);box-shadow:var(--shadow-md);color:var(--primary-bg)}@media (max-width:768px){.level-tabs[data-v-18f949f6]{gap:var(--spacing-sm)}.level-tab[data-v-18f949f6]{padding:var(--spacing-sm) var(--spacing-md);font-size:.95rem}}
.destined-one-list[data-v-253614da]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}.empty-message[data-v-253614da]{grid-column:1/-1;text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.destined-one-card[data-v-253614da]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.destined-one-card[data-v-253614da]:hover:not(.disabled){transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent-color)}.destined-one-card.selected[data-v-253614da]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md)}.destined-one-card.disabled[data-v-253614da]{opacity:.5;cursor:not-allowed}.destined-one-card.expanded .card-body[data-v-253614da]{max-height:10000px;opacity:1}.card-header[data-v-253614da]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.card-header .item-name[data-v-253614da]{font-size:1.2rem;color:var(--title-color);margin:0;flex:1}.card-header .header-actions[data-v-253614da]{display:flex;align-items:center;gap:var(--spacing-sm)}.card-header .item-cost[data-v-253614da]{font-weight:600;color:var(--accent-color);font-size:1rem}.card-header .expand-btn[data-v-253614da]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.8rem;color:var(--text-color);transition:all var(--transition-fast)}.card-header .expand-btn[data-v-253614da]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.card-summary[data-v-253614da]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs);margin-bottom:var(--spacing-sm)}.card-summary .summary-row[data-v-253614da]{display:flex;gap:var(--spacing-xs);font-size:.85rem}.card-summary .summary-row .label[data-v-253614da]{color:var(--text-light);white-space:nowrap}.card-summary .summary-row .value[data-v-253614da]{color:var(--text-color);font-weight:500}.card-body[data-v-253614da]{display:flex;flex-direction:column;gap:var(--spacing-md);max-height:0;opacity:0;overflow:hidden;transition:all var(--transition-normal)}.info-section[data-v-253614da]{padding:var(--spacing-sm) 0;border-bottom:1px solid var(--border-color-light)}.info-section[data-v-253614da]:last-child{border-bottom:none}.info-row[data-v-253614da]{display:grid;grid-template-columns:auto 1fr;gap:var(--spacing-sm);font-size:.9rem;line-height:1.6;margin-bottom:var(--spacing-xs)}.info-row .label[data-v-253614da]{color:var(--text-light);font-weight:500;white-space:nowrap}.info-row .value[data-v-253614da]{color:var(--text-color);word-break:break-word}.info-block[data-v-253614da]{margin-bottom:var(--spacing-sm)}.info-block[data-v-253614da]:last-child{margin-bottom:0}.block-title[data-v-253614da]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.95rem}.block-content[data-v-253614da]{color:var(--text-color);line-height:1.6;font-size:.85rem}.attributes[data-v-253614da]{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:var(--spacing-xs)}.attr-item[data-v-253614da]{display:flex;align-items:center;gap:var(--spacing-xs);padding:4px var(--spacing-xs);background:rgba(212,175,55,.05);border-radius:var(--radius-sm)}.attr-item .attr-label[data-v-253614da]{color:var(--text-light);font-size:.8rem}.attr-item .attr-value[data-v-253614da]{color:var(--accent-color);font-weight:600;font-size:.85rem}.equipment-list[data-v-253614da],.skills-list[data-v-253614da]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.equipment-item[data-v-253614da],.skill-item[data-v-253614da]{padding:var(--spacing-sm);background:rgba(0,0,0,.02);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.equip-name[data-v-253614da],.skill-name[data-v-253614da]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.9rem}.equip-info[data-v-253614da],.skill-tag[data-v-253614da],.skill-consume[data-v-253614da]{font-size:.8rem;color:var(--text-light);margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.effect-inline[data-v-253614da]{padding:2px 6px;background:rgba(212,175,55,.12);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-color)}.equip-desc[data-v-253614da],.skill-effect[data-v-253614da],.skill-desc[data-v-253614da]{font-size:.8rem;color:var(--text-color);line-height:1.5;margin-bottom:var(--spacing-xs)}.equip-desc[data-v-253614da]:last-child,.skill-effect[data-v-253614da]:last-child,.skill-desc[data-v-253614da]:last-child{margin-bottom:0}.skill-header[data-v-253614da]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xs)}.skill-header .skill-type[data-v-253614da]{font-size:.75rem;padding:2px var(--spacing-xs);background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-sm)}.stairway-content[data-v-253614da]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.stairway-section[data-v-253614da]{padding:var(--spacing-xs);background:rgba(0,0,0,.02);border-radius:var(--radius-sm)}.stairway-label[data-v-253614da]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.85rem}.stairway-item[data-v-253614da]{font-size:.8rem;color:var(--text-color);margin-bottom:var(--spacing-xs);line-height:1.5}.stairway-item[data-v-253614da]:last-child{margin-bottom:0}.stairway-desc[data-v-253614da]{font-size:.8rem;color:var(--text-light);line-height:1.5;margin-top:var(--spacing-xs)}.comment[data-v-253614da]{margin-top:var(--spacing-sm);padding:var(--spacing-sm);background:rgba(212,175,55,.1);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm);font-style:italic;color:var(--text-color);font-size:.85rem;line-height:1.6}@media (max-width:768px){.destined-one-list[data-v-253614da]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.destined-one-card[data-v-253614da]{padding:var(--spacing-sm)}.card-header[data-v-253614da]{flex-wrap:wrap;gap:var(--spacing-xs)}.card-header .item-name[data-v-253614da]{font-size:1.1rem;flex-basis:100%}.card-header .header-actions[data-v-253614da]{flex-basis:100%;justify-content:space-between}.card-header .item-cost[data-v-253614da]{font-size:.9rem}.card-summary[data-v-253614da]{grid-template-columns:1fr}.attributes[data-v-253614da]{grid-template-columns:repeat(2,1fr)}}
.background-page[data-v-2e7bfa8a]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto;padding:var(--spacing-md)}.section-title[data-v-2e7bfa8a]{font-size:1.5rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.destined-ones-section[data-v-2e7bfa8a]{display:flex;flex-direction:column}.destined-ones-section .section-title[data-v-2e7bfa8a]{margin-bottom:0}.destined-ones-content[data-v-2e7bfa8a]{max-height:600px;overflow-y:auto;border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--input-bg)}.destined-ones-content[data-v-2e7bfa8a]::-webkit-scrollbar{width:10px}.destined-ones-content[data-v-2e7bfa8a]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.destined-ones-content[data-v-2e7bfa8a]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.destined-ones-content[data-v-2e7bfa8a]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.background-section[data-v-2e7bfa8a]{display:flex;flex-direction:column}.summary-section[data-v-2e7bfa8a]{position:sticky;bottom:0}.summary-card[data-v-2e7bfa8a]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.summary-header[data-v-2e7bfa8a]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.summary-title-row[data-v-2e7bfa8a]{display:flex;align-items:center;gap:var(--spacing-md)}.summary-title[data-v-2e7bfa8a]{font-size:1.2rem;color:var(--title-color);margin:0}.points-info[data-v-2e7bfa8a]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:1rem;font-weight:600}.points-info .points-value[data-v-2e7bfa8a]{color:var(--accent-color);font-size:1.2rem}.points-info .points-value.insufficient[data-v-2e7bfa8a]{color:var(--error-color)}.points-info .points-separator[data-v-2e7bfa8a]{color:var(--text-light);font-size:1rem}.points-info .points-total[data-v-2e7bfa8a]{color:var(--text-light);font-size:1rem}.clear-btn[data-v-2e7bfa8a]{padding:var(--spacing-xs) var(--spacing-md);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:500;transition:all var(--transition-fast)}.clear-btn[data-v-2e7bfa8a]:hover{background:#b71c1c;transform:translateY(-1px)}.clear-btn[data-v-2e7bfa8a]:active{transform:translateY(0)}.summary-content[data-v-2e7bfa8a]{display:flex;flex-direction:column;gap:var(--spacing-md)}.summary-group[data-v-2e7bfa8a]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.summary-label[data-v-2e7bfa8a]{font-weight:600;color:var(--title-color);font-size:.95rem}.summary-items[data-v-2e7bfa8a]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.summary-item[data-v-2e7bfa8a]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.85rem;transition:all var(--transition-fast)}.summary-item.full[data-v-2e7bfa8a]{flex:1 1 100%}.summary-item.is-custom[data-v-2e7bfa8a]{cursor:pointer;border-style:dashed}.summary-item.is-custom[data-v-2e7bfa8a]:hover{border-color:#43a047;box-shadow:0 0 0 1px rgba(67,160,71,.2)}.summary-item .item-name[data-v-2e7bfa8a]{display:inline-flex;align-items:center;gap:var(--spacing-xs);color:var(--text-color)}.summary-item .item-name .name-text[data-v-2e7bfa8a]{max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.summary-item .item-name .custom-tag[data-v-2e7bfa8a]{display:inline-flex;align-items:center;gap:4px;padding:2px 6px;border-radius:var(--radius-sm);background:rgba(76,175,80,.15);color:#43a047;font-size:.75rem;font-weight:600}.summary-item .item-name .custom-tag i[data-v-2e7bfa8a]{font-size:.7rem}.summary-item .item-cost[data-v-2e7bfa8a]{color:var(--accent-color);font-weight:600}.summary-item .remove-btn[data-v-2e7bfa8a]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:var(--error-color);color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:.65rem;margin-left:auto}.summary-item .remove-btn[data-v-2e7bfa8a]:hover{background:#b71c1c}.empty-state[data-v-2e7bfa8a]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:.95rem}@media (max-width:768px){.background-page[data-v-2e7bfa8a]{gap:var(--spacing-md);padding:var(--spacing-sm)}.section-title[data-v-2e7bfa8a]{font-size:1.3rem}.destined-ones-content[data-v-2e7bfa8a]{max-height:500px}.summary-section[data-v-2e7bfa8a]{position:static}.summary-items[data-v-2e7bfa8a]{flex-direction:column}.summary-item[data-v-2e7bfa8a]{justify-content:space-between}}@media (max-width:480px){.section-title[data-v-2e7bfa8a]{font-size:1.1rem}.summary-header[data-v-2e7bfa8a]{flex-wrap:wrap;gap:var(--spacing-sm)}.summary-title-row[data-v-2e7bfa8a]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs);flex:1 1 100%}.clear-btn[data-v-2e7bfa8a]{width:100%}}
.form-row[data-v-0ab811f6]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.form-row.full-width[data-v-0ab811f6]{grid-template-columns:1fr}.form-field[data-v-0ab811f6]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.form-field label[data-v-0ab811f6]{font-weight:600;color:var(--accent-color);font-size:1rem;display:flex;align-items:center;gap:var(--spacing-xs);letter-spacing:.5px}.form-field label.required[data-v-0ab811f6]::after{content:"*";color:#ff6b6b;font-weight:bold;margin-left:2px}.level-input-group[data-v-0ab811f6]{display:flex;align-items:center;gap:var(--spacing-md)}.level-input-group .number-input-wrapper[data-v-0ab811f6]{flex:1}.level-input-group .level-indicator[data-v-0ab811f6]{padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--accent-color);font-weight:600;font-size:.9rem;white-space:nowrap}.attributes-panel[data-v-0ab811f6]{margin:var(--spacing-2xl) 0 0;background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}.attributes-panel .panel-header[data-v-0ab811f6]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(to bottom,var(--primary-bg),var(--card-bg));border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.attributes-panel .panel-header h3[data-v-0ab811f6]{margin:0;color:var(--title-color);font-size:1.2rem;font-weight:700}.attributes-panel .panel-header .ap-info[data-v-0ab811f6]{font-size:1rem;color:var(--text-color)}.attributes-panel .panel-header .ap-info strong[data-v-0ab811f6]{color:var(--accent-color);font-size:1.2rem}.attributes-panel .panel-header .ap-info strong.error[data-v-0ab811f6]{color:var(--error-color)}.attributes-panel .panel-header .ap-info strong.success[data-v-0ab811f6]{color:var(--success-color)}.attributes-panel .panel-content[data-v-0ab811f6]{padding:var(--spacing-lg)}.attributes-panel .attributes-grid[data-v-0ab811f6]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.attributes-panel .attribute-item[data-v-0ab811f6]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.attributes-panel .attribute-display[data-v-0ab811f6]{font-size:.8rem;color:var(--text-color-secondary);text-align:center;padding:var(--spacing-xs) 0;background:var(--primary-bg);border-radius:var(--radius-sm);border:1px solid var(--border-color)}.attributes-panel .attribute-display .dim[data-v-0ab811f6]{opacity:.7}.attributes-panel .attribute-display .final-value[data-v-0ab811f6]{color:var(--accent-color);font-weight:bold}.attributes-panel .status-message[data-v-0ab811f6]{padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center;font-weight:600;font-size:1rem;border:1px solid}.attributes-panel .status-message.error[data-v-0ab811f6]{background:rgba(211,47,47,.1);color:var(--error-color);border-color:var(--error-color)}.attributes-panel .status-message.success[data-v-0ab811f6]{background:rgba(56,142,60,.1);color:var(--success-color);border-color:var(--success-color)}.attributes-panel .status-message.info[data-v-0ab811f6]{background:rgba(212,175,55,.1);color:var(--accent-color);border-color:var(--accent-color)}@media (max-width:768px){.form-row[data-v-0ab811f6]{grid-template-columns:1fr}.form-row.full-width[data-v-0ab811f6]{grid-template-columns:1fr}.level-input-group[data-v-0ab811f6]{flex-direction:column;align-items:stretch}.location-field .location-options[data-v-0ab811f6]{max-height:300px}.location-field .location-option .location-label[data-v-0ab811f6]{font-size:.85rem}.attributes-panel .panel-header[data-v-0ab811f6]{flex-direction:column;align-items:stretch}.attributes-panel .attributes-grid[data-v-0ab811f6]{grid-template-columns:1fr}}
.confirm-page[data-v-22222b1f]{max-width:900px;margin:0 auto}.confirm-panel[data-v-22222b1f]{overflow:hidden}.panel-header[data-v-22222b1f]{text-align:center;padding:var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color)}.panel-header .panel-title[data-v-22222b1f]{font-size:1.6rem;color:var(--title-color);margin:0 0 var(--spacing-xs) 0;font-weight:700}.panel-header .panel-subtitle[data-v-22222b1f]{font-size:.95rem;color:var(--text-light);margin:0}.panel-content[data-v-22222b1f]{padding:var(--spacing-lg)}.points-section[data-v-22222b1f]{background:linear-gradient(135deg,rgba(212,175,55,0.05) 0%,rgba(212,175,55,0.02) 100%);border:2px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md) !important;margin-bottom:var(--spacing-lg) !important}.points-grid[data-v-22222b1f]{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-md)}.points-grid .point-item[data-v-22222b1f]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-md)}.points-grid .point-item.destiny[data-v-22222b1f]{background:linear-gradient(135deg,rgba(156,39,176,0.1) 0%,rgba(156,39,176,0.05) 100%)}.points-grid .point-item .point-label[data-v-22222b1f]{font-size:.85rem;color:var(--text-light);font-weight:500}.points-grid .point-item .point-value[data-v-22222b1f]{font-size:1.5rem;font-weight:700;font-family:var(--font-mono);color:var(--text-color)}.points-grid .point-item .point-value.gold[data-v-22222b1f]{color:var(--accent-color)}.points-grid .point-item .point-value.purple[data-v-22222b1f]{color:#9c27b0}.points-grid .point-item .point-value.positive[data-v-22222b1f]{color:var(--success-color)}.points-grid .point-item .point-value.negative[data-v-22222b1f]{color:var(--error-color)}.doc-section[data-v-22222b1f]{padding:var(--spacing-lg) 0}.doc-section[data-v-22222b1f]:last-child{border-bottom:none;padding-bottom:0}.doc-section[data-v-22222b1f]:first-child{padding-top:0}.section-title[data-v-22222b1f]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1.2rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;font-weight:700}.section-title i[data-v-22222b1f]{color:var(--accent-color)}.doc-text[data-v-22222b1f]{line-height:1.8;color:var(--text-color)}.doc-text p[data-v-22222b1f]{margin:0 0 var(--spacing-sm) 0}.doc-text p[data-v-22222b1f]:last-child{margin-bottom:0}.doc-text p strong[data-v-22222b1f]{color:var(--text-light);font-weight:600}.doc-text.attributes[data-v-22222b1f]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm) var(--spacing-lg)}.doc-text.attributes .attr-detail[data-v-22222b1f]{font-family:var(--font-mono);color:var(--accent-color);font-weight:700;font-size:1.1em}.item-entry[data-v-22222b1f],.destined-entry[data-v-22222b1f]{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-lg);border-bottom:1px dashed var(--border-color-light)}.item-entry[data-v-22222b1f]:last-child,.destined-entry[data-v-22222b1f]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.item-entry .item-title[data-v-22222b1f],.destined-entry .item-title[data-v-22222b1f]{font-size:1.05rem;margin-bottom:var(--spacing-xs) !important}.item-entry .item-title .item-quantity[data-v-22222b1f],.destined-entry .item-title .item-quantity[data-v-22222b1f]{font-size:.9rem;color:#4caf50;font-weight:600;margin-left:var(--spacing-xs)}.item-entry .item-title .item-cost[data-v-22222b1f],.destined-entry .item-title .item-cost[data-v-22222b1f]{font-size:.9rem;color:var(--accent-color);font-weight:600;font-family:var(--font-mono);margin-left:var(--spacing-xs)}.item-entry .item-meta[data-v-22222b1f],.destined-entry .item-meta[data-v-22222b1f]{font-size:.9rem;color:var(--text-light);margin-bottom:var(--spacing-xs) !important}.item-entry .item-desc[data-v-22222b1f],.destined-entry .item-desc[data-v-22222b1f]{margin-bottom:var(--spacing-xs) !important}.item-entry .effect-inline[data-v-22222b1f],.destined-entry .effect-inline[data-v-22222b1f]{display:block;margin-left:12px;margin-top:4px;padding:2px 6px;background:rgba(212,175,55,.12);border-radius:var(--radius-sm);font-size:.85rem}.item-entry .item-flavor[data-v-22222b1f],.destined-entry .item-flavor[data-v-22222b1f]{font-size:.9rem;color:var(--text-light);font-style:italic}.item-entry .sub-list[data-v-22222b1f],.destined-entry .sub-list[data-v-22222b1f]{margin-top:var(--spacing-sm);padding-left:var(--spacing-md)}.item-entry .sub-list p[data-v-22222b1f],.destined-entry .sub-list p[data-v-22222b1f]{margin-bottom:4px !important}.item-entry .sub-list p strong[data-v-22222b1f],.destined-entry .sub-list p strong[data-v-22222b1f]{color:var(--text-color)}.item-entry .sub-list .sub-item[data-v-22222b1f],.destined-entry .sub-list .sub-item[data-v-22222b1f]{font-size:.95rem;color:var(--text-light)}.background-story[data-v-22222b1f],.background-desc[data-v-22222b1f]{white-space:pre-wrap;line-height:1.8}.empty-text[data-v-22222b1f]{text-align:center;padding:var(--spacing-lg);color:var(--text-light);font-style:italic}.final-notice[data-v-22222b1f]{margin-top:var(--spacing-lg)}.final-notice .notice[data-v-22222b1f]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:var(--spacing-md);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;text-align:center}.final-notice .notice.warning[data-v-22222b1f]{background:rgba(244,67,54,.1);color:var(--error-color);border:2px solid var(--error-color)}.final-notice .notice.info[data-v-22222b1f]{background:rgba(33,150,243,.1);color:#2196f3;border:2px solid #2196f3}@media (max-width:768px){.panel-header[data-v-22222b1f]{padding:var(--spacing-md)}.panel-header .panel-title[data-v-22222b1f]{font-size:1.3rem}.panel-content[data-v-22222b1f]{padding:var(--spacing-md)}.points-grid[data-v-22222b1f]{grid-template-columns:repeat(2,1fr)}.doc-text.attributes[data-v-22222b1f]{grid-template-columns:1fr}.item-entry[data-v-22222b1f],.destined-entry[data-v-22222b1f]{margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-md)}}
.category-tabs[data-v-53e67b8a]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);margin-bottom:var(--spacing-lg)}.tab-button[data-v-53e67b8a]{flex:1;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-normal);font-size:.9rem;font-weight:600;color:var(--text-color)}.tab-button[data-v-53e67b8a]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.tab-button.active[data-v-53e67b8a]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg)}.tab-button.active .tab-icon[data-v-53e67b8a]{transform:scale(1.1)}.tab-button .tab-icon[data-v-53e67b8a]{font-size:1.2rem;transition:transform var(--transition-normal)}.tab-button .tab-label[data-v-53e67b8a]{font-family:var(--font-title);font-size:.9rem}@media (max-width:768px){.category-tabs[data-v-53e67b8a]{gap:var(--spacing-sm);padding:var(--spacing-sm)}.tab-button[data-v-53e67b8a]{flex-direction:column;padding:var(--spacing-sm);gap:var(--spacing-xs)}.tab-button .tab-icon[data-v-53e67b8a]{font-size:1.2rem}.tab-button .tab-label[data-v-53e67b8a]{font-size:.85rem}}
.custom-item-form[data-v-59c411bc]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-item-form:not(.expanded) .form-header[data-v-59c411bc]{border-bottom:none}.custom-item-form .form-header[data-v-59c411bc]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-item-form .form-header[data-v-59c411bc]:hover{background:linear-gradient(135deg,rgba(212,175,55,0.15) 0%,rgba(212,175,55,0.08) 100%)}.custom-item-form .form-header .header-left[data-v-59c411bc]{flex:1}.custom-item-form .form-header .form-title[data-v-59c411bc]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-item-form .form-header .form-desc[data-v-59c411bc]{font-size:.85rem;color:var(--text-light)}.custom-item-form .form-header .toggle-icon[data-v-59c411bc]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-item-form .form-header .toggle-icon.rotated[data-v-59c411bc]{transform:rotate(180deg)}.custom-item-form .form-body[data-v-59c411bc]{padding:var(--spacing-lg)}.custom-item-form .form-row[data-v-59c411bc]{margin-bottom:var(--spacing-md)}.custom-item-form .form-row[data-v-59c411bc]:last-child{margin-bottom:0}.custom-item-form .category-buttons[data-v-59c411bc],.custom-item-form .rarity-buttons[data-v-59c411bc]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.custom-item-form .category-btn[data-v-59c411bc]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color)}.custom-item-form .category-btn[data-v-59c411bc]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-item-form .category-btn.active[data-v-59c411bc]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-item-form .category-btn.disabled[data-v-59c411bc]{opacity:.6;cursor:not-allowed;border-style:dashed;background:var(--input-bg)}.custom-item-form .rarity-btn[data-v-59c411bc]{padding:4px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color)}.custom-item-form .rarity-btn[data-v-59c411bc]:hover{border-color:var(--rarity-color);color:var(--rarity-color)}.custom-item-form .rarity-btn.active[data-v-59c411bc]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}.custom-item-form .cost-info[data-v-59c411bc]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-item-form .cost-info .cost-value[data-v-59c411bc]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-item-form .cost-info .cost-range[data-v-59c411bc]{font-size:.8rem;color:var(--text-light)}.custom-item-form .form-actions[data-v-59c411bc]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-59c411bc],.custom-item-form .btn-submit[data-v-59c411bc],.custom-item-form .btn-cancel[data-v-59c411bc]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-item-form .btn-reset[data-v-59c411bc]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-59c411bc]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-item-form .btn-cancel[data-v-59c411bc]{background:var(--border-color);color:var(--text-color)}.custom-item-form .btn-cancel[data-v-59c411bc]:hover{background:var(--border-color-strong)}.custom-item-form .btn-submit[data-v-59c411bc]{background:var(--accent-color);color:var(--primary-bg)}.custom-item-form .btn-submit[data-v-59c411bc]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-item-form .btn-submit[data-v-59c411bc]:disabled{opacity:.5;cursor:not-allowed}@media (max-width:768px){.custom-item-form .form-header[data-v-59c411bc]{padding:var(--spacing-sm) var(--spacing-md)}.custom-item-form .form-header .header-left .form-title[data-v-59c411bc]{font-size:1rem}.custom-item-form .form-header .header-left .form-desc[data-v-59c411bc]{font-size:.8rem}.custom-item-form .form-header .toggle-icon[data-v-59c411bc]{font-size:.85rem}.custom-item-form .form-body[data-v-59c411bc]{padding:var(--spacing-md)}.custom-item-form .form-row[data-v-59c411bc]{margin-bottom:var(--spacing-sm)}.custom-item-form .category-buttons[data-v-59c411bc],.custom-item-form .rarity-buttons[data-v-59c411bc]{gap:4px}.custom-item-form .category-btn[data-v-59c411bc]{padding:6px var(--spacing-sm);font-size:.85rem}.custom-item-form .rarity-btn[data-v-59c411bc]{padding:3px var(--spacing-xs);font-size:.8rem}.custom-item-form .form-actions[data-v-59c411bc]{flex-direction:column;gap:var(--spacing-sm)}}
.item-card[data-v-6ed91820]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden}.item-card[data-v-6ed91820]::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--rarity-color);opacity:.6}.item-card[data-v-6ed91820]:hover:not(.is-disabled){border-color:var(--accent-color);box-shadow:var(--shadow-md);transform:translateY(-2px)}.item-card.is-selected[data-v-6ed91820]{border-color:var(--accent-color);background:linear-gradient(to bottom,var(--card-bg),rgba(212,175,55,0.05));box-shadow:0 0 0 2px rgba(212,175,55,.2)}.item-card.is-selected[data-v-6ed91820]::before{height:4px;opacity:1}.item-card.is-disabled[data-v-6ed91820]{opacity:.5;cursor:not-allowed}.card-header[data-v-6ed91820]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color-light)}.card-header .item-name[data-v-6ed91820]{font-size:1.1rem;font-weight:700;color:var(--title-color)}.card-header .item-rarity[data-v-6ed91820]{font-size:.9rem;font-weight:600;padding:2px 8px;border-radius:var(--radius-sm);background:rgba(0,0,0,.1)}.card-body[data-v-6ed91820]{margin-bottom:var(--spacing-md)}.card-body .item-info[data-v-6ed91820]{display:flex;gap:var(--spacing-xs);margin-bottom:var(--spacing-xs);font-size:.9rem}.card-body .item-info .info-label[data-v-6ed91820]{color:var(--text-light);font-weight:600;min-width:50px}.card-body .item-info .info-value[data-v-6ed91820]{color:var(--text-color);flex:1}.card-body .item-info .info-value.quantity[data-v-6ed91820]{font-family:monospace;font-size:.9rem;font-weight:600;color:#4caf50}.card-body .item-info .info-value.consume[data-v-6ed91820]{font-family:monospace;font-size:.85rem;color:#2196f3}.card-body .item-info .tag-list[data-v-6ed91820]{display:flex;flex-wrap:wrap;gap:6px;align-items:center}.card-body .item-info .tag-chip[data-v-6ed91820]{padding:2px 8px;font-size:.8rem;border-radius:999px;background:rgba(212,175,55,.15);color:var(--accent-color);border:1px solid rgba(212,175,55,.35);font-family:var(--font-mono)}.card-body .item-effect[data-v-6ed91820]{margin:var(--spacing-sm) 0;padding:var(--spacing-sm);background:rgba(212,175,55,.05);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.card-body .item-effect .effect-label[data-v-6ed91820]{font-size:.9rem;font-weight:600;color:var(--accent-color);margin-bottom:var(--spacing-xs)}.card-body .item-effect .effect-grid[data-v-6ed91820]{display:grid;grid-template-columns:minmax(80px,120px) 1fr;gap:6px 12px;font-size:.85rem;color:var(--text-color)}.card-body .item-effect .effect-row[data-v-6ed91820]{display:contents}.card-body .item-effect .effect-key[data-v-6ed91820]{color:var(--text-light);font-weight:600}.card-body .item-effect .effect-value[data-v-6ed91820]{color:var(--text-color)}.card-body .item-description[data-v-6ed91820]{margin-top:var(--spacing-sm);font-size:.85rem;line-height:1.6;color:var(--text-light);font-style:italic}.card-footer[data-v-6ed91820]{display:flex;justify-content:space-between;align-items:center;padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.card-footer .item-cost[data-v-6ed91820]{display:flex;gap:var(--spacing-xs);align-items:center}.card-footer .item-cost .cost-label[data-v-6ed91820]{font-size:.9rem;color:var(--text-light)}.card-footer .item-cost .cost-value[data-v-6ed91820]{font-size:1.1rem;font-weight:700;color:var(--accent-color)}.card-footer .selected-badge[data-v-6ed91820]{padding:4px 12px;background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-md);font-size:.85rem;font-weight:600}@media (max-width:768px){.item-card[data-v-6ed91820]{padding:var(--spacing-sm)}.card-header .item-name[data-v-6ed91820]{font-size:1rem}.card-header .item-rarity[data-v-6ed91820]{font-size:.8rem}.card-body .item-info[data-v-6ed91820]{font-size:.85rem}.card-body .item-effect .effect-label[data-v-6ed91820]{font-size:.85rem}.card-body .item-effect .effect-grid[data-v-6ed91820]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.card-body .item-effect .effect-row[data-v-6ed91820]{display:flex;flex-direction:column;gap:2px;padding-left:var(--spacing-xs);border-left:2px solid var(--accent-color)}.card-body .item-effect .effect-key[data-v-6ed91820]{font-size:.85rem;color:var(--accent-color)}.card-body .item-effect .effect-value[data-v-6ed91820]{font-size:.8rem;line-height:1.5}.card-body .item-description[data-v-6ed91820]{font-size:.8rem}.card-footer .item-cost .cost-label[data-v-6ed91820]{font-size:.85rem}.card-footer .item-cost .cost-value[data-v-6ed91820]{font-size:1rem}.card-footer .selected-badge[data-v-6ed91820]{font-size:.8rem;padding:3px 10px}}
.item-list[data-v-0cb1e7b4]{min-height:400px}.empty-state[data-v-0cb1e7b4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);min-height:400px}.empty-state .empty-icon[data-v-0cb1e7b4]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.5}.empty-state .empty-text[data-v-0cb1e7b4]{font-size:1.1rem;color:var(--text-light);font-style:italic}.item-grid[data-v-0cb1e7b4]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}@media (max-width:1200px){.item-grid[data-v-0cb1e7b4]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-md)}}@media (max-width:768px){.item-grid[data-v-0cb1e7b4]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.empty-state[data-v-0cb1e7b4]{padding:var(--spacing-xl);min-height:300px}.empty-state .empty-icon[data-v-0cb1e7b4]{font-size:3rem}.empty-state .empty-text[data-v-0cb1e7b4]{font-size:1rem}}
.rarity-filter[data-v-4102fea8]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-xs);background:var(--card-bg);flex-wrap:wrap}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-buttons[data-v-4102fea8]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap;flex:1}.rarity-filter .filter-btn[data-v-4102fea8]{padding:4px var(--spacing-sm);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-btn[data-v-4102fea8]:hover{border-color:var(--rarity-color);background:var(--card-bg);color:var(--rarity-color);transform:translateY(-1px)}.rarity-filter .filter-btn.active[data-v-4102fea8]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}@media (max-width:768px){.rarity-filter[data-v-4102fea8]{padding:var(--spacing-xs) var(--spacing-sm);gap:var(--spacing-sm)}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.85rem}.rarity-filter .filter-buttons[data-v-4102fea8]{gap:4px}.rarity-filter .filter-btn[data-v-4102fea8]{font-size:.8rem;padding:3px var(--spacing-xs)}}@media (max-width:480px){.rarity-filter[data-v-4102fea8]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.8rem}.rarity-filter .filter-buttons[data-v-4102fea8]{width:100%;justify-content:flex-start}.rarity-filter .filter-btn[data-v-4102fea8]{font-size:.75rem;padding:2px 6px}}
.selected-panel[data-v-68795a6e]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);display:flex;flex-direction:column;height:100%}.selected-panel .panel-header[data-v-68795a6e]{padding:var(--spacing-md);border-bottom:2px solid var(--border-color);display:flex;flex-direction:column;gap:var(--spacing-xs)}.selected-panel .panel-header .header-top[data-v-68795a6e]{display:flex;justify-content:space-between;align-items:center}.selected-panel .panel-header .title[data-v-68795a6e]{font-size:1.1rem;margin:0;color:var(--title-color);font-weight:700}.selected-panel .panel-header .count-badge[data-v-68795a6e]{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;padding:0 var(--spacing-sm);background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-weight:700;font-size:1rem}.selected-panel .panel-header .points-info[data-v-68795a6e]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:.9rem}.selected-panel .panel-header .points-info .points-label[data-v-68795a6e]{color:var(--text-light);font-weight:500}.selected-panel .panel-header .points-info .points-value[data-v-68795a6e]{font-size:1.1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-value.negative[data-v-68795a6e]{color:var(--error-color)}.selected-panel .panel-header .points-info .points-total[data-v-68795a6e]{color:var(--text-light);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-consumed[data-v-68795a6e]{color:var(--text-light);font-size:.85rem}.selected-panel .panel-body[data-v-68795a6e]{flex:1;align-content:center;overflow-y:auto;padding:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-68795a6e]{margin-bottom:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-68795a6e]:last-child{margin-bottom:0}.selected-panel .panel-body .section .section-title[data-v-68795a6e]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-xs);border-bottom:1px solid var(--border-color-light)}.selected-panel .panel-body .section .section-title .section-label[data-v-68795a6e]{display:inline-flex;align-items:center;gap:var(--spacing-xs)}.selected-panel .panel-body .section .section-title .section-label i[data-v-68795a6e]{font-size:1rem;color:var(--accent-color)}.selected-panel .panel-body .section .section-title .count[data-v-68795a6e]{font-size:.9rem;color:var(--text-light)}.selected-panel .panel-body .section .item-list[data-v-68795a6e]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.selected-panel .panel-body .section .selected-item[data-v-68795a6e]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:all var(--transition-fast)}.selected-panel .panel-body .section .selected-item[data-v-68795a6e]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.selected-panel .panel-body .section .selected-item .item-info[data-v-68795a6e]{flex:1;min-width:0}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-68795a6e]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selected-panel .panel-body .section .selected-item .item-info .item-name .name-text[data-v-68795a6e]{min-width:0;overflow:hidden;text-overflow:ellipsis}.selected-panel .panel-body .section .selected-item .item-info .item-name .item-quantity[data-v-68795a6e]{margin-left:var(--spacing-xs);font-size:.85rem;font-weight:500;color:#4caf50}.selected-panel .panel-body .section .selected-item .item-info .item-name .custom-tag[data-v-68795a6e]{flex:none;display:inline-flex;align-items:center;gap:4px;padding:2px 6px;border-radius:var(--radius-sm);background:rgba(76,175,80,.15);color:#43a047;font-size:.75rem;font-weight:600}.selected-panel .panel-body .section .selected-item .item-info .item-name .custom-tag i[data-v-68795a6e]{font-size:.7rem}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-68795a6e]{font-size:.85rem;color:var(--accent-color);font-family:var(--font-mono);margin-top:2px}.selected-panel .panel-body .section .selected-item.is-custom[data-v-68795a6e]{cursor:pointer;border-style:dashed}.selected-panel .panel-body .section .selected-item.is-custom[data-v-68795a6e]:hover{border-color:#43a047;box-shadow:0 0 0 1px rgba(67,160,71,.2)}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-68795a6e]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--error-color);color:#fff;border:none;border-radius:50%;cursor:pointer;margin-left:var(--spacing-sm);font-size:.75rem}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-68795a6e]:hover{background:#b71c1c}.selected-panel .panel-body .empty-state[data-v-68795a6e]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl) var(--spacing-lg);text-align:center}.selected-panel .panel-body .empty-state .empty-icon[data-v-68795a6e]{font-size:3rem;margin-bottom:var(--spacing-md);opacity:.5}.selected-panel .panel-body .empty-state .empty-text[data-v-68795a6e]{font-size:.95rem;color:var(--text-light);font-style:italic}.selected-panel .panel-footer[data-v-68795a6e]{padding:var(--spacing-lg);border-top:2px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.selected-panel .panel-footer .total-info[data-v-68795a6e]{display:flex;align-items:center;gap:var(--spacing-xs)}.selected-panel .panel-footer .total-info .label[data-v-68795a6e]{font-size:.95rem;color:var(--text-light)}.selected-panel .panel-footer .total-info .value[data-v-68795a6e]{font-size:1.2rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-footer .clear-btn[data-v-68795a6e]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.selected-panel .panel-footer .clear-btn[data-v-68795a6e]:hover{background:#b71c1c;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.panel-body[data-v-68795a6e]::-webkit-scrollbar{width:8px}.panel-body[data-v-68795a6e]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.panel-body[data-v-68795a6e]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.panel-body[data-v-68795a6e]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}@media (max-width:768px){.selected-panel[data-v-68795a6e]{max-height:none}.selected-panel .panel-header[data-v-68795a6e]{padding:var(--spacing-md)}.selected-panel .panel-header .title[data-v-68795a6e]{font-size:1.1rem}.selected-panel .panel-header .count-badge[data-v-68795a6e]{min-width:28px;height:28px;font-size:.9rem}.selected-panel .panel-body[data-v-68795a6e]{padding:var(--spacing-md)}.selected-panel .panel-body .section .section-title[data-v-68795a6e]{font-size:.95rem}.selected-panel .panel-body .section .selected-item[data-v-68795a6e]{padding:var(--spacing-xs) var(--spacing-sm)}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-68795a6e]{font-size:.85rem}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-68795a6e]{font-size:.8rem}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-68795a6e]{width:24px;height:24px}.selected-panel .panel-body .empty-state[data-v-68795a6e]{padding:var(--spacing-xl) var(--spacing-md)}.selected-panel .panel-body .empty-state .empty-icon[data-v-68795a6e]{font-size:2.5rem}.selected-panel .panel-body .empty-state .empty-text[data-v-68795a6e]{font-size:.9rem}.selected-panel .panel-footer[data-v-68795a6e]{padding:var(--spacing-md);flex-direction:column;align-items:stretch}.selected-panel .panel-footer .total-info[data-v-68795a6e]{justify-content:center}.selected-panel .panel-footer .total-info .label[data-v-68795a6e]{font-size:.9rem}.selected-panel .panel-footer .total-info .value[data-v-68795a6e]{font-size:1.1rem}.selected-panel .panel-footer .clear-btn[data-v-68795a6e]{width:100%;font-size:.85rem}}
.selections-container[data-v-5acd2d02]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto}.selection-area[data-v-5acd2d02]{display:flex;flex-direction:column}.custom-area[data-v-5acd2d02]{display:flex;flex-direction:column;gap:var(--spacing-md)}.summary-area[data-v-5acd2d02]{height:600px;min-height:300px}@media (max-width:768px){.selections-container[data-v-5acd2d02]{gap:var(--spacing-md)}.summary-area[data-v-5acd2d02]{height:auto;max-height:none}}
</style></head><body><div id="app"></div></body>